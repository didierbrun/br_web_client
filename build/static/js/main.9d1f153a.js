/*! For license information please see main.9d1f153a.js.LICENSE.txt */
!function(){var e={364:function(e,t,n){var r=n(416).default,i=n(515).default,a=n(122).default,o=n(588).default,s=n(808).default,u=n(993).default,c=n(861).default,l=n(424).default,d=n(115).default,f=n(704).default,p=n(61).default,h=n(860).default,m=n(467).default,v=n(156).default,g=n(728).default,y=n(690).default,k=n(655).default,b=n(389).default,_=n(496).default;e.exports=function(){var e={1665:function(e){var t;self,t=function(){return function(){var e={859:function(e){var t,n=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var n,r,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,t){n=e,r=t}));var a,o,s=Object.assign({},i),u=[],c="./this.program",l=function(e,t){throw t},d="";"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),t&&(d=t),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},o=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)};var f=i.print||console.log.bind(console),p=i.printErr||console.warn.bind(console);Object.assign(i,s),s=null,i.arguments&&(u=i.arguments),i.thisProgram&&(c=i.thisProgram),i.quit&&(l=i.quit);var h,m=i.dynamicLibraries||[];i.wasmBinary&&(h=i.wasmBinary);var v,g=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&ee("no native wasm support detected");var y,k=!1;function b(e,t){e||ee(t)}var _,w,S,x,E,T,C,j,P,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&M)return M.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function R(e,t){return e?I(S,e,t):""}function A(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function D(e,t,n){return A(e,S,t,n)}function O(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function N(e){_=e,i.HEAP8=w=new Int8Array(e),i.HEAP16=x=new Int16Array(e),i.HEAP32=T=new Int32Array(e),i.HEAPU8=S=new Uint8Array(e),i.HEAPU16=E=new Uint16Array(e),i.HEAPU32=C=new Uint32Array(e),i.HEAPF32=j=new Float32Array(e),i.HEAPF64=P=new Float64Array(e)}var L=i.INITIAL_MEMORY||16777216;(v=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:L/65536,maximum:32768}))&&(_=v.buffer),L=_.byteLength,N(_);var F,z,U,V,B=new WebAssembly.Table({initial:1533,element:"anyfunc"}),W=[],G=[],H=[],Y=[],Z=[],q=!1,$=0,K=null,X=null;function J(e){$++,i.monitorRunDependencies&&i.monitorRunDependencies($)}function Q(e){if($--,i.monitorRunDependencies&&i.monitorRunDependencies($),0==$&&(null!==K&&(clearInterval(K),K=null),X)){var t=X;X=null,t()}}function ee(e){i.onAbort&&i.onAbort(e),p(e="Aborted("+e+")"),k=!0,y=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function te(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){try{if(e==F&&h)return new Uint8Array(h);throw"both async and sync fetching of the wasm failed"}catch(e){ee(e)}}function re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}te(F="dapm_impl.wasm")||(z=F,F=i.locateFile?i.locateFile(z,d):d+z);var ie={},ae=new Set([]),oe={get:function(e,t){var n=ie[t];return n||(n=ie[t]=new WebAssembly.Global({value:"i32",mutable:!0})),ae.has(t)||(n.required=!0),n}};function se(e){for(;e.length>0;)e.shift()(i)}function ue(e){var t=0,n=0;function r(){for(var n=0,r=1;;){var i=e[t++];if(n+=(127&i)*r,r*=128,!(128&i))break}return n}function i(){var n=r();return I(e,(t+=n)-n,n)}function a(e,t){if(e)throw new Error(t)}var o="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,o);0===s.length&&(o="dylink",s=WebAssembly.Module.customSections(e,o)),a(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{a(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),a(0!==e[8],"need the dylink section to be first"),t=9;var u=r();n=t+u,o=i()}var c={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==o){c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();for(var l=r(),d=0;d<l;++d){var f=i();c.neededDynlibs.push(f)}}else for(a("dylink.0"!==o);t<n;){var p=e[t++],h=r();if(1===p)c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();else if(2===p)for(l=r(),d=0;d<l;++d)f=i(),c.neededDynlibs.push(f);else if(3===p)for(var m=r();m--;){var v=i();256&r()&&c.tlsExports.add(v)}else if(4===p)for(m=r();m--;)i(),v=i(),1==(3&r())&&c.weakImports.add(v);else t+=h}return c}function ce(e){if(e instanceof re||"unwind"==e)return y;l(1,e)}function le(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}function de(e,t){for(var n in e)if(e.hasOwnProperty(n)){Vr.hasOwnProperty(n)||(Vr[n]=e[n]);var r=le(n);i.hasOwnProperty(r)||(i[r]=e[n]),"__main_argc_argv"==n&&(i._main=e[n])}}var fe={loadedLibsByName:{},loadedLibsByHandle:{}},pe=[];function he(e){var t=pe[e];return t||(e>=pe.length&&(pe.length=e+1),pe[e]=t=B.get(e)),t}function me(e,t,n){return e.includes("j")?function(e,t,n){var r=i["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):he(t).apply(null,n)}var ve=5652912;function ge(e,t){return S.fill(0,e,e+t),e}function ye(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function ke(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}function be(e,t){if(_e)for(var n=e;n<e+t;n++){var r=he(n);r&&_e.set(r,n)}}var _e=void 0,we=[];function Se(e,t){B.set(e,t),pe[e]=B.get(e)}function xe(e,t){if(_e||(_e=new WeakMap,be(0,B.length)),_e.has(e))return _e.get(e);var n=function(){if(we.length)return we.pop();try{B.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return B.length-1}();try{Se(n,e)}catch(i){if(!(i instanceof TypeError))throw i;var r=function(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var t={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)n.parameters.push(t[e[r]]);return n}(t),e);var n=[1,96],r=t.slice(0,1),i=t.slice(1),a={i:127,p:127,j:126,f:125,d:124};ke(i.length,n);for(var o=0;o<i.length;++o)n.push(a[i[o]]);"v"==r?n.push(0):n.push(1,a[r]);var s=[0,97,115,109,1,0,0,0,1];ke(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);Se(n,r)}return _e.set(e,n),n}function Ee(e,t,n){var r={};for(var i in e){var a=e[i];"object"==typeof a&&(a=a.value),"number"==typeof a&&(a+=t),r[i]=a}return function(e,t){for(var n in e)if(!ye(n)){var r=e[n];n.startsWith("orig$")&&(n=n.split("$")[1],t=!0),ie[n]||(ie[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||0==ie[n].value)&&("function"==typeof r?ie[n].value=xe(r):"number"==typeof r?ie[n].value=r:"bigint"==typeof r?ie[n].value=Number(r):p("unhandled export type for `"+n+"`: "+typeof r))}}(r,n),r}function Te(e,t){var n,r;return t&&(n=Vr["orig$"+e]),n||(n=Vr[e])&&n.stub&&(n=void 0),n||(n=i[le(e)]),!n&&e.startsWith("invoke_")&&(r=e.split("_")[1],n=function(){var e=Kr();try{return me(r,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(Xr(e),t!==t+0)throw t;qr(1,0)}}),!n&&e.startsWith("__cxa_find_matching_catch")&&(n=i.___cxa_find_matching_catch),n}function Ce(e,t){return Math.ceil(e/t)*t}function je(e,t,n){var r=ue(e);function i(){if(n&&w[n+24>>0])a=C[n+28>>2],o=C[n+36>>2];else{var i=Math.pow(2,r.memoryAlign);i=Math.max(i,16);var a=r.memorySize?Ce(function(e){if(q)return ge(Wr(e),e);var t=ve,n=t+e+15&-16;return ve=n,ie.__heap_base.value=n,t}(r.memorySize+i),i):0,o=r.tableSize?B.length:0;n&&(w[n+24>>0]=1,C[n+28>>2]=a,T[n+32>>2]=r.memorySize,C[n+36>>2]=o,T[n+40>>2]=r.tableSize)}var s,u=o+r.tableSize-B.length;u>0&&B.grow(u);var c={get:function(e,t){switch(t){case"__memory_base":return a;case"__table_base":return o}return t in Vr?Vr[t]:(t in e||(e[t]=function(){return n||(n=function(e){var t=Te(e,!1);return t||(t=s[e]),t}(t)),n.apply(null,arguments)}),e[t]);var n}},l=new Proxy({},c),d={"GOT.mem":new Proxy({},oe),"GOT.func":new Proxy({},oe),env:l,wasi_snapshot_preview1:l};function f(e){be(o,r.tableSize),s=Ee(e.exports,a),t.allowUndefined||Me();var n=s.__wasm_apply_data_relocs;n&&(q?n():Z.push(n));var i=s.__wasm_call_ctors;return i&&(q?i():G.push(i)),s}if(t.loadAsync){if(e instanceof WebAssembly.Module){var p=new WebAssembly.Instance(e,d);return Promise.resolve(f(p))}return WebAssembly.instantiate(e,d).then((function(e){return f(e.instance)}))}var h=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(p=new WebAssembly.Instance(h,d))}return ae=r.weakImports,t.loadAsync?r.neededDynlibs.reduce((function(e,n){return e.then((function(){return Pe(n,t)}))}),Promise.resolve()).then((function(){return i()})):(r.neededDynlibs.forEach((function(e){Pe(e,t)})),i())}function Pe(e,t,n){t=t||{global:!0,nodelete:!0};var r=fe.loadedLibsByName[e];if(r)return t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&de(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(fe.loadedLibsByHandle[n]=r),!t.loadAsync||Promise.resolve(!0);function i(e){if(t.fs&&t.fs.findObject(e)){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}if(t.loadAsync)return new Promise((function(t,n){o(e,(function(e){return t(new Uint8Array(e))}),n)}));throw new Error(e+": file not found, and synchronous loading of external files is not available")}function a(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var r=preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?i(e).then((function(e){return je(e,t,n)})):je(i(e),t,n)}function s(e){r.global&&de(e),r.module=e}return r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},fe.loadedLibsByName[e]=r,n&&(fe.loadedLibsByHandle[n]=r),t.loadAsync?a().then((function(e){return s(e),!0})):(s(a()),!0)}function Me(){for(var e in ie)if(0==ie[e].value){var t=Te(e,!0);if(!t&&!ie[e].required)continue;if("function"==typeof t)ie[e].value=xe(t,t.sig);else{if("number"!=typeof t)throw new Error("bad export type for `"+e+"`: "+typeof t);ie[e].value=t}}}function Ie(e){return Wr(e+24)+24}i.___cxa_allocate_exception=Ie,Ie.sig="pp";var Re=[];function Ae(e){e.add_ref()}var De=0;function Oe(e){var t=new Ne(e);return t.get_caught()||(t.set_caught(!0),De--),t.set_rethrown(!1),Re.push(t),Ae(t),t.get_exception_ptr()}function Ne(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){C[this.ptr+4>>2]=e},this.get_type=function(){return C[this.ptr+4>>2]},this.set_destructor=function(e){C[this.ptr+8>>2]=e},this.get_destructor=function(){return C[this.ptr+8>>2]},this.set_refcount=function(e){T[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,w[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=w[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,w[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=w[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=T[this.ptr>>2];T[this.ptr>>2]=e+1},this.release_ref=function(){var e=T[this.ptr>>2];return T[this.ptr>>2]=e-1,1===e},this.set_adjusted_ptr=function(e){C[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return C[this.ptr+16>>2]},this.get_exception_ptr=function(){if(i.___cxa_is_pointer_type(this.get_type()))return C[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function Le(e){return Gr(new Ne(e).ptr)}function Fe(e){if(e.release_ref()&&!e.get_rethrown()){var t=e.get_destructor();t&&he(t)(e.excPtr),Le(e.excPtr)}}function ze(e){e&&Fe(new Ne(e))}i.___cxa_begin_catch=Oe,Oe.sig="pp",i.___cxa_free_exception=Le,Le.sig="vp",ze.sig="vp";var Ue=0;function Ve(){qr(0),Fe(Re.pop()),Ue=0}function Be(e){throw Ue||(Ue=e),e}function We(){var e=Ue;if(!e)return $r(0),0;var t=new Ne(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return $r(0),e;for(var r=0;r<arguments.length;r++){var a=arguments[r];if(0===a||a===n)break;var o=t.ptr+16;if(i.___cxa_can_catch(a,n,o))return $r(a),e}return $r(n),e}function Ge(){var e=Ue;if(!e)return $r(0),0;var t=new Ne(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return $r(0),e;for(var r=0;r<arguments.length;r++){var a=arguments[r];if(0===a||a===n)break;var o=t.ptr+16;if(i.___cxa_can_catch(a,n,o))return $r(a),e}return $r(n),e}function He(){var e=Ue;if(!e)return $r(0),0;var t=new Ne(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return $r(0),e;for(var r=0;r<arguments.length;r++){var a=arguments[r];if(0===a||a===n)break;var o=t.ptr+16;if(i.___cxa_can_catch(a,n,o))return $r(a),e}return $r(n),e}function Ye(e){return new Ne(e).get_exception_ptr()}function Ze(e){e&&Ae(new Ne(e))}function qe(){var e=Re.pop();e||ee("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Re.push(e),e.set_rethrown(!0),e.set_caught(!1),De++),Ue=t,t}function $e(e,t,n){throw new Ne(e).init(t,n),Ue=e,De++,e}i.___cxa_end_catch=Ve,Ve.sig="v",i.___resumeException=Be,Be.sig="vp",i.___cxa_find_matching_catch_2=We,We.sig="ppp",i.___cxa_find_matching_catch_3=Ge,Ge.sig="pppp",He.sig="ppppp",Ye.sig="pp",Ze.sig="vp",i.___cxa_rethrow=qe,qe.sig="v",i.___cxa_throw=$e,$e.sig="vppp";var Ke=new WebAssembly.Global({value:"i32",mutable:!1},1024);i.___memory_base=Ke;var Xe=new WebAssembly.Global({value:"i32",mutable:!0},5652912);i.___stack_pointer=Xe;var Je={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=Je.isAbs(e),n="/"===e.substr(-1);return(e=Je.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Je.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Je.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return Je.normalize(e.join("/"))},join2:function(e,t){return Je.normalize(e+"/"+t)}};function Qe(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){return ee("randomDevice")}}var et={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:at.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=Je.isAbs(r)}return(t?"/":"")+(e=Je.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=et.resolve(e).substr(1),t=et.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}var u=[];for(s=o;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}};function tt(e,t,n){var r=n>0?n:O(e)+1,i=new Array(r),a=A(e,i,0,i.length);return t&&(i.length=a),i}var nt={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){nt.ttys[e]={input:[],output:[],ops:t},at.registerDevice(e,nt.stream_ops)},stream_ops:{open:function(e){var t=nt.ttys[e.node.rdev];if(!t)throw new at.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new at.ErrnoError(60);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new at.ErrnoError(29)}if(void 0===s&&0===a)throw new at.ErrnoError(6);if(null==s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new at.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new at.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=tt(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(f(I(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(f(I(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(p(I(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(p(I(e.output,0)),e.output=[])}}};function rt(e){e=Ce(e,65536);var t=Zr(65536,e);return t?ge(t,e):0}var it={ops_table:null,mount:function(e){return it.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(at.isBlkdev(n)||at.isFIFO(n))throw new at.ErrnoError(63);it.ops_table||(it.ops_table={dir:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr,lookup:it.node_ops.lookup,mknod:it.node_ops.mknod,rename:it.node_ops.rename,unlink:it.node_ops.unlink,rmdir:it.node_ops.rmdir,readdir:it.node_ops.readdir,symlink:it.node_ops.symlink},stream:{llseek:it.stream_ops.llseek}},file:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr},stream:{llseek:it.stream_ops.llseek,read:it.stream_ops.read,write:it.stream_ops.write,allocate:it.stream_ops.allocate,mmap:it.stream_ops.mmap,msync:it.stream_ops.msync}},link:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr,readlink:it.node_ops.readlink},stream:{}},chrdev:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr},stream:at.chrdev_stream_ops}});var i=at.createNode(e,t,n,r);return at.isDir(i.mode)?(i.node_ops=it.ops_table.dir.node,i.stream_ops=it.ops_table.dir.stream,i.contents={}):at.isFile(i.mode)?(i.node_ops=it.ops_table.file.node,i.stream_ops=it.ops_table.file.stream,i.usedBytes=0,i.contents=null):at.isLink(i.mode)?(i.node_ops=it.ops_table.link.node,i.stream_ops=it.ops_table.link.stream):at.isChrdev(i.mode)&&(i.node_ops=it.ops_table.chrdev.node,i.stream_ops=it.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=at.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,at.isDir(e.mode)?t.size=4096:at.isFile(e.mode)?t.size=e.usedBytes:at.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&it.resizeFileStorage(e,t.size)},lookup:function(e,t){throw at.genericErrors[44]},mknod:function(e,t,n,r){return it.createNode(e,t,n,r)},rename:function(e,t,n){if(at.isDir(e.mode)){var r;try{r=at.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new at.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=at.lookupNode(e,t);for(var r in n.contents)throw new at.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=it.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!at.isLink(e.mode))throw new at.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write:function(e,t,n,r,i,a){if(t.buffer===w.buffer&&(a=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(it.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&at.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new at.ErrnoError(28);return r},allocate:function(e,t,n){it.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i){if(!at.isFile(e.node.mode))throw new at.ErrnoError(43);var a,o,s=e.node.contents;if(2&i||s.buffer!==_){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),o=!0,!(a=rt(t)))throw new at.ErrnoError(48);w.set(s,a)}else o=!1,a=s.byteOffset;return{ptr:a,allocated:o}},msync:function(e,t,n,r,i){if(!at.isFile(e.node.mode))throw new at.ErrnoError(43);return 2&i||it.stream_ops.write(e,t,0,r,n,!1),0}}},at={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=et.resolve(at.cwd(),e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new at.ErrnoError(32);for(var n=Je.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),r=at.root,i="/",a=0;a<n.length;a++){var o=a===n.length-1;if(o&&t.parent)break;if(r=at.lookupNode(r,n[a]),i=Je.join2(i,n[a]),at.isMountpoint(r)&&(!o||o&&t.follow_mount)&&(r=r.mounted.root),!o||t.follow)for(var s=0;at.isLink(r.mode);){var u=at.readlink(i);if(i=et.resolve(Je.dirname(i),u),r=at.lookupPath(i,{recurse_count:t.recurse_count+1}).node,s++>40)throw new at.ErrnoError(32)}}return{path:i,node:r}},getPath:function(e){for(var t;;){if(at.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%at.nameTable.length},hashAddNode:function(e){var t=at.hashName(e.parent.id,e.name);e.name_next=at.nameTable[t],at.nameTable[t]=e},hashRemoveNode:function(e){var t=at.hashName(e.parent.id,e.name);if(at.nameTable[t]===e)at.nameTable[t]=e.name_next;else for(var n=at.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=at.mayLookup(e);if(n)throw new at.ErrnoError(n,e);for(var r=at.hashName(e.id,t),i=at.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return at.lookup(e,t)},createNode:function(e,t,n,r){var i=new at.FSNode(e,t,n,r);return at.hashAddNode(i),i},destroyNode:function(e){at.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=at.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return at.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return at.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return at.lookupNode(e,t),20}catch(e){}return at.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=at.lookupNode(e,t)}catch(e){return e.errno}var i=at.nodePermissions(e,"wx");if(i)return i;if(n){if(!at.isDir(r.mode))return 54;if(at.isRoot(r)||at.getPath(r)===at.cwd())return 10}else if(at.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?at.isLink(e.mode)?32:at.isDir(e.mode)&&("r"!==at.flagsToPermissionString(t)||512&t)?31:at.nodePermissions(e,at.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at.MAX_OPEN_FDS,n=e;n<=t;n++)if(!at.streams[n])return n;throw new at.ErrnoError(33)},getStream:function(e){return at.streams[e]},createStream:function(e,t,n){at.FSStream||(at.FSStream=function(){this.shared={}},at.FSStream.prototype={},Object.defineProperties(at.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new at.FSStream,e);var r=at.nextfd(t,n);return e.fd=r,at.streams[r]=e,e},closeStream:function(e){at.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=at.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new at.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){at.devices[e]={stream_ops:t}},getDevice:function(e){return at.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),at.syncFSRequests++,at.syncFSRequests>1&&p("warning: "+at.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=at.getMounts(at.root.mount),r=0;function i(e){return at.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&at.root)throw new at.ErrnoError(10);if(!i&&!a){var o=at.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,at.isMountpoint(r))throw new at.ErrnoError(10);if(!at.isDir(r.mode))throw new at.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?at.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=at.lookupPath(e,{follow_mount:!1});if(!at.isMountpoint(t.node))throw new at.ErrnoError(28);var n=t.node,r=n.mounted,i=at.getMounts(r);Object.keys(at.nameTable).forEach((function(e){for(var t=at.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&at.destroyNode(t),t=n}})),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=at.lookupPath(e,{parent:!0}).node,i=Je.basename(e);if(!i||"."===i||".."===i)throw new at.ErrnoError(28);var a=at.mayCreate(r,i);if(a)throw new at.ErrnoError(a);if(!r.node_ops.mknod)throw new at.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,at.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,at.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{at.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,at.mknod(e,t,n)},symlink:function(e,t){if(!et.resolve(e))throw new at.ErrnoError(44);var n=at.lookupPath(t,{parent:!0}).node;if(!n)throw new at.ErrnoError(44);var r=Je.basename(t),i=at.mayCreate(n,r);if(i)throw new at.ErrnoError(i);if(!n.node_ops.symlink)throw new at.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Je.dirname(e),a=Je.dirname(t),o=Je.basename(e),s=Je.basename(t);if(n=at.lookupPath(e,{parent:!0}).node,r=at.lookupPath(t,{parent:!0}).node,!n||!r)throw new at.ErrnoError(44);if(n.mount!==r.mount)throw new at.ErrnoError(75);var u,c=at.lookupNode(n,o),l=et.relative(e,a);if("."!==l.charAt(0))throw new at.ErrnoError(28);if("."!==(l=et.relative(t,i)).charAt(0))throw new at.ErrnoError(55);try{u=at.lookupNode(r,s)}catch(e){}if(c!==u){var d=at.isDir(c.mode),f=at.mayDelete(n,o,d);if(f)throw new at.ErrnoError(f);if(f=u?at.mayDelete(r,s,d):at.mayCreate(r,s))throw new at.ErrnoError(f);if(!n.node_ops.rename)throw new at.ErrnoError(63);if(at.isMountpoint(c)||u&&at.isMountpoint(u))throw new at.ErrnoError(10);if(r!==n&&(f=at.nodePermissions(n,"w")))throw new at.ErrnoError(f);at.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(e){throw e}finally{at.hashAddNode(c)}}},rmdir:function(e){var t=at.lookupPath(e,{parent:!0}).node,n=Je.basename(e),r=at.lookupNode(t,n),i=at.mayDelete(t,n,!0);if(i)throw new at.ErrnoError(i);if(!t.node_ops.rmdir)throw new at.ErrnoError(63);if(at.isMountpoint(r))throw new at.ErrnoError(10);t.node_ops.rmdir(t,n),at.destroyNode(r)},readdir:function(e){var t=at.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new at.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=at.lookupPath(e,{parent:!0}).node;if(!t)throw new at.ErrnoError(44);var n=Je.basename(e),r=at.lookupNode(t,n),i=at.mayDelete(t,n,!1);if(i)throw new at.ErrnoError(i);if(!t.node_ops.unlink)throw new at.ErrnoError(63);if(at.isMountpoint(r))throw new at.ErrnoError(10);t.node_ops.unlink(t,n),at.destroyNode(r)},readlink:function(e){var t=at.lookupPath(e).node;if(!t)throw new at.ErrnoError(44);if(!t.node_ops.readlink)throw new at.ErrnoError(28);return et.resolve(at.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=at.lookupPath(e,{follow:!t}).node;if(!n)throw new at.ErrnoError(44);if(!n.node_ops.getattr)throw new at.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return at.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?at.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new at.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){at.chmod(e,t,!0)},fchmod:function(e,t){var n=at.getStream(e);if(!n)throw new at.ErrnoError(8);at.chmod(n.node,t)},chown:function(e,t,n,r){var i;if(!(i="string"==typeof e?at.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new at.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){at.chown(e,t,n,!0)},fchown:function(e,t,n){var r=at.getStream(e);if(!r)throw new at.ErrnoError(8);at.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new at.ErrnoError(28);var n;if(!(n="string"==typeof e?at.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new at.ErrnoError(63);if(at.isDir(n.mode))throw new at.ErrnoError(31);if(!at.isFile(n.mode))throw new at.ErrnoError(28);var r=at.nodePermissions(n,"w");if(r)throw new at.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=at.getStream(e);if(!n)throw new at.ErrnoError(8);if(0==(2097155&n.flags))throw new at.ErrnoError(28);at.truncate(n.node,t)},utime:function(e,t,n){var r=at.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new at.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?at.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)r=e;else{e=Je.normalize(e);try{r=at.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(r){if(128&t)throw new at.ErrnoError(20)}else r=at.mknod(e,n,0),a=!0;if(!r)throw new at.ErrnoError(44);if(at.isChrdev(r.mode)&&(t&=-513),65536&t&&!at.isDir(r.mode))throw new at.ErrnoError(54);if(!a){var o=at.mayOpen(r,t);if(o)throw new at.ErrnoError(o)}512&t&&!a&&at.truncate(r,0),t&=-131713;var s=at.createStream({node:r,path:at.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!i.logReadFiles||1&t||(at.readFiles||(at.readFiles={}),e in at.readFiles||(at.readFiles[e]=1)),s},close:function(e){if(at.isClosed(e))throw new at.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{at.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(at.isClosed(e))throw new at.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new at.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new at.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new at.ErrnoError(28);if(at.isClosed(e))throw new at.ErrnoError(8);if(1==(2097155&e.flags))throw new at.ErrnoError(8);if(at.isDir(e.node.mode))throw new at.ErrnoError(31);if(!e.stream_ops.read)throw new at.ErrnoError(28);var a=void 0!==i;if(a){if(!e.seekable)throw new at.ErrnoError(70)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new at.ErrnoError(28);if(at.isClosed(e))throw new at.ErrnoError(8);if(0==(2097155&e.flags))throw new at.ErrnoError(8);if(at.isDir(e.node.mode))throw new at.ErrnoError(31);if(!e.stream_ops.write)throw new at.ErrnoError(28);e.seekable&&1024&e.flags&&at.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new at.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);return o||(e.position+=s),s},allocate:function(e,t,n){if(at.isClosed(e))throw new at.ErrnoError(8);if(t<0||n<=0)throw new at.ErrnoError(28);if(0==(2097155&e.flags))throw new at.ErrnoError(8);if(!at.isFile(e.node.mode)&&!at.isDir(e.node.mode))throw new at.ErrnoError(43);if(!e.stream_ops.allocate)throw new at.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i){if(0!=(2&r)&&0==(2&i)&&2!=(2097155&e.flags))throw new at.ErrnoError(2);if(1==(2097155&e.flags))throw new at.ErrnoError(2);if(!e.stream_ops.mmap)throw new at.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new at.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=at.open(e,t.flags),i=at.stat(e).size,a=new Uint8Array(i);return at.read(r,a,0,i,0),"utf8"===t.encoding?n=I(a,0):"binary"===t.encoding&&(n=a),at.close(r),n},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=at.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(O(t)+1),a=A(t,i,0,i.length);at.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");at.write(r,t,0,t.byteLength,void 0,n.canOwn)}at.close(r)},cwd:function(){return at.currentPath},chdir:function(e){var t=at.lookupPath(e,{follow:!0});if(null===t.node)throw new at.ErrnoError(44);if(!at.isDir(t.node.mode))throw new at.ErrnoError(54);var n=at.nodePermissions(t.node,"x");if(n)throw new at.ErrnoError(n);at.currentPath=t.path},createDefaultDirectories:function(){at.mkdir("/tmp"),at.mkdir("/home"),at.mkdir("/home/web_user")},createDefaultDevices:function(){at.mkdir("/dev"),at.registerDevice(at.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),at.mkdev("/dev/null",at.makedev(1,3)),nt.register(at.makedev(5,0),nt.default_tty_ops),nt.register(at.makedev(6,0),nt.default_tty1_ops),at.mkdev("/dev/tty",at.makedev(5,0)),at.mkdev("/dev/tty1",at.makedev(6,0));var e=Qe();at.createDevice("/dev","random",e),at.createDevice("/dev","urandom",e),at.mkdir("/dev/shm"),at.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){at.mkdir("/proc");var e=at.mkdir("/proc/self");at.mkdir("/proc/self/fd"),at.mount({mount:function(){var t=at.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=at.getStream(n);if(!r)throw new at.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?at.createDevice("/dev","stdin",i.stdin):at.symlink("/dev/tty","/dev/stdin"),i.stdout?at.createDevice("/dev","stdout",null,i.stdout):at.symlink("/dev/tty","/dev/stdout"),i.stderr?at.createDevice("/dev","stderr",null,i.stderr):at.symlink("/dev/tty1","/dev/stderr"),at.open("/dev/stdin",0),at.open("/dev/stdout",1),at.open("/dev/stderr",1)},ensureErrnoError:function(){at.ErrnoError||(at.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},at.ErrnoError.prototype=new Error,at.ErrnoError.prototype.constructor=at.ErrnoError,[44].forEach((function(e){at.genericErrors[e]=new at.ErrnoError(e),at.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){at.ensureErrnoError(),at.nameTable=new Array(4096),at.mount(it,{},"/"),at.createDefaultDirectories(),at.createDefaultDevices(),at.createSpecialDirectories(),at.filesystems={MEMFS:it}},init:function(e,t,n){at.init.initialized=!0,at.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=n||i.stderr,at.createStandardStreams()},quit:function(){at.init.initialized=!1;for(var e=0;e<at.streams.length;e++){var t=at.streams[e];t&&at.close(t)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=at.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=at.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=at.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Je.basename(e),r=at.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:at.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=Je.join2(e,a);try{at.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=Je.join2("string"==typeof e?e:at.getPath(e),t),o=at.getMode(r,i);return at.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t;e&&(e="string"==typeof e?e:at.getPath(e),o=t?Je.join2(e,t):e);var s=at.getMode(r,i),u=at.create(o,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,d=n.length;l<d;++l)c[l]=n.charCodeAt(l);n=c}at.chmod(u,146|s);var f=at.open(u,577);at.write(f,n,0,n.length,0,a),at.close(f),at.chmod(u,s)}return u},createDevice:function(e,t,n,r){var i=Je.join2("string"==typeof e?e:at.getPath(e),t),a=at.getMode(!!n,!!r);at.createDevice.major||(at.createDevice.major=64);var o=at.makedev(at.createDevice.major++,0);return at.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var u;try{u=n()}catch(e){throw new at.ErrnoError(29)}if(void 0===u&&0===o)throw new at.ErrnoError(6);if(null==u)break;o++,t[r+s]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new at.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),at.mkdev(i,a,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=tt(a(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new at.ErrnoError(29)}},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}var o;if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=r);var s=this;s.setDataGetter((function(e){var t=e*o,i=(e+1)*o-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):tt(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&r||(o=r=1,r=this.getter(0).length,o=r,f("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";o={isDevice:!1,url:n};var s=at.createFile(e,t,o,r,i);o.contents?s.contents=o.contents:o.url&&(s.contents=null,s.url=o.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,n,r,i){var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(s=0;s<o;s++)t[n+s]=a.get(i+s);return o}return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];u[e]=function(){return at.forceLoadFile(s),t.apply(null,arguments)}})),u.read=function(e,t,n,r,i){return at.forceLoadFile(s),c(e,t,n,r,i)},u.mmap=function(e,t,n,r,i){at.forceLoadFile(s);var a=rt(t);if(!a)throw new at.ErrnoError(48);return c(e,w,a,t,n),{ptr:a,allocated:!0}},s.stream_ops=u,s},createPreloadedFile:function(e,t,n,r,i,a,s,u,c,l){var d=t?et.resolve(Je.join2(e,t)):e;function f(n){function o(n){l&&l(),u||at.createDataFile(e,t,n,r,i,c),a&&a(),Q()}Browser.handledByPreloadPlugin(n,d,o,(function(){s&&s(),Q()}))||o(n)}J(),"string"==typeof n?function(e,t,n,r){var i="al "+e;o(e,(function(t){b(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),f(new Uint8Array(t)),i&&Q()}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),i&&J()}(n,0,s):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=at.indexedDB();try{var i=r.open(at.DB_NAME(),at.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){f("creating db"),i.result.createObjectStore(at.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([at.DB_STORE_NAME],"readwrite"),a=r.objectStore(at.DB_STORE_NAME),o=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((function(e){var t=a.put(at.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+s==u&&c()},t.onerror=function(){s++,o+s==u&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=at.indexedDB();try{var i=r.open(at.DB_NAME(),at.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var a=r.transaction([at.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var o=a.objectStore(at.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():n()}e.forEach((function(e){var t=o.get(e);t.onsuccess=function(){at.analyzePath(e).exists&&at.unlink(e),at.createDataFile(Je.dirname(e),Je.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=function(){u++,s+u==c&&l()}})),a.onerror=n},i.onerror=n}},ot={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(Je.isAbs(t))return t;var r;if(r=-100===e?at.cwd():ot.getStreamFromFD(e).path,0==t.length){if(!n)throw new at.ErrnoError(44);return r}return Je.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Je.normalize(t)!==Je.normalize(at.getPath(e.node)))return-54;throw e}return T[n>>2]=r.dev,T[n+8>>2]=r.ino,T[n+12>>2]=r.mode,C[n+16>>2]=r.nlink,T[n+20>>2]=r.uid,T[n+24>>2]=r.gid,T[n+28>>2]=r.rdev,V=[r.size>>>0,(U=r.size,+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[n+40>>2]=V[0],T[n+44>>2]=V[1],T[n+48>>2]=4096,T[n+52>>2]=r.blocks,V=[Math.floor(r.atime.getTime()/1e3)>>>0,(U=Math.floor(r.atime.getTime()/1e3),+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[n+56>>2]=V[0],T[n+60>>2]=V[1],C[n+64>>2]=0,V=[Math.floor(r.mtime.getTime()/1e3)>>>0,(U=Math.floor(r.mtime.getTime()/1e3),+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[n+72>>2]=V[0],T[n+76>>2]=V[1],C[n+80>>2]=0,V=[Math.floor(r.ctime.getTime()/1e3)>>>0,(U=Math.floor(r.ctime.getTime()/1e3),+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[n+88>>2]=V[0],T[n+92>>2]=V[1],C[n+96>>2]=0,V=[r.ino>>>0,(U=r.ino,+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[n+104>>2]=V[0],T[n+108>>2]=V[1],0},doMsync:function(e,t,n,r,i){var a=S.slice(e,e+n);at.msync(t,a,i,n,r)},varargs:void 0,get:function(){return ot.varargs+=4,T[ot.varargs-4>>2]},getStr:function(e){return R(e)},getStreamFromFD:function(e){var t=at.getStream(e);if(!t)throw new at.ErrnoError(8);return t}};function st(e,t,n){ot.varargs=n;try{var r=ot.getStreamFromFD(e);switch(t){case 0:return(i=ot.get())<0?-28:at.createStream(r,i).fd;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:var i=ot.get();return r.flags|=i,0;case 5:return i=ot.get(),x[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return T[Br()>>2]=28,-1}}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function ut(e,t){try{var n=ot.getStreamFromFD(e);return ot.doStat(at.stat,n.path,t)}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function ct(e,t,n){ot.varargs=n;try{var r=ot.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var i=ot.get();return T[i>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return i=ot.get(),at.ioctl(r,t,i);default:return-28}}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function lt(e,t,n,r){try{t=ot.getStr(t);var i=256&r,a=4096&r;return r&=-4353,t=ot.calculateAt(e,t,a),ot.doStat(i?at.lstat:at.stat,t,n)}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function dt(e,t,n,r){ot.varargs=r;try{t=ot.getStr(t),t=ot.calculateAt(e,t);var i=r?ot.get():0;return at.open(t,n,i).fd}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function ft(e,t){try{return e=ot.getStr(e),ot.doStat(at.stat,e,t)}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}st.sig="iiip",ut.sig="iip",ct.sig="iiip",lt.sig="iippi",dt.sig="iipip",ft.sig="ipp";var pt=new WebAssembly.Global({value:"i32",mutable:!1},1);i.___table_base=pt;var ht={};function mt(e){var t=O(e)+1,n=Jr(t);return A(e,w,n,t),n}function vt(e){var t,n;t=function(){var t=mt(e);Yr(t)},n=Kr(),t(),Xr(n)}function gt(e,t){var n,r=R(e+44),i=T[e+20>>2];n=r,new RegExp("^([a-zA-Z]+:\\/\\/)","i").test(n)||(r=Je.normalize(r));var a=[],o=function(e){var t=at.findObject(e);return t&&!t.isFolder&&!t.isDevice};if(!o(r))for(var s in ht.LD_LIBRARY_PATH&&(a=ht.LD_LIBRARY_PATH.split(":")),a){var u=Je.join2(a[s],r);if(o(u)){r=u;break}}var c={global:Boolean(256&i),nodelete:Boolean(4096&i),loadAsync:t.loadAsync,fs:t.fs};if(t.loadAsync)return Pe(r,c,e);try{return Pe(r,c,e)}catch(e){return vt("Could not load dynamic lib: "+r+"\n"+e),0}}function yt(e){return gt(e,{loadAsync:!1,fs:at})}function kt(e,t){var n;if(t=R(t),0==e){if(!(n=Te(t,!0)))return vt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: RTLD_DEFAULT'),0}else{var r=fe.loadedLibsByHandle[e];if(!r.module.hasOwnProperty(t))return vt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: '+r.name),0;(n=r.module["orig$"+t])||(n=r.module[t])}return"function"==typeof n&&(n=xe(n,n.sig)),n}yt.sig="iiii",kt.sig="iii";var bt={};function _t(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function wt(e){return this.fromWireType(T[e>>2])}var St={},xt={},Et={};function Tt(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function Ct(e,t){return e=Tt(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function jt(e,t){var n=Ct(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Pt=void 0;function Mt(e){throw new Pt(e)}function It(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Mt("Mismatched type converter count");for(var i=0;i<e.length;++i)Ft(e[i],r[i])}e.forEach((function(e){Et[e]=t}));var i=new Array(t.length),a=[],o=0;t.forEach((function(e,t){xt.hasOwnProperty(e)?i[t]=xt[e]:(a.push(e),St.hasOwnProperty(e)||(St[e]=[]),St[e].push((function(){i[t]=xt[e],++o===a.length&&r(i)})))})),0===a.length&&r(i)}function Rt(e){var t=bt[e];delete bt[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields;It([e],i.map((function(e){return e.getterReturnType})).concat(i.map((function(e){return e.setterArgumentType}))),(function(e){var a={};return i.forEach((function(t,n){var r=t.fieldName,o=e[n],s=t.getter,u=t.getterContext,c=e[n+i.length],l=t.setter,d=t.setterContext;a[r]={read:function(e){return o.fromWireType(s(u,e))},write:function(e,t){var n=[];l(d,e,c.toWireType(n,t)),_t(n)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:function(e,t){for(var i in a)if(!(i in t))throw new TypeError('Missing field:  "'+i+'"');var o=n();for(i in a)a[i].write(o,t[i]);return null!==e&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:r}]}))}function At(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}Rt.sig="ii";var Dt=void 0;function Ot(e){for(var t="",n=e;S[n];)t+=Dt[S[n++]];return t}var Nt=void 0;function Lt(e){throw new Nt(e)}function Ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Lt('type "'+r+'" must have a positive integer typeid pointer'),xt.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Lt("Cannot register type '"+r+"' twice")}if(xt[e]=t,delete Et[e],St.hasOwnProperty(e)){var i=St[e];delete St[e],i.forEach((function(e){return e()}))}}function zt(e,t,n,r,i){var a=At(n);Ft(e,{name:t=Ot(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=w;else if(2===n)r=x;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=T}return this.fromWireType(r[e>>a])},destructorFunction:null})}function Ut(e){Lt(e.$$.ptrType.registeredClass.name+" instance already deleted")}zt.sig="vpppii";var Vt=!1;function Bt(e){}function Wt(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function Gt(e,t,n){if(t===n)return e;if(void 0===n.baseClass)return null;var r=Gt(e,t,n.baseClass);return null===r?null:n.downcast(r)}var Ht={},Yt=[];function Zt(){for(;Yt.length;){var e=Yt.pop();e.$$.deleteScheduled=!1,e.delete()}}var qt=void 0,$t={};function Kt(e,t){return t.ptrType&&t.ptr||Mt("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Mt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Xt(Object.create(e,{$$:{value:t}}))}function Xt(e){return"undefined"==typeof FinalizationRegistry?(Xt=function(e){return e},e):(Vt=new FinalizationRegistry((function(e){Wt(e.$$)})),Xt=function(e){var t=e.$$;if(t.smartPtr){var n={$$:t};Vt.register(e,n,e)}return e},Bt=function(e){return Vt.unregister(e)},Xt(e))}function Jt(){}function Qt(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Lt("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function en(e,t,n){i.hasOwnProperty(e)?((void 0===n||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[n])&&Lt("Cannot register public name '"+e+"' twice"),Qt(i,e,e),i.hasOwnProperty(n)&&Lt("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),i[e].overloadTable[n]=t):(i[e]=t,void 0!==n&&(i[e].numArguments=n))}function tn(e,t,n,r,i,a,o,s){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=i,this.getActualType=a,this.upcast=o,this.downcast=s,this.pureVirtualFunctions=[]}function nn(e,t,n){for(;t!==n;)t.upcast||Lt("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function rn(e,t){if(null===t)return this.isReference&&Lt("null is not a valid "+this.name),0;t.$$||Lt('Cannot pass "'+Pn(t)+'" as a '+this.name),t.$$.ptr||Lt("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass;return nn(t.$$.ptr,n,this.registeredClass)}function an(e,t){var n;if(null===t)return this.isReference&&Lt("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,n),n):0;t.$$||Lt('Cannot pass "'+Pn(t)+'" as a '+this.name),t.$$.ptr||Lt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&Lt("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;if(n=nn(t.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Lt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:Lt("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var i=t.clone();n=this.rawShare(n,Sn.toHandle((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,n)}break;default:Lt("Unsupporting sharing policy")}return n}function on(e,t){if(null===t)return this.isReference&&Lt("null is not a valid "+this.name),0;t.$$||Lt('Cannot pass "'+Pn(t)+'" as a '+this.name),t.$$.ptr||Lt("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&Lt("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;return nn(t.$$.ptr,n,this.registeredClass)}function sn(e,t,n,r,i,a,o,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=r,this.isSmartPointer=i,this.pointeeType=a,this.sharingPolicy=o,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,i||void 0!==t.baseClass?this.toWireType=an:r?(this.toWireType=rn,this.destructorFunction=null):(this.toWireType=on,this.destructorFunction=null)}function un(e,t,n){i.hasOwnProperty(e)||Mt("Replacing nonexistant public symbol"),void 0!==i[e].overloadTable&&void 0!==n?i[e].overloadTable[n]=t:(i[e]=t,i[e].argCount=n)}function cn(e,t){var n,r,i,a=(e=Ot(e)).includes("j")?(n=e,r=t,i=[],function(){return i.length=0,Object.assign(i,arguments),me(n,r,i)}):he(t);return"function"!=typeof a&&Lt("unknown function pointer with signature "+e+": "+t),a}var ln=void 0;function dn(e){var t=Hr(e),n=Ot(t);return Gr(t),n}function fn(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||xt[t]||(Et[t]?Et[t].forEach(e):(n.push(t),r[t]=!0))})),new ln(e+": "+n.map(dn).join([", "]))}function pn(e,t,n,r,i,a,o,s,u,c,l,d,f){l=Ot(l),a=cn(i,a),s&&(s=cn(o,s)),c&&(c=cn(u,c)),f=cn(d,f);var p=Tt(l);en(p,(function(){fn("Cannot construct "+l+" due to unbound types",[r])})),It([e,t,n],r?[r]:[],(function(t){var n,i;t=t[0],i=r?(n=t.registeredClass).instancePrototype:Jt.prototype;var o=Ct(p,(function(){if(Object.getPrototypeOf(this)!==u)throw new Nt("Use 'new' to construct "+l);if(void 0===d.constructor_body)throw new Nt(l+" has no accessible constructor");var e=d.constructor_body[arguments.length];if(void 0===e)throw new Nt("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(d.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(i,{constructor:{value:o}});o.prototype=u;var d=new tn(l,o,u,f,n,a,s,c),h=new sn(l,d,!0,!1,!1),m=new sn(l+"*",d,!1,!1,!1),v=new sn(l+" const*",d,!1,!0,!1);return Ht[e]={pointerType:m,constPointerType:v},un(p,o),[h,m,v]}))}function hn(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=Ct(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function mn(e,t,n,r,i){var a=t.length;a<2&&Lt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==n,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",d="";for(u=0;u<a-2;++u)l+=(0!==u?", ":"")+"arg"+u,d+=(0!==u?", ":"")+"arg"+u+"Wired";var f="return function "+Tt(e)+"("+l+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var p=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[Lt,r,i,_t,t[0],t[1]];for(o&&(f+="var thisWired = classParam.toWireType("+p+", this);\n"),u=0;u<a-2;++u)f+="var arg"+u+"Wired = argType"+u+".toWireType("+p+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),m.push(t[u+2]);if(o&&(d="thisWired"+(d.length>0?", ":"")+d),f+=(c?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",s)f+="runDestructors(destructors);\n";else for(u=o?1:2;u<t.length;++u){var v=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(f+=v+"_dtor("+v+"); // "+t[u].name+"\n",h.push(v+"_dtor"),m.push(t[u].destructorFunction))}return c&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",h.push(f),hn(Function,h).apply(null,m)}function vn(e,t){for(var n=[],r=0;r<e;r++)n.push(C[t+4*r>>2]);return n}function gn(e,t,n,r,i,a,o){var s=vn(n,r);t=Ot(t),a=cn(i,a),It([],[e],(function(e){var r=(e=e[0]).name+"."+t;function i(){fn("Cannot call "+r+" due to unbound types",s)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var u=e.registeredClass.constructor;return void 0===u[t]?(i.argCount=n-1,u[t]=i):(Qt(u,t,r),u[t].overloadTable[n-1]=i),It([],s,(function(e){var i=[e[0],null].concat(e.slice(1)),s=mn(r,i,null,a,o);return void 0===u[t].overloadTable?(s.argCount=n-1,u[t]=s):u[t].overloadTable[n-1]=s,[]})),[]}))}function yn(e,t,n,r,i,a){b(t>0);var o=vn(t,n);i=cn(r,i),It([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Nt("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){fn("Cannot construct "+e.name+" due to unbound types",o)},It([],o,(function(r){return r.splice(1,0,null),e.registeredClass.constructor_body[t-1]=mn(n,r,null,i,a),[]})),[]}))}function kn(e,t,n,r,i,a,o,s){var u=vn(n,r);t=Ot(t),a=cn(i,a),It([],[e],(function(e){var r=(e=e[0]).name+"."+t;function i(){fn("Cannot call "+r+" due to unbound types",u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===n-2?(i.argCount=n-2,i.className=e.name,c[t]=i):(Qt(c,t,r),c[t].overloadTable[n-2]=i),It([],u,(function(i){var s=mn(r,i,e,a,o);return void 0===c[t].overloadTable?(s.argCount=n-2,c[t]=s):c[t].overloadTable[n-2]=s,[]})),[]}))}pn.sig="vppppppppppppp",gn.sig="vppipppp",yn.sig="vpipppp",kn.sig="vppippppi";var bn=[],_n=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function wn(e){e>4&&0==--_n[e].refcount&&(_n[e]=void 0,bn.push(e))}wn.sig="vp";var Sn={toValue:function(e){return e||Lt("Cannot use deleted val. handle = "+e),_n[e].value},toHandle:function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=bn.length?bn.pop():_n.length;return _n[t]={refcount:1,value:e},t}}};function xn(e,t){Ft(e,{name:t=Ot(t),fromWireType:function(e){var t=Sn.toValue(e);return wn(e),t},toWireType:function(e,t){return Sn.toHandle(t)},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:null})}function En(e,t,n){switch(t){case 0:return function(e){var t=n?w:S;return this.fromWireType(t[e])};case 1:return function(e){var t=n?x:E;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?T:C;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Tn(e,t,n,r){var i=At(n);function a(){}t=Ot(t),a.values={},Ft(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:En(t,i,r),destructorFunction:null}),en(t,a)}function Cn(e,t){var n=xt[e];return void 0===n&&Lt(t+" has unknown type "+dn(e)),n}function jn(e,t,n){var r=Cn(e,"enum");t=Ot(t);var i=r.constructor,a=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ct(r.name+"_"+t,(function(){}))}});i.values[n]=a,i[t]=a}function Pn(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Mn(e,t){switch(t){case 2:return function(e){return this.fromWireType(j[e>>2])};case 3:return function(e){return this.fromWireType(P[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function In(e,t,n){var r=At(n);Ft(e,{name:t=Ot(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Mn(t,r),destructorFunction:null})}function Rn(e,t,n,r,i,a){var o=vn(t,n);e=Ot(e),i=cn(r,i),en(e,(function(){fn("Cannot call "+e+" due to unbound types",o)}),t-1),It([],o,(function(n){var r=[n[0],null].concat(n.slice(1));return un(e,mn(e,r,null,i,a),t-1),[]}))}function An(e,t,n){switch(t){case 0:return n?function(e){return w[e]}:function(e){return S[e]};case 1:return n?function(e){return x[e>>1]}:function(e){return E[e>>1]};case 2:return n?function(e){return T[e>>2]}:function(e){return C[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Dn(e,t,n,r,i){t=Ot(t),-1===i&&(i=4294967295);var a=At(n),o=function(e){return e};if(0===r){var s=32-8*n;o=function(e){return e<<s>>>s}}var u=t.includes("unsigned");Ft(e,{name:t,fromWireType:o,toWireType:u?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:An(t,a,0!==r),destructorFunction:null})}function On(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=C,n=t[e>>=2],i=t[e+1];return new r(_,i,n)}Ft(e,{name:n=Ot(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function Nn(e,t){var n="std::string"===(t=Ot(t));Ft(e,{name:t,fromWireType:function(e){var t,r=C[e>>2],i=e+4;if(n)for(var a=i,o=0;o<=r;++o){var s=i+o;if(o==r||0==S[s]){var u=R(a,s-a);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),a=s+1}}else{var c=new Array(r);for(o=0;o<r;++o)c[o]=String.fromCharCode(S[i+o]);t=c.join("")}return Gr(e),t},toWireType:function(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Lt("Cannot pass non-string to std::string"),r=n&&i?O(t):t.length;var a=Wr(4+r+1),o=a+4;if(C[a>>2]=r,n&&i)D(t,o,r+1);else if(i)for(var s=0;s<r;++s){var u=t.charCodeAt(s);u>255&&(Gr(o),Lt("String has UTF-16 code units that do not fit in 8 bits")),S[o+s]=u}else for(s=0;s<r;++s)S[o+s]=t[s];return null!==e&&e.push(Gr,a),a},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:function(e){Gr(e)}})}xn.sig="vpp",Tn.sig="vpppi",jn.sig="vppi",In.sig="vppp",Rn.sig="vpipppp",Dn.sig="vpppii",On.sig="vpip",Nn.sig="vpp";var Ln="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Fn(e,t){for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&E[r];)++r;if((n=r<<1)-e>32&&Ln)return Ln.decode(S.subarray(e,n));for(var a="",o=0;!(o>=t/2);++o){var s=x[e+2*o>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function zn(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);x[t>>1]=o,t+=2}return x[t>>1]=0,t-r}function Un(e){return 2*e.length}function Vn(e,t){for(var n=0,r="";!(n>=t/4);){var i=T[e+4*n>>2];if(0==i)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(i)}return r}function Bn(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),T[t>>2]=o,(t+=4)+4>i)break}return T[t>>2]=0,t-r}function Wn(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function Gn(e,t,n){var r,i,a,o,s;n=Ot(n),2===t?(r=Fn,i=zn,o=Un,a=function(){return E},s=1):4===t&&(r=Vn,i=Bn,o=Wn,a=function(){return C},s=2),Ft(e,{name:n,fromWireType:function(e){for(var n,i=C[e>>2],o=a(),u=e+4,c=0;c<=i;++c){var l=e+4+c*t;if(c==i||0==o[l>>s]){var d=r(u,l-u);void 0===n?n=d:(n+=String.fromCharCode(0),n+=d),u=l+t}}return Gr(e),n},toWireType:function(e,r){"string"!=typeof r&&Lt("Cannot pass non-string to C++ string type "+n);var a=o(r),u=Wr(4+a+t);return C[u>>2]=a>>s,i(r,u+4,a+t),null!==e&&e.push(Gr,u),u},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:function(e){Gr(e)}})}function Hn(e,t,n,r,i,a){bt[e]={name:Ot(t),rawConstructor:cn(n,r),rawDestructor:cn(i,a),fields:[]}}function Yn(e,t,n,r,i,a,o,s,u,c){bt[e].fields.push({fieldName:Ot(t),getterReturnType:n,getter:cn(r,i),getterContext:a,setterArgumentType:o,setter:cn(s,u),setterContext:c})}function Zn(e,t){Ft(e,{isVoid:!0,name:t=Ot(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function qn(){return Date.now()}function $n(e){if(!k)try{e()}catch(e){ce(e)}}function Kn(e,t,n){function r(t){vt("Could not load dynamic lib: "+R(C[e+44>>2])+"\n"+t),$n((function(){he(n)(e)}))}var i=gt(e,{loadAsync:!0});i?i.then((function(){$n((function(){he(t)(e)}))}),r):r()}function Xn(e,t,n){e=Sn.toValue(e),t=Cn(t,"emval::as");var r=[],i=Sn.toHandle(r);return C[n>>2]=i,t.toWireType(r,e)}Gn.sig="vppp",Hn.sig="viiiiii",Yn.sig="viiiiiiiiii",Zn.sig="vpp",qn.sig="j",Kn.sig="viiiii",Xn.sig="dppp";var Jn={};function Qn(e){var t=Jn[e];return void 0===t?Ot(e):t}var er=[];function tr(e,t,n,r,i){return(e=er[e])(t=Sn.toValue(t),n=Qn(n),function(e){var t=[];return C[e>>2]=Sn.toHandle(t),t}(r),i)}tr.sig="dppppp";var nr,rr=[];function ir(e,t){var n=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=Cn(C[t+4*r>>2],"parameter "+r);return n}(e,t),r=n[0],i=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",a=rr[i];if(void 0!==a)return a;for(var o=["retType"],s=[r],u="",c=0;c<e-1;++c)u+=(0!==c?", ":"")+"arg"+c,o.push("argType"+c),s.push(n[1+c]);var l,d,f="return function "+Tt("methodCaller_"+i)+"(handle, name, destructors, args) {\n",p=0;for(c=0;c<e-1;++c)f+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(p?"+"+p:"")+");\n",p+=n[c+1].argPackAdvance;for(f+="    var rv = handle[name]("+u+");\n",c=0;c<e-1;++c)n[c+1].deleteObject&&(f+="    argType"+c+".deleteObject(arg"+c+");\n");return r.isVoid||(f+="    return retType.toWireType(destructors, rv);\n"),f+="};\n",o.push(f),l=hn(Function,o).apply(null,s),d=er.length,er.push(l),a=d,rr[i]=a,a}function ar(e,t){return e=Sn.toValue(e),t=Sn.toValue(t),Sn.toHandle(e[t])}function or(e){e>4&&(_n[e].refcount+=1)}function sr(e){return Sn.toHandle(Qn(e))}function ur(e){_t(Sn.toValue(e)),wn(e)}function cr(e,t){var n=(e=Cn(e,"_emval_take_value")).readValueFromPointer(t);return Sn.toHandle(n)}function lr(e,t){var n,r=new Date(1e3*(C[(n=e)>>2]+4294967296*T[n+4>>2]));T[t>>2]=r.getSeconds(),T[t+4>>2]=r.getMinutes(),T[t+8>>2]=r.getHours(),T[t+12>>2]=r.getDate(),T[t+16>>2]=r.getMonth(),T[t+20>>2]=r.getFullYear()-1900,T[t+24>>2]=r.getDay();var i=new Date(r.getFullYear(),0,1),a=(r.getTime()-i.getTime())/864e5|0;T[t+28>>2]=a,T[t+36>>2]=-60*r.getTimezoneOffset();var o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),u=0|(o!=s&&r.getTimezoneOffset()==Math.min(s,o));T[t+32>>2]=u}function dr(e,t,n,r,i,a){try{var o=ot.getStreamFromFD(r),s=at.mmap(o,e,i,t,n),u=s.ptr;return T[a>>2]=s.allocated,u}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function fr(e,t,n,r,i,a){try{var o=ot.getStreamFromFD(i);2&n&&ot.doMsync(e,o,t,r,a),at.munmap(o)}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return-e.errno}}function pr(e){var t=O(e)+1,n=Wr(t);return n&&A(e,w,n,t),n}function hr(e,t,n){var r=(new Date).getFullYear(),i=new Date(r,0,1),a=new Date(r,6,1),o=i.getTimezoneOffset(),s=a.getTimezoneOffset(),u=Math.max(o,s);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}T[e>>2]=60*u,T[t>>2]=Number(o!=s);var l=c(i),d=c(a),f=pr(l),p=pr(d);s<o?(C[n>>2]=f,C[n+4>>2]=p):(C[n>>2]=p,C[n+4>>2]=f)}function mr(e,t,n){mr.called||(mr.called=!0,hr(e,t,n))}function vr(){ee("")}function gr(){return 2147483648}function yr(e,t,n){S.copyWithin(e,t,t+n)}function kr(e){try{return v.grow(e-_.byteLength+65535>>>16),N(v.buffer),1}catch(e){}}function br(e){var t,n=S.length,r=2147483648;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=n*(1+.2/i);if(a=Math.min(a,e+100663296),kr(Math.min(r,(t=Math.max(e,a))+(65536-t%65536)%65536)))return!0}return!1}ir.sig="ppp",ar.sig="ppp",or.sig="vp",sr.sig="pp",ur.sig="vp",cr.sig="ppp",lr.sig="ipp",dr.sig="ppiiipp",fr.sig="vppiiip",hr.sig="viii",mr.sig="vppp",i._abort=vr,vr.sig="v",gr.sig="p",nr=function(){return performance.now()},i._emscripten_get_now=nr,nr.sig="d",yr.sig="vppp",br.sig="ip";var _r={xhrs:{},setu64:function(e,t){C[e>>2]=t,C[e+4>>2]=t/4294967296|0},openDatabase:function(e,t,n,r){try{var i=indexedDB.open(e,t)}catch(e){return r(e)}i.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("FILES")&&t.deleteObjectStore("FILES"),t.createObjectStore("FILES")},i.onsuccess=function(e){return n(e.target.result)},i.onerror=function(e){return r(e)}},staticInit:function(){_r.openDatabase("emscripten_filesystem",1,(function(e){_r.dbInstance=e,Q()}),(function(){_r.dbInstance=!1,Q()})),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||J()}};function wr(e,t,n,r,i){var a=C[e+8>>2];if(a){var o=R(a),s=e+112,u=R(s);u||(u="GET"),C[e+4>>2];var c=C[s+52>>2],l=C[s+56>>2],d=!!C[s+60>>2],f=(C[s+64>>2],C[s+68>>2]),p=C[s+72>>2],h=C[s+76>>2],m=C[s+80>>2],v=C[s+84>>2],g=C[s+88>>2],y=!!(1&c),k=!!(2&c),b=!!(64&c),_=f?R(f):void 0,w=p?R(p):void 0,x=new XMLHttpRequest;if(x.withCredentials=d,x.open(u,o,!b,_,w),b||(x.timeout=l),x.url_=o,x.responseType="arraybuffer",m){var T=R(m);x.overrideMimeType(T)}if(h)for(;;){var j=C[h>>2];if(!j)break;var P=C[h+4>>2];if(!P)break;h+=8;var M=R(j),I=R(P);x.setRequestHeader(M,I)}var A=C[e+0>>2];_r.xhrs[A]=x;var O=v&&g?S.slice(v,v+g):null;x.onload=function(r){A in _r.xhrs&&(N(),x.status>=200&&x.status<300?t&&t(e,x,r):n&&n(e,x,r))},x.onerror=function(t){A in _r.xhrs&&(N(),n&&n(e,x,t))},x.ontimeout=function(t){A in _r.xhrs&&n&&n(e,x,t)},x.onprogress=function(t){if(A in _r.xhrs){var n=y&&k&&x.response?x.response.byteLength:0,i=0;n>0&&y&&k&&(i=Wr(n),S.set(new Uint8Array(x.response),i)),C[e+12>>2]=i,_r.setu64(e+16,n),_r.setu64(e+24,t.loaded-n),_r.setu64(e+32,t.total),E[e+40>>1]=x.readyState,x.readyState>=3&&0===x.status&&t.loaded>0&&(x.status=200),E[e+42>>1]=x.status,x.statusText&&D(x.statusText,e+44,64),r&&r(e,x,t),i&&Gr(i)}},x.onreadystatechange=function(t){A in _r.xhrs&&(E[e+40>>1]=x.readyState,x.readyState>=2&&(E[e+42>>1]=x.status),i&&i(e,x,t))};try{x.send(O)}catch(t){n&&n(e,x,t)}}else n(e,0,"no url specified!");function N(){var t=0,n=0;x.response&&y&&0===C[e+12>>2]&&(n=x.response.byteLength),n>0&&(t=Wr(n),S.set(new Uint8Array(x.response),t)),C[e+12>>2]=t,_r.setu64(e+16,n),_r.setu64(e+24,0);var r=x.response?x.response.byteLength:0;r&&_r.setu64(e+32,r),E[e+40>>1]=x.readyState,E[e+42>>1]=x.status,x.statusText&&D(x.statusText,e+44,64)}}function Sr(e,t,n,r,i){if(e){var a=C[t+112+64>>2];a||(a=C[t+8>>2]);var o=R(a);try{var s=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(n,o);s.onsuccess=function(e){E[t+40>>1]=4,E[t+42>>1]=200,D("OK",t+44,64),r(t,0,o)},s.onerror=function(e){E[t+40>>1]=4,E[t+42>>1]=413,D("Payload Too Large",t+44,64),i(t,0,e)}}catch(e){i(t,0,e)}}else i(t,0,"IndexedDB not available!")}function xr(e,t,n,r,i){var a=e+112,o=R(a),s=C[a+36>>2],u=C[a+40>>2],c=C[a+44>>2],l=C[a+48>>2],d=C[a+52>>2],f=!!(4&d),p=!!(32&d),h=!!(16&d),m=!!(64&d);function v(e){m?e():$n(e)}var g=function(e,n,r){v((function(){s?he(s)(e):t&&t(e)}))},y=function(e,t,n){v((function(){c?he(c)(e):r&&r(e)}))},k=function(e,t,r){v((function(){u?he(u)(e):n&&n(e)}))},b=function(e,t,n){v((function(){l?he(l)(e):i&&i(e)}))},_=function(e,n,r){Sr(_r.dbInstance,e,n.response,(function(e,n,r){v((function(){s?he(s)(e):t&&t(e)}))}),(function(e,n,r){v((function(){s?he(s)(e):t&&t(e)}))}))};if("EM_IDB_STORE"===o){var w=C[a+84>>2];Sr(_r.dbInstance,e,S.slice(w,w+C[a+88>>2]),g,k)}else if("EM_IDB_DELETE"===o)!function(e,t,n,r){if(e){var i=C[t+112+64>>2];i||(i=C[t+8>>2]);var a=R(i);try{var o=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);o.onsuccess=function(e){var r=e.target.result;C[t+12>>2]=0,_r.setu64(t+16,0),_r.setu64(t+24,0),_r.setu64(t+32,0),E[t+40>>1]=4,E[t+42>>1]=200,D("OK",t+44,64),n(t,0,r)},o.onerror=function(e){E[t+40>>1]=4,E[t+42>>1]=404,D("Not Found",t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}else r(t,0,"IndexedDB not available!")}(_r.dbInstance,e,g,k);else if(h){if(p)return 0;wr(e,f?_:g,k,y,b)}else!function(e,t,n,r){if(e){var i=C[t+112+64>>2];i||(i=C[t+8>>2]);var a=R(i);try{var o=e.transaction(["FILES"],"readonly").objectStore("FILES").get(a);o.onsuccess=function(e){if(e.target.result){var i=e.target.result,a=i.byteLength||i.length,o=Wr(a);S.set(new Uint8Array(i),o),C[t+12>>2]=o,_r.setu64(t+16,a),_r.setu64(t+24,0),_r.setu64(t+32,a),E[t+40>>1]=4,E[t+42>>1]=200,D("OK",t+44,64),n(t,0,i)}else E[t+40>>1]=4,E[t+42>>1]=404,D("Not Found",t+44,64),r(t,0,"no data")},o.onerror=function(e){E[t+40>>1]=4,E[t+42>>1]=404,D("Not Found",t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}else r(t,0,"IndexedDB not available!")}(_r.dbInstance,e,g,p?k:f?function(e,t,n){wr(e,_,k,y,b)}:function(e,t,n){wr(e,g,k,y,b)});return e}function Er(){if(!Er.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in ht)void 0===ht[t]?delete e[t]:e[t]=ht[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Er.strings=n}return Er.strings}function Tr(e,t){var n=0;return Er().forEach((function(r,i){var a=t+n;C[e+4*i>>2]=a,function(e,t,n){for(var r=0;r<e.length;++r)w[t++>>0]=e.charCodeAt(r);w[t>>0]=0}(r,a),n+=r.length+1})),0}function Cr(e,t){var n=Er();C[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),C[t>>2]=r,0}function jr(e){try{var t=ot.getStreamFromFD(e);return at.close(t),0}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return e.errno}}function Pr(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=C[t>>2],s=C[t+4>>2];t+=8;var u=at.read(e,w,o,s,void 0);if(u<0)return-1;if(i+=u,u<s)break}return i}(ot.getStreamFromFD(e),t,n);return C[r>>2]=i,0}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return e.errno}}function Mr(e,t,n,r,i){try{var a=(u=n)+2097152>>>0<4194305-!!(s=t)?(s>>>0)+4294967296*u:NaN;if(isNaN(a))return 61;var o=ot.getStreamFromFD(e);return at.llseek(o,a,r),V=[o.position>>>0,(U=o.position,+Math.abs(U)>=1?U>0?(0|Math.min(+Math.floor(U/4294967296),4294967295))>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],T[i>>2]=V[0],T[i+4>>2]=V[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return e.errno}var s,u}function Ir(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=C[t>>2],s=C[t+4>>2];t+=8;var u=at.write(e,w,o,s,void 0);if(u<0)return-1;i+=u}return i}(ot.getStreamFromFD(e),t,n);return C[r>>2]=i,0}catch(e){if(void 0===at||!(e instanceof at.ErrnoError))throw e;return e.errno}}function Rr(e,t){Rr.randomDevice||(Rr.randomDevice=Qe());for(var n=0;n<t;n++)w[e+n>>0]=Rr.randomDevice();return 0}function Ar(e){return e}function Dr(e){y=e,g||(i.onExit&&i.onExit(e),k=!0),l(e,new re(e))}function Or(e){return e%4==0&&(e%100!=0||e%400==0)}xr.sig="vp",Tr.sig="ipp",Cr.sig="ipp",jr.sig="ii",Pr.sig="iippp",Mr.sig="iijip",Ir.sig="iippp",Rr.sig="ipp",Ar.sig="ip",Dr.sig="vi";var Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Lr=[31,28,31,30,31,30,31,31,30,31,30,31];function Fr(e,t,n,r){var i=T[r+40>>2],a={tm_sec:T[r>>2],tm_min:T[r+4>>2],tm_hour:T[r+8>>2],tm_mday:T[r+12>>2],tm_mon:T[r+16>>2],tm_year:T[r+20>>2],tm_wday:T[r+24>>2],tm_yday:T[r+28>>2],tm_isdst:T[r+32>>2],tm_gmtoff:T[r+36>>2],tm_zone:i?R(i):""},o=R(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)o=o.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function f(e,t){return d(e,t,"0")}function p(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Or(n.getFullYear()),i=n.getMonth(),a=(r?Nr:Lr)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=h(n),a=h(r);return p(i,t)<=0?p(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var v={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Or(e.tm_year+1900)?Nr:Lr,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Or(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Or(e.tm_year%400-1))&&t++}return f(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in o=o.replace(/%%/g,"\0\0"),v)o.includes(u)&&(o=o.replace(new RegExp(u,"g"),v[u](a)));var g=tt(o=o.replace(/\0\0/g,"%"),!1);return g.length>t?0:(function(e,t){w.set(e,t)}(g,e),g.length-1)}Fr.sig="ppppp";var zr=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=at.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(zr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return at.isDir(this.mode)}},isDevice:{get:function(){return at.isChrdev(this.mode)}}}),at.FSNode=zr,at.staticInit(),Pt=i.InternalError=jt(Error,"InternalError"),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Dt=e}(),Nt=i.BindingError=jt(Error,"BindingError"),Jt.prototype.isAliasOf=function(e){if(!(this instanceof Jt))return!1;if(!(e instanceof Jt))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;r.baseClass;)i=r.upcast(i),r=r.baseClass;return t===r&&n===i},Jt.prototype.clone=function(){if(this.$$.ptr||Ut(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=Xt(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},Jt.prototype.delete=function(){this.$$.ptr||Ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Lt("Object already scheduled for deletion"),Bt(this),Wt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},Jt.prototype.isDeleted=function(){return!this.$$.ptr},Jt.prototype.deleteLater=function(){return this.$$.ptr||Ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Lt("Object already scheduled for deletion"),Yt.push(this),1===Yt.length&&qt&&qt(Zt),this.$$.deleteScheduled=!0,this},i.getInheritedInstanceCount=function(){return Object.keys($t).length},i.getLiveInheritedInstances=function(){var e=[];for(var t in $t)$t.hasOwnProperty(t)&&e.push($t[t]);return e},i.flushPendingDeletes=Zt,i.setDelayFunction=function(e){qt=e,Yt.length&&qt&&qt(Zt)},sn.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},sn.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},sn.prototype.argPackAdvance=8,sn.prototype.readValueFromPointer=wt,sn.prototype.deleteObject=function(e){null!==e&&e.delete()},sn.prototype.fromWireType=function(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=function(e,t){return t=function(e,t){for(void 0===t&&Lt("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),$t[t]}(this.registeredClass,t);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var r=n.clone();return this.destructor(e),r}function i(){return this.isSmartPointer?Kt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Kt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a,o=this.registeredClass.getActualType(t),s=Ht[o];if(!s)return i.call(this);a=this.isConst?s.constPointerType:s.pointerType;var u=Gt(t,this.registeredClass,a.registeredClass);return null===u?i.call(this):this.isSmartPointer?Kt(a.registeredClass.instancePrototype,{ptrType:a,ptr:u,smartPtrType:this,smartPtr:e}):Kt(a.registeredClass.instancePrototype,{ptrType:a,ptr:u})},ln=i.UnboundTypeError=jt(Error,"UnboundTypeError"),i.count_emval_handles=function(){for(var e=0,t=5;t<_n.length;++t)void 0!==_n[t]&&++e;return e},i.get_first_emval=function(){for(var e=5;e<_n.length;++e)if(void 0!==_n[e])return _n[e];return null},_r.staticInit();var Ur,Vr={__cxa_allocate_exception:Ie,__cxa_begin_catch:Oe,__cxa_current_primary_exception:function(){if(!Re.length)return 0;var e=Re[Re.length-1];return Ae(e),e.excPtr},__cxa_decrement_exception_refcount:ze,__cxa_end_catch:Ve,__cxa_find_matching_catch_2:We,__cxa_find_matching_catch_3:Ge,__cxa_find_matching_catch_4:He,__cxa_free_exception:Le,__cxa_get_exception_ptr:Ye,__cxa_increment_exception_refcount:Ze,__cxa_rethrow:qe,__cxa_rethrow_primary_exception:function(e){if(e){var t=new Ne(e);Re.push(t),t.set_rethrown(!0),qe()}},__cxa_throw:$e,__cxa_uncaught_exceptions:function(){return De},__heap_base:ve,__indirect_function_table:B,__memory_base:Ke,__resumeException:Be,__stack_pointer:Xe,__syscall_fcntl64:st,__syscall_fstat64:ut,__syscall_ioctl:ct,__syscall_newfstatat:lt,__syscall_openat:dt,__syscall_stat64:ft,__table_base:pt,_dlinit:function(e){var t={refcount:1/0,name:"__main__",module:i.asm,global:!0};fe.loadedLibsByName[t.name]=t,fe.loadedLibsByHandle[e]=t},_dlopen_js:yt,_dlsym_js:kt,_embind_finalize_value_object:Rt,_embind_register_bigint:function(e,t,n,r,i){},_embind_register_bool:zt,_embind_register_class:pn,_embind_register_class_class_function:gn,_embind_register_class_constructor:yn,_embind_register_class_function:kn,_embind_register_emval:xn,_embind_register_enum:Tn,_embind_register_enum_value:jn,_embind_register_float:In,_embind_register_function:Rn,_embind_register_integer:Dn,_embind_register_memory_view:On,_embind_register_std_string:Nn,_embind_register_std_wstring:Gn,_embind_register_value_object:Hn,_embind_register_value_object_field:Yn,_embind_register_void:Zn,_emscripten_date_now:qn,_emscripten_dlopen_js:Kn,_emscripten_fetch_free:function(e){var t=_r.xhrs[e];t&&(delete _r.xhrs[e],t.readyState>0&&t.readyState<4&&t.abort())},_emscripten_get_now_is_monotonic:function(){return!0},_emval_as:Xn,_emval_call_method:tr,_emval_decref:wn,_emval_get_method_caller:ir,_emval_get_property:ar,_emval_incref:or,_emval_new_cstring:sr,_emval_run_destructors:ur,_emval_take_value:cr,_localtime_js:lr,_mmap_js:dr,_munmap_js:fr,_tzset_js:mr,abort:vr,emscripten_get_heap_max:gr,emscripten_get_now:nr,emscripten_is_main_browser_thread:function(){return!0},emscripten_memcpy_big:yr,emscripten_resize_heap:br,emscripten_start_fetch:xr,environ_get:Tr,environ_sizes_get:Cr,fd_close:jr,fd_read:Pr,fd_seek:Mr,fd_write:Ir,getentropy:Rr,invoke_diii:function(e,t,n,r){var i=Kr();try{return he(e)(t,n,r)}catch(e){if(Xr(i),e!==e+0)throw e;qr(1,0)}},invoke_diiiii:function(e,t,n,r,i,a){var o=Kr();try{return he(e)(t,n,r,i,a)}catch(e){if(Xr(o),e!==e+0)throw e;qr(1,0)}},invoke_fiii:function(e,t,n,r){var i=Kr();try{return he(e)(t,n,r)}catch(e){if(Xr(i),e!==e+0)throw e;qr(1,0)}},invoke_i:function(e){var t=Kr();try{return he(e)()}catch(e){if(Xr(t),e!==e+0)throw e;qr(1,0)}},invoke_ii:function(e,t){var n=Kr();try{return he(e)(t)}catch(e){if(Xr(n),e!==e+0)throw e;qr(1,0)}},invoke_iii:function(e,t,n){var r=Kr();try{return he(e)(t,n)}catch(e){if(Xr(r),e!==e+0)throw e;qr(1,0)}},invoke_iiiffff:function(e,t,n,r,i,a,o){var s=Kr();try{return he(e)(t,n,r,i,a,o)}catch(e){if(Xr(s),e!==e+0)throw e;qr(1,0)}},invoke_iiii:function(e,t,n,r){var i=Kr();try{return he(e)(t,n,r)}catch(e){if(Xr(i),e!==e+0)throw e;qr(1,0)}},invoke_iiiifffffi:function(e,t,n,r,i,a,o,s,u,c){var l=Kr();try{return he(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(Xr(l),e!==e+0)throw e;qr(1,0)}},invoke_iiiii:function(e,t,n,r,i){var a=Kr();try{return he(e)(t,n,r,i)}catch(e){if(Xr(a),e!==e+0)throw e;qr(1,0)}},invoke_iiiiii:function(e,t,n,r,i,a){var o=Kr();try{return he(e)(t,n,r,i,a)}catch(e){if(Xr(o),e!==e+0)throw e;qr(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,a,o){var s=Kr();try{return he(e)(t,n,r,i,a,o)}catch(e){if(Xr(s),e!==e+0)throw e;qr(1,0)}},invoke_iiiiiiii:function(e,t,n,r,i,a,o,s){var u=Kr();try{return he(e)(t,n,r,i,a,o,s)}catch(e){if(Xr(u),e!==e+0)throw e;qr(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var d=Kr();try{return he(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(Xr(d),e!==e+0)throw e;qr(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d){var f=Kr();try{return he(e)(t,n,r,i,a,o,s,u,c,l,d)}catch(e){if(Xr(f),e!==e+0)throw e;qr(1,0)}},invoke_iiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d,f){var p=Kr();try{return he(e)(t,n,r,i,a,o,s,u,c,l,d,f)}catch(e){if(Xr(p),e!==e+0)throw e;qr(1,0)}},invoke_iiiiij:function(e,t,n,r,a,o,s){var u=Kr();try{return i.dynCall_iiiiij(e,t,n,r,a,o,s)}catch(e){if(Xr(u),e!==e+0)throw e;qr(1,0)}},invoke_iij:function(e,t,n,r){var a=Kr();try{return i.dynCall_iij(e,t,n,r)}catch(e){if(Xr(a),e!==e+0)throw e;qr(1,0)}},invoke_j:function(e){var t=Kr();try{return i.dynCall_j(e)}catch(e){if(Xr(t),e!==e+0)throw e;qr(1,0)}},invoke_ji:function(e,t){var n=Kr();try{return i.dynCall_ji(e,t)}catch(e){if(Xr(n),e!==e+0)throw e;qr(1,0)}},invoke_jii:function(e,t,n){var r=Kr();try{return i.dynCall_jii(e,t,n)}catch(e){if(Xr(r),e!==e+0)throw e;qr(1,0)}},invoke_jiiii:function(e,t,n,r,a){var o=Kr();try{return i.dynCall_jiiii(e,t,n,r,a)}catch(e){if(Xr(o),e!==e+0)throw e;qr(1,0)}},invoke_v:function(e){var t=Kr();try{he(e)()}catch(e){if(Xr(t),e!==e+0)throw e;qr(1,0)}},invoke_vi:function(e,t){var n=Kr();try{he(e)(t)}catch(e){if(Xr(n),e!==e+0)throw e;qr(1,0)}},invoke_vif:function(e,t,n){var r=Kr();try{he(e)(t,n)}catch(e){if(Xr(r),e!==e+0)throw e;qr(1,0)}},invoke_vii:function(e,t,n){var r=Kr();try{he(e)(t,n)}catch(e){if(Xr(r),e!==e+0)throw e;qr(1,0)}},invoke_viii:function(e,t,n,r){var i=Kr();try{he(e)(t,n,r)}catch(e){if(Xr(i),e!==e+0)throw e;qr(1,0)}},invoke_viiii:function(e,t,n,r,i){var a=Kr();try{he(e)(t,n,r,i)}catch(e){if(Xr(a),e!==e+0)throw e;qr(1,0)}},invoke_viiiii:function(e,t,n,r,i,a){var o=Kr();try{he(e)(t,n,r,i,a)}catch(e){if(Xr(o),e!==e+0)throw e;qr(1,0)}},invoke_viiiiii:function(e,t,n,r,i,a,o){var s=Kr();try{he(e)(t,n,r,i,a,o)}catch(e){if(Xr(s),e!==e+0)throw e;qr(1,0)}},invoke_viiiiiii:function(e,t,n,r,i,a,o,s){var u=Kr();try{he(e)(t,n,r,i,a,o,s)}catch(e){if(Xr(u),e!==e+0)throw e;qr(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var d=Kr();try{he(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(Xr(d),e!==e+0)throw e;qr(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d,f,p,h,m){var v=Kr();try{he(e)(t,n,r,i,a,o,s,u,c,l,d,f,p,h,m)}catch(e){if(Xr(v),e!==e+0)throw e;qr(1,0)}},invoke_vij:function(e,t,n,r){var a=Kr();try{i.dynCall_vij(e,t,n,r)}catch(e){if(Xr(a),e!==e+0)throw e;qr(1,0)}},llvm_eh_typeid_for:Ar,memory:v,proc_exit:Dr,strftime:Fr,strftime_l:function(e,t,n,r){return Fr(e,t,n,r)}},Br=(function(){var e={env:Vr,wasi_snapshot_preview1:Vr,"GOT.mem":new Proxy(Vr,oe),"GOT.func":new Proxy(Vr,oe)};function t(e,t){var n=e.exports;n=Ee(n,1024),i.asm=n;var r,a=ue(t);a.neededDynlibs&&(m=a.neededDynlibs.concat(m)),de(n),r=i.asm.__wasm_call_ctors,G.unshift(r),Z.push(i.asm.__wasm_apply_data_relocs),Q()}function n(e){t(e.instance,e.module)}function a(t){return(h||"function"!=typeof fetch?Promise.resolve().then((function(){return ne(F)})):fetch(F,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+F+"'";return e.arrayBuffer()})).catch((function(){return ne(F)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),ee(e)}))}if(J(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e),!1}(h||"function"!=typeof WebAssembly.instantiateStreaming||te(F)||"function"!=typeof fetch?a(n):fetch(F,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(r)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i.___wasm_apply_data_relocs=function(){return(i.___wasm_apply_data_relocs=i.asm.__wasm_apply_data_relocs).apply(null,arguments)},i.___cxa_atexit=function(){return(i.___cxa_atexit=i.asm.__cxa_atexit).apply(null,arguments)},i.__Znwm=function(){return(i.__Znwm=i.asm._Znwm).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm).apply(null,arguments)},i._pthread_self=function(){return(i._pthread_self=i.asm.pthread_self).apply(null,arguments)},i.__ZdlPv=function(){return(i.__ZdlPv=i.asm._ZdlPv).apply(null,arguments)},i.getTempRet0=function(){return(i.getTempRet0=i.asm.getTempRet0).apply(null,arguments)},i.__ZNSt3__218condition_variableD1Ev=function(){return(i.__ZNSt3__218condition_variableD1Ev=i.asm._ZNSt3__218condition_variableD1Ev).apply(null,arguments)},i.__ZNSt3__25mutexD1Ev=function(){return(i.__ZNSt3__25mutexD1Ev=i.asm._ZNSt3__25mutexD1Ev).apply(null,arguments)},i.__ZSt9terminatev=function(){return(i.__ZSt9terminatev=i.asm._ZSt9terminatev).apply(null,arguments)},i.__ZNSt3__29to_stringEi=function(){return(i.__ZNSt3__29to_stringEi=i.asm._ZNSt3__29to_stringEi).apply(null,arguments)},i._memcpy=function(){return(i._memcpy=i.asm.memcpy).apply(null,arguments)},i.__ZdaPv=function(){return(i.__ZdaPv=i.asm._ZdaPv).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm).apply(null,arguments)},i._strlen=function(){return(i._strlen=i.asm.strlen).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc).apply(null,arguments)},i.__ZNSt3__25mutex4lockEv=function(){return(i.__ZNSt3__25mutex4lockEv=i.asm._ZNSt3__25mutex4lockEv).apply(null,arguments)},i.__ZNSt3__25mutex6unlockEv=function(){return(i.__ZNSt3__25mutex6unlockEv=i.asm._ZNSt3__25mutex6unlockEv).apply(null,arguments)},i._memmove=function(){return(i._memmove=i.asm.memmove).apply(null,arguments)},i._memset=function(){return(i._memset=i.asm.memset).apply(null,arguments)},i.__ZNSt3__26chrono12steady_clock3nowEv=function(){return(i.__ZNSt3__26chrono12steady_clock3nowEv=i.asm._ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},i._powf=function(){return(i._powf=i.asm.powf).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm).apply(null,arguments)},i.__ZNSt12length_errorD1Ev=function(){return(i.__ZNSt12length_errorD1Ev=i.asm._ZNSt12length_errorD1Ev).apply(null,arguments)},i.__ZNSt11logic_errorC2EPKc=function(){return(i.__ZNSt11logic_errorC2EPKc=i.asm._ZNSt11logic_errorC2EPKc).apply(null,arguments)},i.__ZNSt20bad_array_new_lengthD1Ev=function(){return(i.__ZNSt20bad_array_new_lengthD1Ev=i.asm._ZNSt20bad_array_new_lengthD1Ev).apply(null,arguments)},i.__ZNSt20bad_array_new_lengthC1Ev=function(){return(i.__ZNSt20bad_array_new_lengthC1Ev=i.asm._ZNSt20bad_array_new_lengthC1Ev).apply(null,arguments)},i.__ZNSt3__26thread4joinEv=function(){return(i.__ZNSt3__26thread4joinEv=i.asm._ZNSt3__26thread4joinEv).apply(null,arguments)},i.__ZNSt3__26threadD1Ev=function(){return(i.__ZNSt3__26threadD1Ev=i.asm._ZNSt3__26threadD1Ev).apply(null,arguments)},i.__ZNSt3__217bad_function_callD1Ev=function(){return(i.__ZNSt3__217bad_function_callD1Ev=i.asm._ZNSt3__217bad_function_callD1Ev).apply(null,arguments)},i.__Znam=function(){return(i.__Znam=i.asm._Znam).apply(null,arguments)},i.__ZNSt3__218condition_variable10notify_allEv=function(){return(i.__ZNSt3__218condition_variable10notify_allEv=i.asm._ZNSt3__218condition_variable10notify_allEv).apply(null,arguments)},i._iprintf=function(){return(i._iprintf=i.asm.iprintf).apply(null,arguments)},i._dlsym=function(){return(i._dlsym=i.asm.dlsym).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_).apply(null,arguments)},i._snprintf=function(){return(i._snprintf=i.asm.snprintf).apply(null,arguments)},i._memchr=function(){return(i._memchr=i.asm.memchr).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc).apply(null,arguments)},i.__ZNSt3__29to_stringEm=function(){return(i.__ZNSt3__29to_stringEm=i.asm._ZNSt3__29to_stringEm).apply(null,arguments)},i.__ZNSt3__219__shared_weak_count14__release_weakEv=function(){return(i.__ZNSt3__219__shared_weak_count14__release_weakEv=i.asm._ZNSt3__219__shared_weak_count14__release_weakEv).apply(null,arguments)},i.__ZNSt3__219__shared_weak_countD2Ev=function(){return(i.__ZNSt3__219__shared_weak_countD2Ev=i.asm._ZNSt3__219__shared_weak_countD2Ev).apply(null,arguments)},i.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm=function(){return(i.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm=i.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm).apply(null,arguments)},i._memcmp=function(){return(i._memcmp=i.asm.memcmp).apply(null,arguments)},i.__ZNSt3__212__next_primeEm=function(){return(i.__ZNSt3__212__next_primeEm=i.asm._ZNSt3__212__next_primeEm).apply(null,arguments)},i.___errno_location=function(){return(Br=i.___errno_location=i.asm.__errno_location).apply(null,arguments)}),Wr=(i._strtoull=function(){return(i._strtoull=i.asm.strtoull).apply(null,arguments)},i._strtoll=function(){return(i._strtoll=i.asm.strtoll).apply(null,arguments)},i._strtod=function(){return(i._strtod=i.asm.strtod).apply(null,arguments)},i._malloc=function(){return(Wr=i._malloc=i.asm.malloc).apply(null,arguments)}),Gr=i._free=function(){return(Gr=i._free=i.asm.free).apply(null,arguments)},Hr=(i._dlopen=function(){return(i._dlopen=i.asm.dlopen).apply(null,arguments)},i.__ZNSt12out_of_rangeD1Ev=function(){return(i.__ZNSt12out_of_rangeD1Ev=i.asm._ZNSt12out_of_rangeD1Ev).apply(null,arguments)},i.__ZNSt3__213random_deviceD1Ev=function(){return(i.__ZNSt3__213random_deviceD1Ev=i.asm._ZNSt3__213random_deviceD1Ev).apply(null,arguments)},i.__ZNSt3__213random_deviceclEv=function(){return(i.__ZNSt3__213random_deviceclEv=i.asm._ZNSt3__213random_deviceclEv).apply(null,arguments)},i._atan2f=function(){return(i._atan2f=i.asm.atan2f).apply(null,arguments)},i._sinf=function(){return(i._sinf=i.asm.sinf).apply(null,arguments)},i._cosf=function(){return(i._cosf=i.asm.cosf).apply(null,arguments)},i._strcmp=function(){return(i._strcmp=i.asm.strcmp).apply(null,arguments)},i._calloc=function(){return(i._calloc=i.asm.calloc).apply(null,arguments)},i._lrintf=function(){return(i._lrintf=i.asm.lrintf).apply(null,arguments)},i._fmaxf=function(){return(i._fmaxf=i.asm.fmaxf).apply(null,arguments)},i._expf=function(){return(i._expf=i.asm.expf).apply(null,arguments)},i._strncmp=function(){return(i._strncmp=i.asm.strncmp).apply(null,arguments)},i._roundf=function(){return(i._roundf=i.asm.roundf).apply(null,arguments)},i._fminf=function(){return(i._fminf=i.asm.fminf).apply(null,arguments)},i._qsort=function(){return(i._qsort=i.asm.qsort).apply(null,arguments)},i._fopen=function(){return(i._fopen=i.asm.fopen).apply(null,arguments)},i._fclose=function(){return(i._fclose=i.asm.fclose).apply(null,arguments)},i._fwrite=function(){return(i._fwrite=i.asm.fwrite).apply(null,arguments)},i._fread=function(){return(i._fread=i.asm.fread).apply(null,arguments)},i._realloc=function(){return(i._realloc=i.asm.realloc).apply(null,arguments)},i.___getTypeName=function(){return(Hr=i.___getTypeName=i.asm.__getTypeName).apply(null,arguments)}),Yr=(i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm._embind_initialize_bindings).apply(null,arguments)},i.__exit=function(){return(i.__exit=i.asm._exit).apply(null,arguments)},i._aligned_alloc=function(){return(i._aligned_alloc=i.asm.aligned_alloc).apply(null,arguments)},i._atan2=function(){return(i._atan2=i.asm.atan2).apply(null,arguments)},i._bsearch=function(){return(i._bsearch=i.asm.bsearch).apply(null,arguments)},i._close=function(){return(i._close=i.asm.close).apply(null,arguments)},i._cos=function(){return(i._cos=i.asm.cos).apply(null,arguments)},i._vsnprintf=function(){return(i._vsnprintf=i.asm.vsnprintf).apply(null,arguments)},i.___dl_seterr=function(){return(Yr=i.___dl_seterr=i.asm.__dl_seterr).apply(null,arguments)}),Zr=(i._erf=function(){return(i._erf=i.asm.erf).apply(null,arguments)},i._exp=function(){return(i._exp=i.asm.exp).apply(null,arguments)},i._expm1f=function(){return(i._expm1f=i.asm.expm1f).apply(null,arguments)},i._fileno=function(){return(i._fileno=i.asm.fileno).apply(null,arguments)},i._fmodf=function(){return(i._fmodf=i.asm.fmodf).apply(null,arguments)},i._fiprintf=function(){return(i._fiprintf=i.asm.fiprintf).apply(null,arguments)},i._fputc=function(){return(i._fputc=i.asm.fputc).apply(null,arguments)},i._frexp=function(){return(i._frexp=i.asm.frexp).apply(null,arguments)},i._fstat=function(){return(i._fstat=i.asm.fstat).apply(null,arguments)},i._getenv=function(){return(i._getenv=i.asm.getenv).apply(null,arguments)},i._hypot=function(){return(i._hypot=i.asm.hypot).apply(null,arguments)},i._hypotf=function(){return(i._hypotf=i.asm.hypotf).apply(null,arguments)},i._isspace=function(){return(i._isspace=i.asm.isspace).apply(null,arguments)},i._ldexp=function(){return(i._ldexp=i.asm.ldexp).apply(null,arguments)},i._emscripten_num_logical_cores=function(){return(i._emscripten_num_logical_cores=i.asm.emscripten_num_logical_cores).apply(null,arguments)},i._pthread_mutex_init=function(){return(i._pthread_mutex_init=i.asm.pthread_mutex_init).apply(null,arguments)},i._pthread_mutex_destroy=function(){return(i._pthread_mutex_destroy=i.asm.pthread_mutex_destroy).apply(null,arguments)},i._pthread_setspecific=function(){return(i._pthread_setspecific=i.asm.pthread_setspecific).apply(null,arguments)},i._pthread_cond_wait=function(){return(i._pthread_cond_wait=i.asm.pthread_cond_wait).apply(null,arguments)},i._pthread_cond_broadcast=function(){return(i._pthread_cond_broadcast=i.asm.pthread_cond_broadcast).apply(null,arguments)},i._pthread_cond_init=function(){return(i._pthread_cond_init=i.asm.pthread_cond_init).apply(null,arguments)},i._pthread_cond_destroy=function(){return(i._pthread_cond_destroy=i.asm.pthread_cond_destroy).apply(null,arguments)},i._pthread_mutex_lock=function(){return(i._pthread_mutex_lock=i.asm.pthread_mutex_lock).apply(null,arguments)},i._pthread_mutex_unlock=function(){return(i._pthread_mutex_unlock=i.asm.pthread_mutex_unlock).apply(null,arguments)},i._pthread_create=function(){return(i._pthread_create=i.asm.pthread_create).apply(null,arguments)},i._pthread_join=function(){return(i._pthread_join=i.asm.pthread_join).apply(null,arguments)},i._pthread_once=function(){return(i._pthread_once=i.asm.pthread_once).apply(null,arguments)},i._log=function(){return(i._log=i.asm.log).apply(null,arguments)},i._log1p=function(){return(i._log1p=i.asm.log1p).apply(null,arguments)},i._logf=function(){return(i._logf=i.asm.logf).apply(null,arguments)},i._mmap=function(){return(i._mmap=i.asm.mmap).apply(null,arguments)},i._munmap=function(){return(i._munmap=i.asm.munmap).apply(null,arguments)},i._nanf=function(){return(i._nanf=i.asm.nanf).apply(null,arguments)},i._open=function(){return(i._open=i.asm.open).apply(null,arguments)},i._pow=function(){return(i._pow=i.asm.pow).apply(null,arguments)},i._vfprintf=function(){return(i._vfprintf=i.asm.vfprintf).apply(null,arguments)},i.___small_printf=function(){return(i.___small_printf=i.asm.__small_printf).apply(null,arguments)},i._putchar=function(){return(i._putchar=i.asm.putchar).apply(null,arguments)},i._puts=function(){return(i._puts=i.asm.puts).apply(null,arguments)},i._round=function(){return(i._round=i.asm.round).apply(null,arguments)},i._sin=function(){return(i._sin=i.asm.sin).apply(null,arguments)},i._sysconf=function(){return(i._sysconf=i.asm.sysconf).apply(null,arguments)},i._tanhf=function(){return(i._tanhf=i.asm.tanhf).apply(null,arguments)},i._write=function(){return(i._write=i.asm.write).apply(null,arguments)},i._posix_memalign=function(){return(i._posix_memalign=i.asm.posix_memalign).apply(null,arguments)},i._emscripten_builtin_memalign=function(){return(Zr=i._emscripten_builtin_memalign=i.asm.emscripten_builtin_memalign).apply(null,arguments)}),qr=i._setThrew=function(){return(qr=i._setThrew=i.asm.setThrew).apply(null,arguments)},$r=i.setTempRet0=function(){return($r=i.setTempRet0=i.asm.setTempRet0).apply(null,arguments)},Kr=i.stackSave=function(){return(Kr=i.stackSave=i.asm.stackSave).apply(null,arguments)},Xr=i.stackRestore=function(){return(Xr=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},Jr=i.stackAlloc=function(){return(Jr=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=function(){return(i.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=i.asm._ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_).apply(null,arguments)},i.__ZNSt3__220__throw_system_errorEiPKc=function(){return(i.__ZNSt3__220__throw_system_errorEiPKc=i.asm._ZNSt3__220__throw_system_errorEiPKc).apply(null,arguments)},i.__ZNSt3__218condition_variable10notify_oneEv=function(){return(i.__ZNSt3__218condition_variable10notify_oneEv=i.asm._ZNSt3__218condition_variable10notify_oneEv).apply(null,arguments)},i.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=function(){return(i.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=i.asm._ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE).apply(null,arguments)},i.__ZNSt3__219__thread_local_dataEv=function(){return(i.__ZNSt3__219__thread_local_dataEv=i.asm._ZNSt3__219__thread_local_dataEv).apply(null,arguments)},i.__ZNSt3__215__thread_structC1Ev=function(){return(i.__ZNSt3__215__thread_structC1Ev=i.asm._ZNSt3__215__thread_structC1Ev).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm).apply(null,arguments)},i.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=function(){return(i.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=i.asm._ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info).apply(null,arguments)},i.__ZNSt9bad_allocD1Ev=function(){return(i.__ZNSt9bad_allocD1Ev=i.asm._ZNSt9bad_allocD1Ev).apply(null,arguments)},i.__ZNSt9bad_allocC1Ev=function(){return(i.__ZNSt9bad_allocC1Ev=i.asm._ZNSt9bad_allocC1Ev).apply(null,arguments)},i.__ZnwmRKSt9nothrow_t=function(){return(i.__ZnwmRKSt9nothrow_t=i.asm._ZnwmRKSt9nothrow_t).apply(null,arguments)},i.__ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(i.__ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=i.asm._ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm).apply(null,arguments)},i.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=function(){return(i.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=i.asm._ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi).apply(null,arguments)},i.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=function(){return(i.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=i.asm._ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE).apply(null,arguments)},i.__ZNSt3__215__thread_structD1Ev=function(){return(i.__ZNSt3__215__thread_structD1Ev=i.asm._ZNSt3__215__thread_structD1Ev).apply(null,arguments)},i.___cxa_can_catch=function(){return(i.___cxa_can_catch=i.asm.__cxa_can_catch).apply(null,arguments)},i.___cxa_is_pointer_type=function(){return(i.___cxa_is_pointer_type=i.asm.__cxa_is_pointer_type).apply(null,arguments)},i.dynCall_vij=function(){return(i.dynCall_vij=i.asm.dynCall_vij).apply(null,arguments)},i.dynCall_iij=function(){return(i.dynCall_iij=i.asm.dynCall_iij).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.dynCall_j=function(){return(i.dynCall_j=i.asm.dynCall_j).apply(null,arguments)},i.dynCall_ji=function(){return(i.dynCall_ji=i.asm.dynCall_ji).apply(null,arguments)},i.dynCall_jii=function(){return(i.dynCall_jii=i.asm.dynCall_jii).apply(null,arguments)},i.dynCall_iiiiij=function(){return(i.dynCall_iiiiij=i.asm.dynCall_iiiiij).apply(null,arguments)},i.dynCall_viijii=function(){return(i.dynCall_viijii=i.asm.dynCall_viijii).apply(null,arguments)},i.dynCall_jiiii=function(){return(i.dynCall_jiiii=i.asm.dynCall_jiiii).apply(null,arguments)},i.dynCall_iiiiijj=function(){return(i.dynCall_iiiiijj=i.asm.dynCall_iiiiijj).apply(null,arguments)},i.dynCall_iiiiiijj=function(){return(i.dynCall_iiiiiijj=i.asm.dynCall_iiiiiijj).apply(null,arguments)},i._orig$_ZNSt3__26chrono12steady_clock3nowEv=function(){return(i._orig$_ZNSt3__26chrono12steady_clock3nowEv=i.asm.orig$_ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},i._orig$strtoull=function(){return(i._orig$strtoull=i.asm.orig$strtoull).apply(null,arguments)},i._orig$strtoll=function(){return(i._orig$strtoll=i.asm.orig$strtoll).apply(null,arguments)},i._orig$mmap=function(){return(i._orig$mmap=i.asm.orig$mmap).apply(null,arguments)},i.___THREW__=407868,i.__ZTVSt12length_error=339288,i.__ZTVNSt3__217bad_function_callE=333160,i.__ZTVN10__cxxabiv120__si_class_type_infoE=338980,i.__ZTVN10__cxxabiv117__class_type_infoE=338940,i.__ZTVSt12out_of_range=339320,i._stderr=339584,i.__ZSt7nothrow=309827,i.UTF8ToString=R,i.addFunction=xe,i.FS=at,X=function e(){Ur||ei(),Ur||(X=e)};var Qr=!1;function ei(e){function t(){Ur||(Ur=!0,i.calledRun=!0,k||(q=!0,se(Z),i.noFSInit||at.init.initialized||at.init(),at.ignorePermissions=!1,nt.init(),se(G),se(H),n(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),ti&&function(e){var t=i._main;if(t){(e=e||[]).unshift(c);var n,r=e.length,a=Jr(4*(r+1)),o=a>>2;e.forEach((function(e){T[o++]=mt(e)})),T[o]=0;try{var s=t(r,a);y=n=s,Dr(n)}catch(e){return ce(e)}}}(e),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),Y.unshift(e);var e;se(Y)}()))}e=e||u,$>0||!Qr&&(m.length?(J(),m.reduce((function(e,t){return e.then((function(){return Pe(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Me(),Q()}))):Me(),Qr=!0,$>0)||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),W.unshift(e);var e;se(W)}(),$>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var ti=!0;return i.noInitialRun&&(ti=!1),ei(),e.ready});e.exports=n}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{AceMode:function(){return a},DapmCreateError:function(){return l},DnrStatus:function(){return s},InternalError:function(){return f},InvalidParamError:function(){return d},LogSeverity:function(){return c},SampleRate:function(){return o},StateDumpMode:function(){return u},getDapm:function(){return S},getVersion:function(){return w}});var e=n(859),t=n.n(e),i=Object.freeze("0.118.1-1184480-bf183dab"),a=Object.freeze({PASSTHROUGH:"PASSTHROUGH",STANDARD:"STANDARD",VOICEFONT_ONLY:"VOICEFONT_ONLY"}),o=Object.freeze({_16kHz:"_16kHz",_32kHz:"_32kHz",_48kHz:"_48kHz"}),s=Object.freeze({NOT_CONFIGURED:"NOT_CONFIGURED",CONFIGURED_DISABLED:"CONFIGURED_DISABLED",CONFIGURED_ENABLED:"CONFIGURED_ENABLED"}),u=Object.freeze({STANDARD:"STANDARD",LITE:"LITE"}),c=Object.freeze({DEBUG:"DBG",INFO:"INF",WARNING:"WRN",ERROR:"ERR"}),l=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).name="DapmCreateError",r}return g(n)}(_(Error)),d=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,"Parameter "+e+" has invalid value")).name="InvalidParamError",r}return g(n)}(_(Error)),f=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).name="InternalError",r}return g(n)}(_(Error));function w(){return i}function S(e){return x.apply(this,arguments)}function x(){return x=v(p().mark((function e(n){var r,i,k,b,_,w,S,x,E,T,C,j,P,M,I,R,A,D,O,N=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O=function(e){for(var t=0;t<e.numberOfChannels;t++){var n=new Float32Array(b.HEAPU8.buffer,m(this,E,I).call(this)[t],e.numberOfFrames);e.copyTo(n,{planeIndex:t})}},D=function(e){this.procArrayNumberOfFramesCapacity&&e==this.procArrayNumberOfFramesCapacity||(m(this,C,A).call(this),m(this,T,R).call(this,e))},A=function(){this.audioProcessingArrayPtr&&(b._free(this.audioProcessingArrayPtr),this.audioProcessingArrayPtr=null)},R=function(e){if(!this.audioProcessingArrayPtr){var t=4*this.numberOfChannels,n=this.numberOfChannels*e*4;this.audioProcessingArrayPtr=b._malloc(t+n);for(var r=m(this,E,I).call(this),i=0;i<this.numberOfChannels;i++)r[i]=this.audioProcessingArrayPtr+t+i*e*4;this.procArrayNumberOfFramesCapacity=e}},I=function(){if(this.audioProcessingArrayPtr)return new Uint32Array(b.HEAPU8.buffer,this.audioProcessingArrayPtr,this.numberOfChannels)},x=function(e){switch(e){case o._16kHz:return b.SampleRate._16kHz;case o._32kHz:return b.SampleRate._32kHz;case o._48kHz:return b.SampleRate._48kHz;default:throw new d("sampleRate")}},S=function(e){switch(e){case c.DEBUG:return b.LogSeverity.Debug;case c.INFO:return b.LogSeverity.Info;case c.WARNING:return b.LogSeverity.Warning;case c.ERROR:return b.LogSeverity.Error;default:throw new d("log_severity")}},w=function(e){switch(e){case a.PASSTHROUGH:return b.AceMode.PASSTHROUGH;case a.STANDARD:return b.AceMode.STANDARD;case a.VOICEFONT_ONLY:return b.AceMode.VOICEFONT_ONLY;default:throw new d("aceMode")}},_=function(e,t,n){if(typeof e!==t)throw new d(n)},r=N.length>1&&void 0!==N[1]?N[1]:1e4,i=n&&n.hasOwnProperty("wasmFake"),k=null,e.next=14,Promise.race([new Promise((function(e,t){k=setTimeout((function(){t(new l("Timed out waiting for DAPM to load"))}),r)})),function(){try{if(i)return n.wasmFake();if(n&&n.wasmFilePath)return t()({locateFile:function(){return n.wasmFilePath}});throw new l("Parameter 'wasmFilePath' is not defined")}catch(n){throw new l(n.message)}}().catch((function(e){throw new l(e.message)})).finally((function(){null!==k&&clearTimeout(k)}))]);case 14:return b=e.sent,E=new WeakSet,T=new WeakSet,C=new WeakSet,j=new WeakSet,P=new WeakSet,M=function(){function e(t,n){var r=this;return y(this,e),h(this,P),h(this,j),h(this,C),h(this,T),h(this,E),v(p().mark((function e(){var i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.wasDnrConfigurationCallbackAlreadyExecuted=!1,i=null,a=new Promise((function(e,t){i=e})),o=b.addFunction(function(e){n&&n(function(e){switch(e){case b.DnrStatus.NOT_CONFIGURED.value:return s.NOT_CONFIGURED;case b.DnrStatus.CONFIGURED_DISABLED.value:return s.CONFIGURED_DISABLED;case b.DnrStatus.CONFIGURED_ENABLED.value:return s.CONFIGURED_ENABLED;default:throw new d("wasm_dnr_status")}}(e)),r.wasDnrConfigurationCallbackAlreadyExecuted||i()}.bind(r),"vi"),r.audioProcessingImpl=b.AudioProcessing.Create({sample_rate:x(t.sample_rate),num_channels:t.num_channels,input_scaling:t.input_scaling,enable_audio_logging:t.enable_audio_logging,audio_logging_length:t.audio_logging_length,mode:w(t.mode),dnr_lib_path:t.dnr_lib_path,dnr_model_path:t.dnr_model_path,access_token:t.access_token,log_severity:S(t.log_severity)},o),r.numberOfChannels=t.num_channels,r.audioProcessingArrayPtr=null,r.procArrayNumberOfFramesCapacity=null,r.audioProcessingImpl){e.next=4;break}throw new f("Failed to create AudioProcessing");case 4:return e.next=6,a;case 6:return r.wasDnrConfigurationCallbackAlreadyExecuted=!0,a=i=null,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))()}return g(e,[{key:"process",value:function(e){if(!(e instanceof AudioData))throw new d("audioData");m(this,j,D).call(this,e.numberOfFrames),m(this,P,O).call(this,e),this.audioProcessingImpl.process(this.audioProcessingArrayPtr,e.numberOfFrames);var t=e.numberOfChannels*e.numberOfFrames;return new Float32Array(b.HEAPU8.buffer,m(this,E,I).call(this)[0],t)}},{key:"getAvailableVoiceFonts",value:function(){return this.audioProcessingImpl.getAvailableVoiceFonts()}},{key:"setVoiceFont",value:function(e){return _(e,"string","font"),this.audioProcessingImpl.setVoiceFont(e)}},{key:"isAgcEnabled",value:function(){return this.audioProcessingImpl.isAgcEnabled()}},{key:"setAgcEnable",value:function(e){return _(e,"boolean","enable"),this.audioProcessingImpl.setAgcEnable(e)}},{key:"isNoiseSupressionEnabled",value:function(){return this.audioProcessingImpl.isNoiseSupressionEnabled()}},{key:"isDnrEnabled",value:function(){return this.audioProcessingImpl.isDnrEnabled()}},{key:"setNoiseSupressionEnable",value:function(e){return _(e,"boolean","enable"),this.audioProcessingImpl.setNoiseSupressionEnable(e)}},{key:"messageForFsError",value:function(e){var t=void 0!==e.name?e.name+": ":"",n=void 0!==e.errno?" (errno: ".concat(e.errno,")"):"";return t+e.message+n}},{key:"getStateDump",value:function(e,t){var n=e===u.STANDARD,r=0,i="state_dump.zip";if(t){_(t,"object","additionalFiles");var a=t;a instanceof Map||(a=new Map(Object.entries(t)));var o=b.convertMapStringToString(a);r=this.audioProcessingImpl.saveStateDumpWithCustomData(i,n,o)}else r=this.audioProcessingImpl.saveStateDump(i,n);if(0==r)throw new f("Failed to create state dump (".concat(r,")"));if(b.FS.analyzePath(i).exists){var s=null;try{s=b.FS.readFile(i)}catch(e){throw new f(messageForFsError(e))}try{b.FS.unlink(i)}catch(e){console.warning("Failed to unlink state dump: "+messageForFsError(e))}return{type:"zip",content:new Blob([s.buffer],{type:"application/zip"})}}throw new f("Failed to create state dump. File '".concat(i,"' does not exist."))}},{key:"setAudioLoggingLength",value:function(e){if(_(e,"number","audioLoggingLength"),!this.audioProcessingImpl.setAudioLoggingLength(e))throw new f("Failed to set audio logging length, make sure if dapm is configured with audio logging enabled.")}},{key:"getAudioLoggingLength",value:function(){return this.audioProcessingImpl.getAudioLoggingLength()}},{key:"setTimetracingLength",value:function(e){return _(e,"number","timeTracingLength"),this.audioProcessingImpl.setTimetracingLength(e)}},{key:"getTimetracingLength",value:function(){return this.audioProcessingImpl.getTimetracingLength()}},{key:"getStats",value:function(){return this.audioProcessingImpl.getStats()}},{key:"destroy",value:function(){m(this,C,A).call(this),this.audioProcessingImpl.delete()}}]),e}(),e.abrupt("return",new(function(){function e(){y(this,e),this.audioProcessing=null}return g(e,[{key:"createAudioProcessing",value:function(){var e=v(p().mark((function e(t,n,r){var i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.audioProcessing,e.next=3,new M(t,n,r);case 3:return this.audioProcessing=e.sent,i&&i.destroy(),e.abrupt("return",this.audioProcessing);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"createMemoryManager",value:function(){return new MemoryManager}},{key:"clean",value:function(){this.audioProcessing&&this.audioProcessing.destroy()}},{key:"registerLoggerCallback",value:function(e){b.AudioProcessing.RegisterLoggerCb(b.addFunction((function(t,n,r,i){e&&e(function(e){switch(e){case b.LogSeverity.Debug.value:return c.DEBUG;case b.LogSeverity.Info.value:return c.INFO;case b.LogSeverity.Warning.value:return c.WARNING;case b.LogSeverity.Error.value:return c.ERROR;default:throw new d("wasm_log_severity")}}(t),b.UTF8ToString(n),b.UTF8ToString(r),i)}),"viiii"))}},{key:"unregisterLoggerCallback",value:function(){b.AudioProcessing.UnregisterLoggerCb()}}]),e}()));case 22:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}}(),r}()},e.exports=t()},7806:function(e,t){!function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n);if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function h(e){var t={exports:{}};return e(t,t.exports),t.exports}var m,_,w=function(e){return e&&e.Math==Math&&e},S=w("object"==typeof globalThis&&globalThis)||w("object"==typeof window&&window)||w("object"==typeof self&&self)||w("object"==typeof a&&a)||function(){return this}()||Function("return this")(),x=function(e){try{return!!e()}catch(e){return!0}},E=!x((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),T=!x((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),C=Function.prototype.call,j=T?C.bind(C):function(){return C.apply(C,arguments)},P={}.propertyIsEnumerable,M=Object.getOwnPropertyDescriptor,I=M&&!P.call({1:2},1)?function(e){var t=M(this,e);return!!t&&t.enumerable}:P,R={f:I},A=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},D=Function.prototype,O=D.call,N=T&&D.bind.bind(O,O),L=T?N:function(e){return function(){return O.apply(e,arguments)}},F=L({}.toString),z=L("".slice),U=function(e){return z(F(e),8,-1)},V=Object,B=L("".split),W=x((function(){return!V("z").propertyIsEnumerable(0)}))?function(e){return"String"==U(e)?B(e,""):V(e)}:V,G=function(e){return null==e},H=TypeError,Y=function(e){if(G(e))throw H("Can't call method on "+e);return e},Z=function(e){return W(Y(e))},q="object"==typeof document&&document.all,K={all:q,IS_HTMLDDA:void 0===q&&void 0!==q},X=K.all,J=K.IS_HTMLDDA?function(e){return"function"==typeof e||e===X}:function(e){return"function"==typeof e},Q=K.all,ee=K.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:J(e)||e===Q}:function(e){return"object"==typeof e?null!==e:J(e)},te=function(e){return J(e)?e:void 0},ne=function(e,t){return arguments.length<2?te(S[e]):S[e]&&S[e][t]},re=L({}.isPrototypeOf),ie=ne("navigator","userAgent")||"",ae=S.process,oe=S.Deno,se=ae&&ae.versions||oe&&oe.version,ue=se&&se.v8;ue&&(_=(m=ue.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!_&&ie&&(!(m=ie.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=ie.match(/Chrome\/(\d+)/))&&(_=+m[1]);var ce=_,le=!!Object.getOwnPropertySymbols&&!x((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ce&&ce<41})),de=le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,fe=Object,pe=de?function(e){return"symbol"==typeof e}:function(e){var t=ne("Symbol");return J(t)&&re(t.prototype,fe(e))},he=String,me=function(e){try{return he(e)}catch(e){return"Object"}},ve=TypeError,ge=function(e){if(J(e))return e;throw ve(me(e)+" is not a function")},ye=function(e,t){var n=e[t];return G(n)?void 0:ge(n)},ke=TypeError,be=Object.defineProperty,_e=function(e,t){try{be(S,e,{value:t,configurable:!0,writable:!0})}catch(r){S[e]=t}return t},we="__core-js_shared__",Se=S[we]||_e(we,{}),xe=h((function(e){(e.exports=function(e,t){return Se[e]||(Se[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),Ee=Object,Te=function(e){return Ee(Y(e))},Ce=L({}.hasOwnProperty),je=Object.hasOwn||function(e,t){return Ce(Te(e),t)},Pe=0,Me=Math.random(),Ie=L(1..toString),Re=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ie(++Pe+Me,36)},Ae=xe("wks"),De=S.Symbol,Oe=De&&De.for,Ne=de?De:De&&De.withoutSetter||Re,Le=function(e){if(!je(Ae,e)||!le&&"string"!=typeof Ae[e]){var t="Symbol."+e;le&&je(De,e)?Ae[e]=De[e]:Ae[e]=de&&Oe?Oe(t):Ne(t)}return Ae[e]},Fe=TypeError,ze=Le("toPrimitive"),Ue=function(e){var t=function(e,t){if(!ee(e)||pe(e))return e;var n,r=ye(e,ze);if(r){if(void 0===t&&(t="default"),n=j(r,e,t),!ee(n)||pe(n))return n;throw Fe("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&J(n=e.toString)&&!ee(r=j(n,e)))return r;if(J(n=e.valueOf)&&!ee(r=j(n,e)))return r;if("string"!==t&&J(n=e.toString)&&!ee(r=j(n,e)))return r;throw ke("Can't convert object to primitive value")}(e,t)}(e,"string");return pe(t)?t:t+""},Ve=S.document,Be=ee(Ve)&&ee(Ve.createElement),We=function(e){return Be?Ve.createElement(e):{}},Ge=!E&&!x((function(){return 7!=Object.defineProperty(We("div"),"a",{get:function(){return 7}}).a})),He=Object.getOwnPropertyDescriptor,Ye={f:E?He:function(e,t){if(e=Z(e),t=Ue(t),Ge)try{return He(e,t)}catch(e){}if(je(e,t))return A(!j(R.f,e,t),e[t])}},Ze=E&&x((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),qe=String,$e=TypeError,Ke=function(e){if(ee(e))return e;throw $e(qe(e)+" is not an object")},Xe=TypeError,Je=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,et="enumerable",tt="configurable",nt="writable",rt={f:E?Ze?function(e,t,n){if(Ke(e),t=Ue(t),Ke(n),"function"==typeof e&&"prototype"===t&&"value"in n&&nt in n&&!n[nt]){var r=Qe(e,t);r&&r[nt]&&(e[t]=n.value,n={configurable:tt in n?n[tt]:r[tt],enumerable:et in n?n[et]:r[et],writable:!1})}return Je(e,t,n)}:Je:function(e,t,n){if(Ke(e),t=Ue(t),Ke(n),Ge)try{return Je(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Xe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},it=E?function(e,t,n){return rt.f(e,t,A(1,n))}:function(e,t,n){return e[t]=n,e},at=Function.prototype,ot=E&&Object.getOwnPropertyDescriptor,st=je(at,"name"),ut={EXISTS:st,PROPER:st&&"something"===function(){}.name,CONFIGURABLE:st&&(!E||E&&ot(at,"name").configurable)},ct=L(Function.toString);J(Se.inspectSource)||(Se.inspectSource=function(e){return ct(e)});var lt,dt,ft,pt=Se.inspectSource,ht=S.WeakMap,mt=J(ht)&&/native code/.test(String(ht)),vt=xe("keys"),gt=function(e){return vt[e]||(vt[e]=Re(e))},yt={},kt="Object already initialized",bt=S.TypeError,_t=S.WeakMap;if(mt||Se.state){var wt=Se.state||(Se.state=new _t);wt.get=wt.get,wt.has=wt.has,wt.set=wt.set,lt=function(e,t){if(wt.has(e))throw bt(kt);return t.facade=e,wt.set(e,t),t},dt=function(e){return wt.get(e)||{}},ft=function(e){return wt.has(e)}}else{var St=gt("state");yt[St]=!0,lt=function(e,t){if(je(e,St))throw bt(kt);return t.facade=e,it(e,St,t),t},dt=function(e){return je(e,St)?e[St]:{}},ft=function(e){return je(e,St)}}var xt={set:lt,get:dt,has:ft,enforce:function(e){return ft(e)?dt(e):lt(e,{})},getterFor:function(e){return function(t){var n;if(!ee(t)||(n=dt(t)).type!==e)throw bt("Incompatible receiver, "+e+" required");return n}}},Et=h((function(e){var t=ut.CONFIGURABLE,n=xt.enforce,r=xt.get,i=Object.defineProperty,a=E&&!x((function(){return 8!==i((function(){}),"length",{value:8}).length})),o=String(String).split("String"),s=e.exports=function(e,r,s){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(r="get "+r),s&&s.setter&&(r="set "+r),(!je(e,"name")||t&&e.name!==r)&&(E?i(e,"name",{value:r,configurable:!0}):e.name=r),a&&s&&je(s,"arity")&&e.length!==s.arity&&i(e,"length",{value:s.arity});try{s&&je(s,"constructor")&&s.constructor?E&&i(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var u=n(e);return je(u,"source")||(u.source=o.join("string"==typeof r?r:"")),e};Function.prototype.toString=s((function(){return J(this)&&r(this).source||pt(this)}),"toString")})),Tt=function(e,t,n,r){r||(r={});var i=r.enumerable,a=void 0!==r.name?r.name:t;if(J(n)&&Et(n,a,r),r.global)i?e[t]=n:_e(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:rt.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Ct=Math.ceil,jt=Math.floor,Pt=Math.trunc||function(e){var t=+e;return(t>0?jt:Ct)(t)},Mt=function(e){var t=+e;return t!=t||0===t?0:Pt(t)},It=Math.max,Rt=Math.min,At=Math.min,Dt=function(e){return e>0?At(Mt(e),9007199254740991):0},Ot=function(e){return Dt(e.length)},Nt=function(e){return function(t,n,r){var i,a=Z(t),o=Ot(a),s=function(e,t){var n=Mt(e);return n<0?It(n+t,0):Rt(n,t)}(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},Lt={includes:Nt(!0),indexOf:Nt(!1)},Ft=Lt.indexOf,zt=L([].push),Ut=function(e,t){var n,r=Z(e),i=0,a=[];for(n in r)!je(yt,n)&&je(r,n)&&zt(a,n);for(;t.length>i;)je(r,n=t[i++])&&(~Ft(a,n)||zt(a,n));return a},Vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Bt=Vt.concat("length","prototype"),Wt={f:Object.getOwnPropertyNames||function(e){return Ut(e,Bt)}},Gt={f:Object.getOwnPropertySymbols},Ht=L([].concat),Yt=ne("Reflect","ownKeys")||function(e){var t=Wt.f(Ke(e)),n=Gt.f;return n?Ht(t,n(e)):t},Zt=function(e,t,n){for(var r=Yt(t),i=rt.f,a=Ye.f,o=0;o<r.length;o++){var s=r[o];je(e,s)||n&&je(n,s)||i(e,s,a(t,s))}},qt=/#|\.prototype\./,$t=function(e,t){var n=Xt[Kt(e)];return n==Qt||n!=Jt&&(J(t)?x(t):!!t)},Kt=$t.normalize=function(e){return String(e).replace(qt,".").toLowerCase()},Xt=$t.data={},Jt=$t.NATIVE="N",Qt=$t.POLYFILL="P",en=$t,tn=Ye.f,nn=function(e,t){var n,r,i,a,o,s=e.target,u=e.global,c=e.stat;if(n=u?S:c?S[s]||_e(s,{}):(S[s]||{}).prototype)for(r in t){if(a=t[r],i=e.dontCallGetSet?(o=tn(n,r))&&o.value:n[r],!en(u?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Zt(a,i)}(e.sham||i&&i.sham)&&it(a,"sham",!0),Tt(n,r,a,e)}},rn=Function.prototype,an=rn.apply,on=rn.call,sn="object"==typeof Reflect&&Reflect.apply||(T?on.bind(an):function(){return on.apply(an,arguments)}),un=Array.isArray||function(e){return"Array"==U(e)},cn=L([].slice),ln=ne("JSON","stringify"),dn=L(/./.exec),fn=L("".charAt),pn=L("".charCodeAt),hn=L("".replace),mn=L(1..toString),vn=/[\uD800-\uDFFF]/g,gn=/^[\uD800-\uDBFF]$/,yn=/^[\uDC00-\uDFFF]$/,kn=!le||x((function(){var e=ne("Symbol")();return"[null]"!=ln([e])||"{}"!=ln({a:e})||"{}"!=ln(Object(e))})),bn=x((function(){return'"\\udf06\\ud834"'!==ln("\udf06\ud834")||'"\\udead"'!==ln("\udead")})),_n=function(e,t){var n=cn(arguments),r=t;if((ee(t)||void 0!==e)&&!pe(e))return un(t)||(t=function(e,t){if(J(r)&&(t=j(r,this,e,t)),!pe(t))return t}),n[1]=t,sn(ln,null,n)},wn=function(e,t,n){var r=fn(n,t-1),i=fn(n,t+1);return dn(gn,e)&&!dn(yn,i)||dn(yn,e)&&!dn(gn,r)?"\\u"+mn(pn(e,0),16):e};ln&&nn({target:"JSON",stat:!0,arity:3,forced:kn||bn},{stringify:function(e,t,n){var r=cn(arguments),i=sn(kn?_n:ln,null,r);return bn&&"string"==typeof i?hn(i,vn,wn):i}});var Sn,xn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},En=We("span").classList,Tn=En&&En.constructor&&En.constructor.prototype,Cn=Tn===Object.prototype?void 0:Tn,jn=Object.keys||function(e){return Ut(e,Vt)},Pn=E&&!Ze?Object.defineProperties:function(e,t){Ke(e);for(var n,r=Z(t),i=jn(t),a=i.length,o=0;a>o;)rt.f(e,n=i[o++],r[n]);return e},Mn={f:Pn},In=ne("document","documentElement"),Rn="prototype",An="script",Dn=gt("IE_PROTO"),On=function(){},Nn=function(e){return"<script>"+e+"</"+An+">"},Ln=function(e){e.write(Nn("")),e.close();var t=e.parentWindow.Object;return e=null,t},Fn=function(){try{Sn=new ActiveXObject("htmlfile")}catch(e){}var e,t;Fn="undefined"!=typeof document?document.domain&&Sn?Ln(Sn):((t=We("iframe")).style.display="none",In.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Nn("document.F=Object")),e.close(),e.F):Ln(Sn);for(var n=Vt.length;n--;)delete Fn[Rn][Vt[n]];return Fn()};yt[Dn]=!0;var zn=Object.create||function(e,t){var n;return null!==e?(On[Rn]=Ke(e),n=new On,On[Rn]=null,n[Dn]=e):n=Fn(),void 0===t?n:Mn.f(n,t)},Un=rt.f,Vn=Le("unscopables"),Bn=Array.prototype;null==Bn[Vn]&&Un(Bn,Vn,{configurable:!0,value:zn(null)});var Wn,Gn,Hn,Yn=function(e){Bn[Vn][e]=!0},Zn={},qn=!x((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),$n=gt("IE_PROTO"),Kn=Object,Xn=Kn.prototype,Jn=qn?Kn.getPrototypeOf:function(e){var t=Te(e);if(je(t,$n))return t[$n];var n=t.constructor;return J(n)&&t instanceof n?n.prototype:t instanceof Kn?Xn:null},Qn=Le("iterator"),er=!1;[].keys&&("next"in(Hn=[].keys())?(Gn=Jn(Jn(Hn)))!==Object.prototype&&(Wn=Gn):er=!0);var tr=!ee(Wn)||x((function(){var e={};return Wn[Qn].call(e)!==e}));tr&&(Wn={}),J(Wn[Qn])||Tt(Wn,Qn,(function(){return this}));var nr={IteratorPrototype:Wn,BUGGY_SAFARI_ITERATORS:er},rr=rt.f,ir=Le("toStringTag"),ar=function(e,t,n){e&&!n&&(e=e.prototype),e&&!je(e,ir)&&rr(e,ir,{configurable:!0,value:t})},or=nr.IteratorPrototype,sr=function(){return this},ur=function(e,t,n,r){var i=t+" Iterator";return e.prototype=zn(or,{next:A(+!r,n)}),ar(e,i,!1),Zn[i]=sr,e},cr=String,lr=TypeError,dr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=L(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Ke(n),function(e){if("object"==typeof e||J(e))return e;throw lr("Can't set "+cr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),fr=ut.PROPER,pr=ut.CONFIGURABLE,hr=nr.IteratorPrototype,mr=nr.BUGGY_SAFARI_ITERATORS,vr=Le("iterator"),gr="keys",yr="values",kr="entries",br=function(){return this},_r=function(e,t){return{value:e,done:t}},wr=rt.f,Sr="Array Iterator",xr=xt.set,Er=xt.getterFor(Sr),Tr=function(e,t,n,r,i,a,o){ur(n,t,(function(){var e=Er(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,_r(void 0,!0)):_r("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}));var s,u,c,l=function(e){if(e===i&&h)return h;if(!mr&&e in f)return f[e];switch(e){case gr:case yr:case kr:return function(){return new n(this,e)}}return function(){return new n(this)}},d=!1,f=e.prototype,p=f[vr]||f["@@iterator"]||f[i],h=!mr&&p||l(i),m=f.entries||p;if(m&&(s=Jn(m.call(new e)))!==Object.prototype&&s.next&&(Jn(s)!==hr&&(dr?dr(s,hr):J(s[vr])||Tt(s,vr,br)),ar(s,"Array Iterator",!0)),fr&&p&&p.name!==yr&&(pr?it(f,"name",yr):(d=!0,h=function(){return j(p,this)})),void(u={values:l(yr),keys:l(gr),entries:l(kr)}))for(c in u)(mr||d||!(c in f))&&Tt(f,c,u[c]);else nn({target:t,proto:!0,forced:mr||d},u);return f[vr]!==h&&Tt(f,vr,h,{name:i}),Zn[t]=h,u}(Array,"Array",(function(e,t){xr(this,{type:Sr,target:Z(e),index:0,kind:t})}),0,"values"),Cr=Zn.Arguments=Zn.Array;if(Yn("keys"),Yn("values"),Yn("entries"),E&&"values"!==Cr.name)try{wr(Cr,"name",{value:"values"})}catch(e){}var jr=Le("iterator"),Pr=Le("toStringTag"),Mr=Tr.values,Ir=function(e,t){if(e){if(e[jr]!==Mr)try{it(e,jr,Mr)}catch(t){e[jr]=Mr}if(e[Pr]||it(e,Pr,t),xn[t])for(var n in Tr)if(e[n]!==Tr[n])try{it(e,n,Tr[n])}catch(t){e[n]=Tr[n]}}};for(var Rr in xn)Ir(S[Rr]&&S[Rr].prototype,Rr);Ir(Cn,"DOMTokenList");var Ar=h((function(e){!function(t){var n,r={VERSION:"1.6.1"},i={},a=function(e,t){return function(){return t.apply(e,arguments)}},o=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},s=function(e,t){return{value:e,name:t}};r.TRACE=s(1,"TRACE"),r.DEBUG=s(2,"DEBUG"),r.INFO=s(3,"INFO"),r.TIME=s(4,"TIME"),r.WARN=s(5,"WARN"),r.ERROR=s(8,"ERROR"),r.OFF=s(99,"OFF");var u=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};u.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,o({level:e},this.context))}};var c,l=new u({filterLevel:r.OFF});(c=r).enabledFor=a(l,l.enabledFor),c.trace=a(l,l.trace),c.debug=a(l,l.debug),c.time=a(l,l.time),c.timeEnd=a(l,l.timeEnd),c.info=a(l,l.info),c.warn=a(l,l.warn),c.error=a(l,l.error),c.log=c.info,r.setHandler=function(e){n=e},r.setLevel=function(e){for(var t in l.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return i[e]||(i[e]=new u(o({name:e},l.context)))},r.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,a){i=Array.prototype.slice.call(i);var o,s=console.log;a.level===r.TIME?(o=(a.name?"["+a.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(o):t[o]=(new Date).getTime():console.timeEnd?console.timeEnd(o):n(s,[o+": "+((new Date).getTime()-t[o])+"ms"])):(a.level===r.WARN&&console.warn?s=console.warn:a.level===r.ERROR&&console.error?s=console.error:a.level===r.INFO&&console.info?s=console.info:a.level===r.DEBUG&&console.debug?s=console.debug:a.level===r.TRACE&&console.trace&&(s=console.trace),e.formatter(i,a),n(s,i))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},r.setDefaults=r.useDefaults,e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)}(a)}));function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ar.useDefaults({defaultLevel:Ar.TRACE});var Nr=function(e,t){e.unshift("[".concat(t.name||"Global","] ").concat((new Date).toISOString()," - ").concat(t.level.name," -"))},Lr=function(e,t){return t?e.value>=Br[t].value:e.value>=Vr.value},Fr=Ar.createDefaultHandler({formatter:Nr});Ar.setHandler((function(e,t){(function(e,t){e=(e=Array.prototype.slice.call(e)).map((function(e){return"object"==typeof e?JSON.stringify(e):e})),Nr(e,t),0!==zr?(Ur.push(e.join(" ")),Ur.length>=zr&&(Ur=Ur.slice(-zr))):Ur=[]})(e,t),Lr(t.level,t.name)&&Fr(e,t);var n,r=f(Wr);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.handler,o=i.level;t.level.value>=o.value&&a(e,t)}}catch(s){r.e(s)}finally{r.f()}}));var zr=1e4,Ur=[],Vr=Ar.OFF,Br={},Wr=[],Gr=Or(Or({},Ar),{},{enabledFor:Lr,getHistory:function(){return Ur},getHistoryMaxSize:function(){return zr},setHistoryMaxSize:function(e){zr=e},setLevel:function(e){for(var t in Vr=e,Br)Br[t]=e},getLevel:function(){return Vr},get:function(e){Br[e]||(Br[e]=Vr);var t=Ar.get(e);return t.setLevel=function(t){Br[e]=t},t.getLevel=function(){return Br[e]},t},setHandler:function(e,t){Wr.push({handler:e,level:t})}}),Hr="process"==U(S.process),Yr=Le("species"),Zr=function(e){var t=ne(e),n=rt.f;E&&t&&!t[Yr]&&n(t,Yr,{configurable:!0,get:function(){return this}})},qr=TypeError,$r={};$r[Le("toStringTag")]="z";var Kr="[object z]"===String($r),Xr=Le("toStringTag"),Jr=Object,Qr="Arguments"==U(function(){return arguments}()),ei=Kr?U:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Jr(e),Xr))?n:Qr?U(t):"Object"==(r=U(t))&&J(t.callee)?"Arguments":r},ti=function(){},ni=[],ri=ne("Reflect","construct"),ii=/^\s*(?:class|function)\b/,ai=L(ii.exec),oi=!ii.exec(ti),si=function(e){if(!J(e))return!1;try{return ri(ti,ni,e),!0}catch(e){return!1}},ui=function(e){if(!J(e))return!1;switch(ei(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return oi||!!ai(ii,pt(e))}catch(e){return!0}};ui.sham=!0;var ci,li,di,fi,pi=!ri||x((function(){var e;return si(si.call)||!si(Object)||!si((function(){e=!0}))||e}))?ui:si,hi=TypeError,mi=Le("species"),vi=function(e,t){var n,r=Ke(e).constructor;return void 0===r||G(n=Ke(r)[mi])?t:function(e){if(pi(e))return e;throw hi(me(e)+" is not a constructor")}(n)},gi=function(e){if("Function"===U(e))return L(e)},yi=gi(gi.bind),ki=function(e,t){return ge(e),void 0===t?e:T?yi(e,t):function(){return e.apply(t,arguments)}},bi=TypeError,_i=function(e,t){if(e<t)throw bi("Not enough arguments");return e},wi=/(?:ipad|iphone|ipod).*applewebkit/i.test(ie),Si=S.setImmediate,xi=S.clearImmediate,Ei=S.process,Ti=S.Dispatch,Ci=S.Function,ji=S.MessageChannel,Pi=S.String,Mi=0,Ii={},Ri="onreadystatechange";try{ci=S.location}catch(e){}var Ai=function(e){if(je(Ii,e)){var t=Ii[e];delete Ii[e],t()}},Di=function(e){return function(){Ai(e)}},Oi=function(e){Ai(e.data)},Ni=function(e){S.postMessage(Pi(e),ci.protocol+"//"+ci.host)};Si&&xi||(Si=function(e){_i(arguments.length,1);var t=J(e)?e:Ci(e),n=cn(arguments,1);return Ii[++Mi]=function(){sn(t,void 0,n)},li(Mi),Mi},xi=function(e){delete Ii[e]},Hr?li=function(e){Ei.nextTick(Di(e))}:Ti&&Ti.now?li=function(e){Ti.now(Di(e))}:ji&&!wi?(fi=(di=new ji).port2,di.port1.onmessage=Oi,li=ki(fi.postMessage,fi)):S.addEventListener&&J(S.postMessage)&&!S.importScripts&&ci&&"file:"!==ci.protocol&&!x(Ni)?(li=Ni,S.addEventListener("message",Oi,!1)):li=Ri in We("script")?function(e){In.appendChild(We("script"))[Ri]=function(){In.removeChild(this),Ai(e)}}:function(e){setTimeout(Di(e),0)});var Li,Fi,zi,Ui,Vi,Bi,Wi,Gi,Hi={set:Si,clear:xi},Yi=/ipad|iphone|ipod/i.test(ie)&&void 0!==S.Pebble,Zi=/web0s(?!.*chrome)/i.test(ie),qi=Ye.f,$i=Hi.set,Ki=S.MutationObserver||S.WebKitMutationObserver,Xi=S.document,Ji=S.process,Qi=S.Promise,ea=qi(S,"queueMicrotask"),ta=ea&&ea.value;ta||(Li=function(){var e,t;for(Hr&&(e=Ji.domain)&&e.exit();Fi;){t=Fi.fn,Fi=Fi.next;try{t()}catch(e){throw Fi?Ui():zi=void 0,e}}zi=void 0,e&&e.enter()},wi||Hr||Zi||!Ki||!Xi?!Yi&&Qi&&Qi.resolve?((Wi=Qi.resolve(void 0)).constructor=Qi,Gi=ki(Wi.then,Wi),Ui=function(){Gi(Li)}):Hr?Ui=function(){Ji.nextTick(Li)}:($i=ki($i,S),Ui=function(){$i(Li)}):(Vi=!0,Bi=Xi.createTextNode(""),new Ki(Li).observe(Bi,{characterData:!0}),Ui=function(){Bi.data=Vi=!Vi}));var na=ta||function(e){var t={fn:e,next:void 0};zi&&(zi.next=t),Fi||(Fi=t,Ui()),zi=t},ra=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ia=function(){this.head=null,this.tail=null};ia.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var aa=ia,oa=S.Promise,sa="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,ua=!sa&&!Hr&&"object"==typeof window&&"object"==typeof document;oa&&oa.prototype;var ca,la,da,fa=Le("species"),pa=!1,ha=J(S.PromiseRejectionEvent),ma=en("Promise",(function(){var e=pt(oa),t=e!==String(oa);if(!t&&66===ce)return!0;if(!ce||ce<51||!/native code/.test(e)){var n=new oa((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[fa]=r,!(pa=n.then((function(){}))instanceof r))return!0}return!t&&(ua||sa)&&!ha})),va={CONSTRUCTOR:ma,REJECTION_EVENT:ha,SUBCLASSING:pa},ga=TypeError,ya=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw ga("Bad Promise constructor");t=e,n=r})),this.resolve=ge(t),this.reject=ge(n)},ka={f:function(e){return new ya(e)}},ba=Hi.set,_a="Promise",wa=va.CONSTRUCTOR,Sa=va.REJECTION_EVENT,xa=va.SUBCLASSING,Ea=xt.getterFor(_a),Ta=xt.set,Ca=oa&&oa.prototype,ja=oa,Pa=Ca,Ma=S.TypeError,Ia=S.document,Ra=S.process,Aa=ka.f,Da=Aa,Oa=!!(Ia&&Ia.createEvent&&S.dispatchEvent),Na="unhandledrejection",La=function(e){var t;return!(!ee(e)||!J(t=e.then))&&t},Fa=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2===t.rejection&&Wa(t),t.rejection=1),!0===s?n=a:(l&&l.enter(),n=s(a),l&&(l.exit(),i=!0)),n===e.promise?c(Ma("Promise-chain cycle")):(r=La(n))?j(r,n,u,c):u(n)):c(a)}catch(e){l&&!i&&l.exit(),c(e)}},za=function(e,t){e.notified||(e.notified=!0,na((function(){for(var n,r=e.reactions;n=r.get();)Fa(n,e);e.notified=!1,t&&!e.rejection&&Va(e)})))},Ua=function(e,t,n){var r,i;Oa?((r=Ia.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),S.dispatchEvent(r)):r={promise:t,reason:n},!Sa&&(i=S["on"+e])?i(r):e===Na&&function(e,t){var n=S.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Va=function(e){j(ba,S,(function(){var t,n=e.facade,r=e.value;if(Ba(e)&&(t=ra((function(){Hr?Ra.emit("unhandledRejection",r,n):Ua(Na,n,r)})),e.rejection=Hr||Ba(e)?2:1,t.error))throw t.value}))},Ba=function(e){return 1!==e.rejection&&!e.parent},Wa=function(e){j(ba,S,(function(){var t=e.facade;Hr?Ra.emit("rejectionHandled",t):Ua("rejectionhandled",t,e.value)}))},Ga=function(e,t,n){return function(r){e(t,r,n)}},Ha=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,za(e,!0))},Ya=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw Ma("Promise can't be resolved itself");var i=La(n);i?na((function(){var r={done:!1};try{j(i,n,Ga(e,r,t),Ga(Ha,r,t))}catch(n){Ha(r,n,t)}})):(t.value=n,t.state=1,za(t,!1))}catch(n){Ha({done:!1},n,t)}}};if(wa&&(Pa=(ja=function(e){!function(e,t){if(re(t,e))return e;throw qr("Incorrect invocation")}(this,Pa),ge(e),j(ca,this);var t=Ea(this);try{e(Ga(Ya,t),Ga(Ha,t))}catch(e){Ha(t,e)}}).prototype,(ca=function(e){Ta(this,{type:_a,done:!1,notified:!1,parent:!1,reactions:new aa,rejection:!1,state:0,value:void 0})}).prototype=Tt(Pa,"then",(function(e,t){var n=Ea(this),r=Aa(vi(this,ja));return n.parent=!0,r.ok=!J(e)||e,r.fail=J(t)&&t,r.domain=Hr?Ra.domain:void 0,0==n.state?n.reactions.add(r):na((function(){Fa(r,n)})),r.promise})),la=function(){var e=new ca,t=Ea(e);this.promise=e,this.resolve=Ga(Ya,t),this.reject=Ga(Ha,t)},ka.f=Aa=function(e){return e===ja||void 0===e?new la(e):Da(e)},J(oa)&&Ca!==Object.prototype)){da=Ca.then,xa||Tt(Ca,"then",(function(e,t){var n=this;return new ja((function(e,t){j(da,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Ca.constructor}catch(e){}dr&&dr(Ca,Pa)}nn({global:!0,constructor:!0,wrap:!0,forced:wa},{Promise:ja}),ar(ja,_a,!1),Zr(_a);var Za=Le("iterator"),qa=Array.prototype,$a=Le("iterator"),Ka=function(e){if(!G(e))return ye(e,$a)||ye(e,"@@iterator")||Zn[ei(e)]},Xa=TypeError,Ja=function(e,t,n){var r,i;Ke(e);try{if(!(r=ye(e,"return"))){if("throw"===t)throw n;return n}r=j(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Ke(r),n},Qa=TypeError,eo=function(e,t){this.stopped=e,this.result=t},to=eo.prototype,no=function(e,t,n){var r,i,a,o,s,u,c,l,d=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),v=ki(t,d),g=function(e){return r&&Ja(r,"normal",e),new eo(!0,e)},y=function(e){return f?(Ke(e),m?v(e[0],e[1],g):v(e[0],e[1])):m?v(e,g):v(e)};if(p)r=e.iterator;else if(h)r=e;else{if(!(i=Ka(e)))throw Qa(me(e)+" is not iterable");if(void 0!==(l=i)&&(Zn.Array===l||qa[Za]===l)){for(a=0,o=Ot(e);o>a;a++)if((s=y(e[a]))&&re(to,s))return s;return new eo(!1)}r=function(e,t){var n=arguments.length<2?Ka(e):t;if(ge(n))return Ke(j(n,e));throw Xa(me(e)+" is not iterable")}(e,i)}for(u=p?e.next:r.next;!(c=j(u,r)).done;){try{s=y(c.value)}catch(e){Ja(r,"throw",e)}if("object"==typeof s&&s&&re(to,s))return s}return new eo(!1)},ro=Le("iterator"),io=!1;try{var ao=0,oo={next:function(){return{done:!!ao++}},return:function(){io=!0}};oo[ro]=function(){return this},Array.from(oo,(function(){throw 2}))}catch(e){}var so=va.CONSTRUCTOR||!function(e,t){if(!io)return!1;var n=!1;try{var r={};r[ro]=function(){return{next:function(){return{done:n=!0}}}},function(e){oa.all(e).then(void 0,(function(){}))}(r)}catch(e){}return n}();nn({target:"Promise",stat:!0,forced:so},{all:function(e){var t=this,n=ka.f(t),r=n.resolve,i=n.reject,a=ra((function(){var n=ge(t.resolve),a=[],o=0,s=1;no(e,(function(e){var u=o++,c=!1;s++,j(n,t,e).then((function(e){c||(c=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise}});var uo=va.CONSTRUCTOR,co=oa&&oa.prototype;if(nn({target:"Promise",proto:!0,forced:uo,real:!0},{catch:function(e){return this.then(void 0,e)}}),J(oa)){var lo=ne("Promise").prototype.catch;co.catch!==lo&&Tt(co,"catch",lo,{unsafe:!0})}nn({target:"Promise",stat:!0,forced:so},{race:function(e){var t=this,n=ka.f(t),r=n.reject,i=ra((function(){var i=ge(t.resolve);no(e,(function(e){j(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),nn({target:"Promise",stat:!0,forced:va.CONSTRUCTOR},{reject:function(e){var t=ka.f(this);return j(t.reject,void 0,e),t.promise}});var fo=va.CONSTRUCTOR;ne("Promise"),nn({target:"Promise",stat:!0,forced:fo},{resolve:function(e){return function(e,t){if(Ke(e),ee(t)&&t.constructor===e)return t;var n=ka.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var po=rt.f,ho=function(e,t,n){n in e||po(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},mo=function(e,t,n){var r,i;return dr&&J(r=t.constructor)&&r!==n&&ee(i=r.prototype)&&i!==n.prototype&&dr(e,i),e},vo=String,go=function(e){if("Symbol"===ei(e))throw TypeError("Cannot convert a Symbol value to a string");return vo(e)},yo=function(e,t){return void 0===e?arguments.length<2?"":t:go(e)},ko=function(e,t){ee(t)&&"cause"in t&&it(e,"cause",t.cause)},bo=Error,_o=L("".replace),wo=String(bo("zxcasd").stack),So=/\n\s*at [^:]*:[^\n]*/,xo=So.test(wo),Eo=function(e,t){if(xo&&"string"==typeof e&&!bo.prepareStackTrace)for(;t--;)e=_o(e,So,"");return e},To=!x((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",A(1,7)),7!==e.stack)})),Co=function(e,t,n,r){var i="stackTraceLimit",a=r?2:1,o=e.split("."),s=o[o.length-1],u=ne.apply(null,o);if(u){var c=u.prototype;if(je(c,"cause")&&delete c.cause,!n)return u;var l=ne("Error"),d=t((function(e,t){var n=yo(r?t:e,void 0),i=r?new u(e):new u;return void 0!==n&&it(i,"message",n),To&&it(i,"stack",Eo(i.stack,2)),this&&re(c,this)&&mo(i,this,d),arguments.length>a&&ko(i,arguments[a]),i}));d.prototype=c,"Error"!==s?dr?dr(d,l):Zt(d,l,{name:!0}):E&&i in u&&(ho(d,u,i),ho(d,u,"prepareStackTrace")),Zt(d,u);try{c.name!==s&&it(c,"name",s),c.constructor=d}catch(e){}return d}},jo="WebAssembly",Po=S[jo],Mo=7!==Error("e",{cause:7}).cause,Io=function(e,t){var n={};n[e]=Co(e,t,Mo),nn({global:!0,constructor:!0,arity:1,forced:Mo},n)},Ro=function(e,t){if(Po&&Po[e]){var n={};n[e]=Co(jo+"."+e,t,Mo),nn({target:jo,stat:!0,constructor:!0,arity:1,forced:Mo},n)}};Io("Error",(function(e){return function(t){return sn(e,this,arguments)}})),Io("EvalError",(function(e){return function(t){return sn(e,this,arguments)}})),Io("RangeError",(function(e){return function(t){return sn(e,this,arguments)}})),Io("ReferenceError",(function(e){return function(t){return sn(e,this,arguments)}})),Io("SyntaxError",(function(e){return function(t){return sn(e,this,arguments)}})),Io("TypeError",(function(e){return function(t){return sn(e,this,arguments)}})),Io("URIError",(function(e){return function(t){return sn(e,this,arguments)}})),Ro("CompileError",(function(e){return function(t){return sn(e,this,arguments)}})),Ro("LinkError",(function(e){return function(t){return sn(e,this,arguments)}})),Ro("RuntimeError",(function(e){return function(t){return sn(e,this,arguments)}}));var Ao=Le("match"),Do=function(e){var t;return ee(e)&&(void 0!==(t=e[Ao])?!!t:"RegExp"==U(e))},Oo=function(){var e=Ke(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},No=RegExp.prototype,Lo=function(e){var t=e.flags;return void 0!==t||"flags"in No||je(e,"flags")||!re(No,e)?t:j(Oo,e)},Fo=S.RegExp,zo=x((function(){var e=Fo("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Uo=zo||x((function(){return!Fo("a","y").sticky})),Vo={BROKEN_CARET:zo||x((function(){var e=Fo("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Uo,UNSUPPORTED_Y:zo},Bo=S.RegExp,Wo=x((function(){var e=Bo(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Go=S.RegExp,Ho=x((function(){var e=Go("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Yo=Wt.f,Zo=xt.enforce,qo=Le("match"),$o=S.RegExp,Ko=$o.prototype,Xo=S.SyntaxError,Jo=L(Ko.exec),Qo=L("".charAt),es=L("".replace),ts=L("".indexOf),ns=L("".slice),rs=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,is=/a/g,as=/a/g,os=new $o(is)!==is,ss=Vo.MISSED_STICKY,us=Vo.UNSUPPORTED_Y,cs=E&&(!os||ss||Wo||Ho||x((function(){return as[qo]=!1,$o(is)!=is||$o(as)==as||"/a/i"!=$o(is,"i")})));if(en("RegExp",cs)){for(var ls=function e(t,n){var r,i,a,o,s,u,c=re(Ko,this),l=Do(t),d=void 0===n,f=[],p=t;if(!c&&l&&d&&t.constructor===e)return t;if((l||re(Ko,t))&&(t=t.source,d&&(n=Lo(p))),t=void 0===t?"":go(t),n=void 0===n?"":go(n),p=t,Wo&&"dotAll"in is&&(i=!!n&&ts(n,"s")>-1)&&(n=es(n,/s/g,"")),r=n,ss&&"sticky"in is&&(a=!!n&&ts(n,"y")>-1)&&us&&(n=es(n,/y/g,"")),Ho&&(o=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(t=Qo(e,r)))t+=Qo(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:Jo(rs,ns(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||je(o,l))throw new Xo("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],u=!1,l="";continue}u?l+=t:i+=t}return[i,a]}(t),t=o[0],f=o[1]),s=mo($o(t,n),c?this:Ko,e),(i||a||f.length)&&(u=Zo(s),i&&(u.dotAll=!0,u.raw=e(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=Qo(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+Qo(e,++r);return i}(t),r)),a&&(u.sticky=!0),f.length&&(u.groups=f)),t!==p)try{it(s,"source",""===p?"(?:)":p)}catch(t){}return s},ds=Yo($o),fs=0;ds.length>fs;)ho(ls,$o,ds[fs++]);Ko.constructor=ls,ls.prototype=Ko,Tt(S,"RegExp",ls,{constructor:!0})}Zr("RegExp");var ps,hs,ms,vs=xt.get,gs=RegExp.prototype,ys=TypeError;E&&Wo&&(ps=gs,hs="dotAll",(ms={configurable:!0,get:function(){if(this!==gs){if("RegExp"===U(this))return!!vs(this).dotAll;throw ys("Incompatible receiver, RegExp required")}}}).get&&Et(ms.get,hs,{getter:!0}),ms.set&&Et(ms.set,hs,{setter:!0}),rt.f(ps,hs,ms));var ks=xt.get,bs=xe("native-string-replace",String.prototype.replace),_s=RegExp.prototype.exec,ws=_s,Ss=L("".charAt),xs=L("".indexOf),Es=L("".replace),Ts=L("".slice),Cs=function(){var e=/a/,t=/b*/g;return j(_s,e,"a"),j(_s,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),js=Vo.BROKEN_CARET,Ps=void 0!==/()??/.exec("")[1];(Cs||Ps||js||Wo||Ho)&&(ws=function(e){var t,n,r,i,a,o,s,u=this,c=ks(u),l=go(e),d=c.raw;if(d)return d.lastIndex=u.lastIndex,t=j(ws,d,l),u.lastIndex=d.lastIndex,t;var f=c.groups,p=js&&u.sticky,h=j(Oo,u),m=u.source,v=0,g=l;if(p&&(h=Es(h,"y",""),-1===xs(h,"g")&&(h+="g"),g=Ts(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==Ss(l,u.lastIndex-1))&&(m="(?: "+m+")",g=" "+g,v++),n=new RegExp("^(?:"+m+")",h)),Ps&&(n=new RegExp("^"+m+"$(?!\\s)",h)),Cs&&(r=u.lastIndex),i=j(_s,p?n:u,g),p?i?(i.input=Ts(i.input,v),i[0]=Ts(i[0],v),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Cs&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),Ps&&i&&i.length>1&&j(bs,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&f)for(i.groups=o=zn(null),a=0;a<f.length;a++)o[(s=f[a])[0]]=i[s[1]];return i});var Ms=ws;nn({target:"RegExp",proto:!0,forced:/./.exec!==Ms},{exec:Ms});var Is=Lt.includes,Rs=x((function(){return!Array(1).includes()}));nn({target:"Array",proto:!0,forced:Rs},{includes:function(e){return Is(this,e,arguments.length>1?arguments[1]:void 0)}}),Yn("includes");var As,Ds="object"==typeof Reflect?Reflect:null,Os=Ds&&"function"==typeof Ds.apply?Ds.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};As=Ds&&"function"==typeof Ds.ownKeys?Ds.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Ns=Number.isNaN||function(e){return e!=e};function Ls(){Ls.init.call(this)}var Fs=Ls;Ls.EventEmitter=Ls,Ls.prototype._events=void 0,Ls.prototype._eventsCount=0,Ls.prototype._maxListeners=void 0;var zs=10;function Us(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Vs(e){return void 0===e._maxListeners?Ls.defaultMaxListeners:e._maxListeners}function Bs(e,t,n,r){var i,a,o,s;if(Us(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=Vs(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function Ws(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Gs(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Ws.bind(r);return i.listener=n,r.wrapFn=i,i}function Hs(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Zs(i,i.length)}function Ys(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Zs(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function qs(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(Ls,"defaultMaxListeners",{enumerable:!0,get:function(){return zs},set:function(e){if("number"!=typeof e||e<0||Ns(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");zs=e}}),Ls.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ls.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Ns(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ls.prototype.getMaxListeners=function(){return Vs(this)},Ls.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)Os(s,this,t);else{var u=s.length,c=Zs(s,u);for(n=0;n<u;++n)Os(c[n],this,t)}return!0},Ls.prototype.addListener=function(e,t){return Bs(this,e,t,!1)},Ls.prototype.on=Ls.prototype.addListener,Ls.prototype.prependListener=function(e,t){return Bs(this,e,t,!0)},Ls.prototype.once=function(e,t){return Us(t),this.on(e,Gs(this,e,t)),this},Ls.prototype.prependOnceListener=function(e,t){return Us(t),this.prependListener(e,Gs(this,e,t)),this},Ls.prototype.removeListener=function(e,t){var n,r,i,a,o;if(Us(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},Ls.prototype.off=Ls.prototype.removeListener,Ls.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Ls.prototype.listeners=function(e){return Hs(this,e,!0)},Ls.prototype.rawListeners=function(e){return Hs(this,e,!1)},Ls.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ys.call(e,t)},Ls.prototype.listenerCount=Ys,Ls.prototype.eventNames=function(){return this._eventsCount>0?As(this._events):[]},Fs.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}qs(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&qs(e,"error",t,{once:!0})}(e,i)}))};var $s=Xs,Ks=Fs.EventEmitter;function Xs(e,t,n){Array.isArray(n)||(n=[n]);var r=[];return n.forEach((function(n){var i=function(){var e=[].slice.call(arguments);e.unshift(n),t.emit.apply(t,e)};r.push(i),e.on(n,i)})),function(){n.forEach((function(t,n){e.removeListener(t,r[n])}))}}function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}$s.filter=function(e,t){var n=new Ks;return Xs(e,n,t),n};var eu=Gr.get("PeerConnectionStats"),tu="stats",nu=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).peer=e,r.stats=null,r.emitInterval=null,r.previousStats=null,r}return g(n,[{key:"init",value:function(){var e=this;eu.info("Initializing peer connection stats"),this.emitInterval=setInterval(v(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.peer.getStats();case 2:n=t.sent,e.parseStats(n),e.emit(tu,e.stats);case 4:case"end":return t.stop()}}),t)}))),1e3)}},{key:"parseStats",value:function(e){this.previousStats=this.stats;var t,n={audio:{inbounds:[],outbounds:[]},video:{inbounds:[],outbounds:[]},raw:e},r=f(e.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.type){case"outbound-rtp":ru(i,this.previousStats,n);break;case"inbound-rtp":iu(i,this.previousStats,n);break;case"candidate-pair":i.nominated&&au(i,n)}}}catch(a){r.e(a)}finally{r.f()}this.stats=n}},{key:"stop",value:function(){eu.info("Stopping peer connection stats"),clearInterval(this.emitInterval)}}]),n}(Fs),ru=function(e,t,n){var r,i,a=ou(e),o=su(e.codecId,n.raw),s=uu(e,a);s.totalBytesSent=e.bytesSent,s.id=e.id,s.mid=e.mid;var u=t?null!==(r=null===(i=t[a].outbounds.find((function(e){return e.id===s.id})))||void 0===i?void 0:i.totalBytesSent)&&void 0!==r?r:0:null;s.bitrate=u?8*(e.bytesSent-u):0,"video"===a&&(s.qualityLimitationReason=e.qualityLimitationReason),n[a].outbounds.push(Qs(Qs({},o),s))},iu=function(e,t,n){var r=ou(e),i=su(e.codecId,n.raw);["audio","video"].includes(r)||(r=e.id.includes("Video")?"video":"audio");var a=uu(e,r);if(a.totalBytesReceived=e.bytesReceived,a.totalPacketsReceived=e.packetsReceived,a.totalPacketsLost=e.packetsLost,a.jitter=e.jitter,a.id=e.id,a.mid=e.mid,a.bitrate=0,a.packetsLostRatioPerSecond=0,a.packetsLostDeltaPerSecond=0,t){var o=t[r].inbounds.find((function(e){return e.id===a.id}));if(o){var s=o.totalBytesReceived;a.bitrate=8*(e.bytesReceived-s),a.packetsLostRatioPerSecond=cu(a,o),a.packetsLostDeltaPerSecond=lu(a,o)}}n[r].inbounds.push(Qs(Qs({},i),a))},au=function(e,t){t.totalRoundTripTime=e.totalRoundTripTime,t.currentRoundTripTime=e.currentRoundTripTime,t.availableOutgoingBitrate=e.availableOutgoingBitrate,t.candidateType=t.raw.get(e.localCandidateId).candidateType},ou=function(e){return e.mediaType||e.kind},su=function(e,t){var n;return{mimeType:(e&&null!==(n=t.get(e))&&void 0!==n?n:{}).mimeType}},uu=function(e,t){var n={};return"video"===t&&(n.framesPerSecond=e.framesPerSecond,n.frameHeight=e.frameHeight,n.frameWidth=e.frameWidth),n.timestamp=e.timestamp,n},cu=function(e,t){return lu(e,t)/(e.totalPacketsReceived-t.totalPacketsReceived)},lu=function(e,t){return e.totalPacketsLost-t.totalPacketsLost};Le("species");var du=RegExp.prototype,fu=L("".charAt),pu=L("".charCodeAt),hu=L("".slice),mu=function(e){return function(t,n){var r,i,a=go(Y(t)),o=Mt(n),s=a.length;return o<0||o>=s?e?"":void 0:(r=pu(a,o))<55296||r>56319||o+1===s||(i=pu(a,o+1))<56320||i>57343?e?fu(a,o):r:e?hu(a,o,o+2):i-56320+(r-55296<<10)+65536}},vu=(mu(!1),mu(!0)),gu=function(e,t,n){return t+(n?vu(e,t).length:1)},yu=Math.floor,ku=L("".charAt),bu=L("".replace),_u=L("".slice),wu=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Su=/\$([$&'`]|\d{1,2})/g,xu=function(e,t,n,r,i,a){var o=n+e.length,s=r.length,u=Su;return void 0!==i&&(i=Te(i),u=wu),bu(a,u,(function(a,u){var c;switch(ku(u,0)){case"$":return"$";case"&":return e;case"`":return _u(t,0,n);case"'":return _u(t,o);case"<":c=i[_u(u,1,-1)];break;default:var l=+u;if(0===l)return a;if(l>s){var d=yu(l/10);return 0===d?a:d<=s?void 0===r[d-1]?ku(u,1):r[d-1]+ku(u,1):a}c=r[l-1]}return void 0===c?"":c}))},Eu=TypeError,Tu=function(e,t){var n=e.exec;if(J(n)){var r=j(n,e,t);return null!==r&&Ke(r),r}if("RegExp"===U(e))return j(Ms,e,t);throw Eu("RegExp#exec called on incompatible receiver")},Cu=Le("replace"),ju=Math.max,Pu=Math.min,Mu=L([].concat),Iu=L([].push),Ru=L("".indexOf),Au=L("".slice),Du="$0"==="a".replace(/./,"$0"),Ou=!!/./[Cu]&&""===/./[Cu]("a","$0");!function(e,t,n,r){var i=Le(e),a=!x((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),o=a&&!x((function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},t[i](""),!e}));if(!a||!o||n){var s=gi(/./[i]),u=function(e,t,n){var r=Ou?"$":"$0";return[function(e,n){var r=Y(this),i=G(e)?void 0:ye(e,Cu);return i?j(i,e,r,n):j(t,go(r),e,n)},function(e,i){var a=Ke(this),o=go(e);if("string"==typeof i&&-1===Ru(i,r)&&-1===Ru(i,"$<")){var s=n(t,a,o,i);if(s.done)return s.value}var u=J(i);u||(i=go(i));var c=a.global;if(c){var l=a.unicode;a.lastIndex=0}for(var d=[];;){var f=Tu(a,o);if(null===f)break;if(Iu(d,f),!c)break;""===go(f[0])&&(a.lastIndex=gu(o,Dt(a.lastIndex),l))}for(var p,h="",m=0,v=0;v<d.length;v++){for(var g=go((f=d[v])[0]),y=ju(Pu(Mt(f.index),o.length),0),k=[],b=1;b<f.length;b++)Iu(k,void 0===(p=f[b])?p:String(p));var _=f.groups;if(u){var w=Mu([g],k,y,o);void 0!==_&&Iu(w,_);var S=go(sn(i,void 0,w))}else S=xu(g,o,y,k,_,i);y>=m&&(h+=Au(o,m,y)+S,m=y+g.length)}return h+Au(o,m)}]}(0,""[e],(function(e,t,n,r,i){var o=gi(e),u=t.exec;return u===Ms||u===du.exec?a&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}}));Tt(String.prototype,e,u[0]),Tt(du,i,u[1])}}("replace",0,!!x((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!Du||Ou);var Nu,Lu="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Fu=L("".replace),zu="["+Lu+"]",Uu=RegExp("^"+zu+zu+"*"),Vu=RegExp(zu+zu+"*$"),Bu=function(e){return function(t){var n=go(Y(t));return 1&e&&(n=Fu(n,Uu,"")),2&e&&(n=Fu(n,Vu,"")),n}},Wu={start:Bu(1),end:Bu(2),trim:Bu(3)},Gu=ut.PROPER,Hu=Wu.trim;nn({target:"String",proto:!0,forced:(Nu="trim",x((function(){return!!Lu[Nu]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[Nu]()||Gu&&Lu[Nu].name!==Nu})))},{trim:function(){return Hu(this)}});var Yu=Le("matchAll"),Zu="RegExp String",qu=Zu+" Iterator",$u=xt.set,Ku=xt.getterFor(qu),Xu=RegExp.prototype,Ju=TypeError,Qu=gi("".indexOf),ec=gi("".matchAll),tc=!!ec&&!x((function(){ec("a",/./)})),nc=ur((function(e,t,n,r){$u(this,{type:qu,regexp:e,string:t,global:n,unicode:r,done:!1})}),Zu,(function(){var e=Ku(this);if(e.done)return _r(void 0,!0);var t=e.regexp,n=e.string,r=Tu(t,n);return null===r?(e.done=!0,_r(void 0,!0)):e.global?(""===go(r[0])&&(t.lastIndex=gu(n,Dt(t.lastIndex),e.unicode)),_r(r,!1)):(e.done=!0,_r(r,!1))}));nn({target:"String",proto:!0,forced:tc},{matchAll:function(e){var t,n,r,i=Y(this);if(G(e)){if(tc)return ec(i,e)}else{if(Do(e)&&(t=go(Y(Lo(e))),!~Qu(t,"g")))throw Ju("`.matchAll` does not allow non-global regexes");if(tc)return ec(i,e);if(r=ye(e,Yu))return j(r,e,i)}return n=go(i),new RegExp(e,"g")[Yu](n)}}),Yu in Xu||Tt(Xu,Yu,(function(e){var t,n,r,i=Ke(this),a=go(e),o=vi(i,RegExp),s=go(Lo(i));return t=new o(o===RegExp?i.source:i,s),n=!!~Qu(s,"g"),r=!!~Qu(s,"u"),t.lastIndex=Dt(i.lastIndex),new nc(t,a,n,r)}));var rc=L([].reverse),ic=[1,2];nn({target:"Array",proto:!0,forced:String(ic)===String(ic.reverse())},{reverse:function(){return un(this)&&(this.length=this.length),rc(this)}});var ac=h((function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))})),oc=h((function(e,t){var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(t[r[a]]=n(e[a+1]))}(r.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),a=n[n.length-1]);for(var o=0;o<(ac[t]||[]).length;o+=1){var s=ac[t][o];if(s.reg.test(i))return r(s,a,i)}})),t.media=n,t};var a=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}})),sc=/%[sdv%]/g,uc=function(e){var t=1,n=arguments,r=n.length;return e.replace(sc,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},cc=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return uc.apply(null,r)},lc=["v","o","s","i","u","e","p","c","b","t","r","z","a"],dc=["i","c","b","a"],fc={write:function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||lc,r=t.innerOrder||dc,i=[];return n.forEach((function(t){ac[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(cc(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(cc(t,n,e))}))}))})),e.media.forEach((function(e){i.push(cc("m",ac.m[0],e)),r.forEach((function(t){ac[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(cc(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(cc(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"},parse:oc.parse,parseParams:oc.parseParams,parseFmtpConfig:oc.parseFmtpConfig,parsePayloads:oc.parsePayloads,parseRemoteCandidates:oc.parseRemoteCandidates,parseImageAttributes:oc.parseImageAttributes,parseSimulcastStreamList:oc.parseSimulcastStreamList},pc=function(){function e(t,n,r,i,a,o,s,u,c){y(this,e),this.foundation=t,this.componentId=n,this.transport=r,this.priority=i,this.address=a,this.port=o,this.type=s,this.relAddr=u,this.relPort=c}return g(e,[{key:"equals",value:function(e){return e.foundation===this.foundation&&e.componentId===this.componentId&&e.transport===this.transport&&e.priority===this.priority&&e.address===this.address&&e.port===this.port&&e.type===this.type&&e.relAddr===this.relAddr&&e.relPort===this.relPort}},{key:"clone",value:function(){return new e(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}},{key:"plain",value:function(){var e={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(e.relAddr=this.relAddr),this.relPort&&(e.relPort=this.relPort),e}},{key:"getFoundation",value:function(){return this.foundation}},{key:"getComponentId",value:function(){return this.componentId}},{key:"getTransport",value:function(){return this.transport}},{key:"getPriority",value:function(){return this.priority}},{key:"getAddress",value:function(){return this.address}},{key:"getPort",value:function(){return this.port}},{key:"getType",value:function(){return this.type}},{key:"getRelAddr",value:function(){return this.relAddr}},{key:"getRelPort",value:function(){return this.relPort}}]),e}();pc.expand=function(e){return new pc(e.foundation,e.componentId,e.transport,e.priority,e.address,e.port,e.type,e.relAddr,e.relPort)};var hc=pc,mc=function(){function e(t,n){y(this,e),this.id=t,this.params=n||[]}return g(e,[{key:"clone",value:function(){return new e(this.id,this.params)}},{key:"plain",value:function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}},{key:"getId",value:function(){return this.id}},{key:"getParams",value:function(){return this.params}}]),e}();mc.expand=function(e){return new mc(e.id,e.params)};var vc=mc,gc=function(){function e(t,n,r){y(this,e),this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,r&&this.addParams(r)}return g(e,[{key:"clone",value:function(){var t=new e(this.codec,this.type,this.params);this.hasRTX()&&t.setRTX(this.getRTX());var n,r=f(this.rtcpfbs);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addRTCPFeedback(i.clone())}}catch(a){r.e(a)}finally{r.f()}return this.hasChannels()&&t.setChannels(this.getChannels()),t}},{key:"plain",value:function(){var e={codec:this.codec,type:this.type};this.rtx&&(e.rtx=this.rtx),this.channels&&(e.channels=this.channels),Object.keys(this.params).length&&(e.params=this.params);var t,n=f(this.rtcpfbs);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.rtcpfbs||(e.rtcpfbs=[]),e.rtcpfbs.push(r.plain())}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"setRTX",value:function(e){this.rtx=e}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=e}},{key:"getCodec",value:function(){return this.codec}},{key:"getParams",value:function(){return this.params}},{key:"addParams",value:function(e){for(var t in e)this.params[t]=e[t]}},{key:"addParam",value:function(e,t){this.params[e]=t}},{key:"hasParam",value:function(e){return this.params.hasOwnProperty(e)}},{key:"getParam",value:function(e,t){return this.hasParam(e)?this.params[e]:""+t}},{key:"hasRTX",value:function(){return this.rtx}},{key:"getRTX",value:function(){return this.rtx}},{key:"hasChannels",value:function(){return this.channels}},{key:"getChannels",value:function(){return this.channels}},{key:"setChannels",value:function(e){this.channels=e}},{key:"addRTCPFeedback",value:function(e){this.rtcpfbs.add(e)}},{key:"getRTCPFeedbacks",value:function(){return this.rtcpfbs}}]),e}();gc.expand=function(e){var t=new gc(e.codec,e.type,e.params);e.rtx&&t.setRTX(e.rtx),e.channels&&t.setChannels(e.channels);for(var n=0;e.rtcpfbs&&n<e.rtcpfbs.length;++n){var r=vc.expand(e.rtcpfbs[n]);t.addRTCPFeedback(r)}return t},gc.MapFromNames=function(e,t,n){for(var r=new Map,i=96,a=0;a<e.length;++a){var o=void 0,s=e[a].split(";"),u=s[0].toLowerCase().trim();o="pcmu"===u?0:"pcma"===u?8:++i;var c=new gc(u,o);"opus"===u?c.setChannels(2):"multiopus"===u&&c.setChannels(6),t&&"ulpfec"!==u&&"flexfec-03"!==u&&"red"!==u&&c.setRTX(++i);for(var l=0;n&&l<n.length;++l)c.addRTCPFeedback(new vc(n[l].id,n[l].params));for(var d=1;d<s.length;++d){var f=s[d].split("=");c.addParam(f[0].trim(),f[1].trim())}r.set(c.getCodec().toLowerCase(),c)}return r};var yc=gc,kc=function e(){var t=this;if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(e){t[e]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+e)}))},bc=kc("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bc.byValue=function(e){switch(e){case bc.ACTIVE:case bc.PASSIVE:case bc.ACTPASS:case bc.INACTIVE:return e}return bc[e.toUpperCase()]},bc.toString=function(e){switch(e){case bc.ACTIVE:return"active";case bc.PASSIVE:return"passive";case bc.ACTPASS:return"actpass";case bc.INACTIVE:return"inactive"}},bc.reverse=function(e){switch(e){case bc.ACTIVE:return bc.PASSIVE;case bc.PASSIVE:return bc.ACTIVE;case bc.ACTPASS:return bc.PASSIVE;case bc.INACTIVE:return bc.INACTIVE}};var _c=bc,wc=function(){function e(t,n,r){y(this,e),this.setup=t,this.hash=n,this.fingerprint=r}return g(e,[{key:"clone",value:function(){return new e(this.setup,this.hash,this.fingerprint)}},{key:"plain",value:function(){return{setup:_c.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}},{key:"getFingerprint",value:function(){return this.fingerprint}},{key:"getHash",value:function(){return this.hash}},{key:"getSetup",value:function(){return this.setup}},{key:"setSetup",value:function(e){this.setup=e}}]),e}();wc.expand=function(e){return new wc(e.setup?_c.byValue(e.setup):_c.ACTPASS,e.hash,e.fingerprint)};var Sc=wc,xc=function(){function e(t,n,r,i){y(this,e),this.tag=t,this.suite=n,this.keyParams=r,this.sessionParams=i}return g(e,[{key:"clone",value:function(){return new e(this.tag,this.suite,this.keyParams,this.sessionParams)}},{key:"plain",value:function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}},{key:"getSessionParams",value:function(){return this.sessionParams}},{key:"getKeyParams",value:function(){return this.keyParams}},{key:"getSuite",value:function(){return this.suite}},{key:"getTag",value:function(){return this.tag}}]),e}();xc.expand=function(e){return new xc(e.tag,e.suite,e.keyParams,e.sessionParams)};for(var Ec=xc,Tc=[],Cc=[],jc="undefined"!=typeof Uint8Array?Uint8Array:Array,Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mc=0,Ic=Pc.length;Mc<Ic;++Mc)Tc[Mc]=Pc[Mc],Cc[Pc.charCodeAt(Mc)]=Mc;function Rc(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Ac(e,t,n){for(var r,i,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(Tc[(i=r)>>18&63]+Tc[i>>12&63]+Tc[i>>6&63]+Tc[63&i]);return a.join("")}Cc["-".charCodeAt(0)]=62,Cc["_".charCodeAt(0)]=63;var Dc=function(e){var t,n,r=Rc(e),i=r[0],a=r[1],o=new jc(function(e,t,n){return 3*(t+n)/4-n}(0,i,a)),s=0,u=a>0?i-4:i;for(n=0;n<u;n+=4)t=Cc[e.charCodeAt(n)]<<18|Cc[e.charCodeAt(n+1)]<<12|Cc[e.charCodeAt(n+2)]<<6|Cc[e.charCodeAt(n+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===a&&(t=Cc[e.charCodeAt(n)]<<2|Cc[e.charCodeAt(n+1)]>>4,o[s++]=255&t),1===a&&(t=Cc[e.charCodeAt(n)]<<10|Cc[e.charCodeAt(n+1)]<<4|Cc[e.charCodeAt(n+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},Oc=function(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(Ac(e,o,o+a>s?s:o+a));return 1===r?(t=e[n-1],i.push(Tc[t>>2]+Tc[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(Tc[t>>10]+Tc[t>>4&63]+Tc[t<<2&63]+"=")),i.join("")},Nc=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-l)-1,p>>=-l,l+=s;l>0;a=256*a+e[t+d],d+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=c}return(p?-1:1)*o*Math.pow(2,a-r)},Lc=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+p]=255&o,p+=h,o/=256,c-=8);e[n+p-h]|=128*m},Fc=h((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function i(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return o(e,t,n)}function o(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=i(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){var t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var o=function(e){if(a.isBuffer(e)){var t=0|f(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),i(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function f(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){d=!1;break}if(d)return a}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a,o=t.length;for(r>o/2&&(r=o/2),a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(J(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return K(q(t,e.length-n),e,n,r)}function x(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return K($(t),e,n,r)}function T(e,t,n,r){return K(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?Oc(e):Oc(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u=void 0,c=void 0,l=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&(d=(31&a)<<6|63&u)>127&&(o=d);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(d=(15&a)<<12|(63&u)<<6|63&c)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(d=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(t,n),42===t.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return o(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(X(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(X(o,Uint8Array))i+o.length>r.length?(a.isBuffer(o)||(o=a.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),d=0;d<u;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=Q[e[a]];return i}function A(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i){G(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function L(e,t,n,r,i){G(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function F(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),Lc(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),Lc(e,t,n,r,52,8),n+8}a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=ee((function(e){H(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),i=this[++e]+256*this[++e]+65536*this[++e]+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=ee((function(e){H(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=ee((function(e){H(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),a.prototype.readBigInt64BE=ee((function(e){H(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),Nc(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),Nc(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),Nc(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),Nc(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=ee((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ee((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=ee((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ee((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var V={};function B(e,t,n){V[e]=function(n){k(i,n);var r=b(i);function i(){var n;return y(this,i),n=r.call(this),Object.defineProperty(d(n),"message",{value:t.apply(d(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return g(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function G(e,t,n,r,i,a){if(e>n||e<t){var o,s="bigint"==typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ").concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new V.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Y(t,e.length-(n+1))}(r,i,a)}function H(e,t){if("number"!=typeof e)throw new V.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Z=/[^+/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function $(e){return Dc(function(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var Q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function ee(e){return"undefined"==typeof BigInt?te:e}function te(){throw new Error("BigInt not supported")}})),zc=h((function(e,t){var n=Fc.Buffer;function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=Fc:(r(Fc,t),t.Buffer=i),r(n,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Fc.SlowBuffer(e)}})),Uc=h((function(e){var t=65536,n=zc.Buffer,r=a.crypto||a.msCrypto;r&&r.getRandomValues?e.exports=function(e,i){if(e>4294967295)throw new RangeError("requested too many random bytes");var a=n.allocUnsafe(e);if(e>0)if(e>t)for(var o=0;o<e;o+=t)r.getRandomValues(a.slice(o,o+t));else r.getRandomValues(a);return"function"==typeof i?process.nextTick((function(){i(null,a)})):a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),Vc=function(){function e(t,n){y(this,e),this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}return g(e,[{key:"clone",value:function(){var t=new e(this.ufrag,this.pwd);return t.setLite(this.lite),t.setEndOfCandidates(this.endOfCandidates),t}},{key:"plain",value:function(){var e={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(e.lite=this.lite),this.endOfCandidates&&(e.endOfCandidates=this.endOfCandidates),e}},{key:"getUfrag",value:function(){return this.ufrag}},{key:"getPwd",value:function(){return this.pwd}},{key:"isLite",value:function(){return this.lite}},{key:"setLite",value:function(e){this.lite=e}},{key:"isEndOfCandidates",value:function(){return this.endOfCandidates}},{key:"setEndOfCandidates",value:function(e){this.endOfCandidates=e}}]),e}();Vc.generate=function(e){var t=new Vc,n=Uc(8),r=Uc(24);return t.ufrag=n.toString("hex"),t.pwd=r.toString("hex"),t.lite=e,t},Vc.expand=function(e){var t=new Vc(e.ufrag,e.pwd);return t.setLite(e.lite),t.setEndOfCandidates(e.endOfCandidates),t};var Bc=Vc,Wc=kc("SEND","RECV");Wc.byValue=function(e){return Wc[e.toUpperCase()]},Wc.toString=function(e){switch(e){case Wc.SEND:return"send";case Wc.RECV:return"recv"}},Wc.reverse=function(e){switch(e){case Wc.SEND:return Wc.RECV;case Wc.RECV:return Wc.SEND}};var Gc=Wc,Hc=function(){function e(t,n){y(this,e),this.id=t,this.direction=n,this.formats=[],this.params=new Map}return g(e,[{key:"clone",value:function(){var t=new e(this.id,this.direction);return t.setFormats(this.formats),t.setParams(this.params),t}},{key:"plain",value:function(){var e,t={id:this.id,direction:Gc.toString(this.direction)},n=f((this.formats&&(t.formats=this.formats),this.params.entries()));try{for(n.s();!(e=n.n()).done;){var r=l(e.value,2),i=r[0],a=r[1];t.params||(t.params={}),t.params[i]=a}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"getId",value:function(){return this.id}},{key:"getDirection",value:function(){return this.direction}},{key:"setDirection",value:function(e){this.direction=e}},{key:"getFormats",value:function(){return this.formats}},{key:"setFormats",value:function(e){this.formats=[];for(var t=0;t<e.length;++t)this.formats.push(parseInt(e[t]))}},{key:"getParams",value:function(){return this.params}},{key:"setParams",value:function(e){this.params=new Map(e)}},{key:"addParam",value:function(e,t){this.params.set(e,t)}}]),e}();Hc.expand=function(e){var t=new Hc(e.id,Gc.byValue(e.direction));for(var n in e.params)t.addParam(n,e.params[n]);return e.formats&&t.setFormats(e.formats),t};var Yc=Hc,Zc=function(){function e(t,n){y(this,e),this.paused=n,this.id=t}return g(e,[{key:"clone",value:function(){return new e(this.id,this.paused)}},{key:"plain",value:function(){return{id:this.id,paused:this.paused}}},{key:"isPaused",value:function(){return this.paused}},{key:"getId",value:function(){return this.id}}]),e}();Zc.expand=function(e){return new Zc(e.id,e.paused)};var qc=Zc,$c=function(){function e(){y(this,e),this.send=[],this.recv=[]}return g(e,[{key:"clone",value:function(){for(var t=new e,n=0;n<this.send.length;++n){for(var r=[],i=0;n<this.send[i].length;++n)r.push(this.send[n][i].clone());t.addSimulcastAlternativeStreams(Gc.SEND,r)}for(var a=0;a<this.recv.length;++a){for(var o=[],s=0;a<this.recv[s].length;++a)o.push(this.recv[a][s].clone());t.addSimulcastAlternativeStreams(Gc.RECV,o)}return t}},{key:"plain",value:function(){for(var e={send:[],recv:[]},t=0;t<this.send.length;++t){for(var n=[],r=0;r<this.send[t].length;++r)n.push(this.send[t][r].plain());e.send.push(n)}for(var i=0;i<this.recv.length;++i){for(var a=[],o=0;o<this.recv[i].length;++o)a.push(this.recv[i][o].plain());e.recv.push(a)}return e}},{key:"addSimulcastAlternativeStreams",value:function(e,t){return e===Gc.SEND?this.send.push(t):this.recv.push(t)}},{key:"addSimulcastStream",value:function(e,t){return e===Gc.SEND?this.send.push([t]):this.recv.push([t])}},{key:"getSimulcastStreams",value:function(e){return e===Gc.SEND?this.send:this.recv}}]),e}();$c.expand=function(e){for(var t=new $c,n=0;n<e.send.length;++n){for(var r=[],i=0;i<e.send[n].length;++i)r.push(qc.expand(e.send[n][i]));t.addSimulcastAlternativeStreams(Gc.SEND,r)}for(var a=0;a<e.recv.length;++a){for(var o=[],s=0;s<e.recv[a].length;++s)o.push(qc.expand(e.recv[a][s]));t.addSimulcastAlternativeStreams(Gc.RECV,o)}return t};var Kc=$c,Xc=kc("SENDRECV","SENDONLY","RECVONLY","INACTIVE");Xc.byValue=function(e){return Xc[e.toUpperCase()]},Xc.toString=function(e){switch(e){case Xc.SENDRECV:return"sendrecv";case Xc.SENDONLY:return"sendonly";case Xc.RECVONLY:return"recvonly";case Xc.INACTIVE:return"inactive"}},Xc.reverse=function(e){switch(e){case Xc.SENDRECV:return Xc.SENDRECV;case Xc.SENDONLY:return Xc.RECVONLY;case Xc.RECVONLY:return Xc.SENDONLY;case Xc.INACTIVE:return Xc.INACTIVE}};var Jc=Xc,Qc=function(){function e(t,n){y(this,e),this.port=t,this.maxMessageSize=n}return g(e,[{key:"clone",value:function(){return new e(this.port,this.maxMessageSize)}},{key:"plain",value:function(){return{port:this.port,maxMessageSize:this.maxMessageSize}}},{key:"getPort",value:function(){return this.port}},{key:"getMaxMessageSize",value:function(){return this.maxMessageSize}}]),e}();Qc.expand=function(e){return new Qc(e.port,e.maxMessageSize)};var el=Qc,tl=function(){function e(t,n){y(this,e),this.id=t,this.type=n,this.direction=Jc.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}return g(e,[{key:"clone",value:function(){var t=new e(this.id,this.type);t.setDirection(this.direction),t.setBitrate(this.bitrate);var n,r=f(this.codecs.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addCodec(i.clone())}}catch(m){r.e(m)}finally{r.f()}var a,o=f(this.extensions.entries());try{for(o.s();!(a=o.n()).done;){var s=l(a.value,2),u=s[0],c=s[1];t.addExtension(u,c)}}catch(m){o.e(m)}finally{o.f()}var d,p=f(this.rids.values());try{for(p.s();!(d=p.n()).done;){var h=d.value;t.addRID(h.clone())}}catch(m){p.e(m)}finally{p.f()}return this.simulcast&&t.setSimulcast(this.simulcast.clone()),this.control&&t.setControl(this.control),this.dataChannel&&t.setDatachannel(this.dataChannel.clone()),t}},{key:"plain",value:function(){var e={id:this.id,type:this.type,direction:Jc.toString(this.direction),codecs:[]};this.dataChannel&&(e.dataChannel=this.dataChannel.plain()),this.bitrate&&(e.bitrate=this.bitrate);var t,n=f(this.codecs.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.codecs.push(r.plain())}}catch(h){n.e(h)}finally{n.f()}var i,a=f(this.extensions.entries());try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2),s=o[0],u=o[1];e.extensions||(e.extensions={}),e.extensions[s]=u}}catch(h){a.e(h)}finally{a.f()}var c,d=f(this.rids.values());try{for(d.s();!(c=d.n()).done;){var p=c.value;e.rids||(e.rids=[]),e.rids.push(p.plain())}}catch(h){d.e(h)}finally{d.f()}return this.simulcast&&(e.simulcast=this.simulcast.plain()),this.control&&(e.control=this.control),e}},{key:"getType",value:function(){return this.type}},{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){this.id=e}},{key:"addExtension",value:function(e,t){this.extensions.set(e,t)}},{key:"addRID",value:function(e){this.rids.set(e.getId(),e)}},{key:"addCodec",value:function(e){this.codecs.set(e.getType(),e)}},{key:"setCodecs",value:function(e){this.codecs=e}},{key:"getCodecForType",value:function(e){return this.codecs.get(e)}},{key:"getCodec",value:function(e){var t,n=f(this.codecs.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.getCodec().toLowerCase()===e.toLowerCase())return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"hasCodec",value:function(e){return null!==this.getCodec(e)}},{key:"getCodecs",value:function(){return this.codecs}},{key:"hasRTX",value:function(){var e,t=f(this.codecs.values());try{for(t.s();!(e=t.n()).done;)if(e.value.hasRTX())return!0}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getRIDs",value:function(){return this.rids}},{key:"getRID",value:function(e){return this.rids.get(e)}},{key:"getBitrate",value:function(){return this.bitrate}},{key:"setBitrate",value:function(e){this.bitrate=e}},{key:"getDirection",value:function(){return this.direction}},{key:"setDirection",value:function(e){this.direction=e}},{key:"hasControl",value:function(){return!!this.control}},{key:"getControl",value:function(){return this.control}},{key:"setControl",value:function(e){this.control=e}},{key:"hasDataChannel",value:function(){return!!this.dataChannel}},{key:"getDataChannel",value:function(){return this.dataChannel}},{key:"setDataChannel",value:function(e){this.dataChannel=e}},{key:"answer",value:function(t){var n=new e(this.id,this.type);if(t){if(n.setDirection(Jc.reverse(this.direction)),t.codecs){var r;r=Array.isArray(t.codecs)?yc.MapFromNames(t.codecs,t.rtx,t.rtcpfbs):t.codecs;var i,a=f(this.codecs.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(r.has(o.getCodec().toLowerCase())){var s=r.get(o.getCodec().toLowerCase());if("h264"===s.getCodec()&&s.hasParam("packetization-mode")&&s.getParam("packetization-mode")!=o.getParam("packetization-mode","0"))continue;if("h264"===s.getCodec()&&s.hasParam("profile-level-id")&&o.hasParam("profile-level-id")&&s.getParam("profile-level-id")!=o.getParam("profile-level-id"))continue;if("multiopus"===s.getCodec()&&s.hasParam("num_streams")&&o.hasParam("num_streams")&&s.getParam("num_streams")!=o.getParam("num_streams"))continue;var u=s.clone();u.setType(o.getType()),u.hasRTX()&&u.setRTX(o.getRTX()),o.hasChannels()&&u.setChannels(o.getChannels()),u.addParams(o.getParams()),n.addCodec(u)}}}catch(M){a.e(M)}finally{a.f()}}var c,d=new Set(t.extensions),p=f(this.extensions);try{for(p.s();!(c=p.n()).done;){var h=l(c.value,2),m=h[0],v=h[1];d.has(v)&&n.addExtension(m,v)}}catch(M){p.e(M)}finally{p.f()}if(t.simulcast&&this.simulcast){var g=new Kc,y=this.simulcast.getSimulcastStreams(Gc.SEND);if(y)for(var k=0;k<y.length;++k){for(var b=[],_=0;_<y[k].length;++_)b.push(y[k][_].clone());g.addSimulcastAlternativeStreams(Gc.RECV,b)}var w=this.simulcast.getSimulcastStreams(Gc.RECV);if(w)for(var S=0;S<w.length;++S){b=[];for(var x=0;x<w[S].length;++x)b.push(w[S][x].clone());g.addSimulcastAlternativeStreams(Gc.SEND,b)}var E,T=f(this.rids.values());try{for(T.s();!(E=T.n()).done;){var C=E.value,j=C.clone();j.setDirection(Gc.reverse(C.getDirection())),n.addRID(j)}}catch(M){T.e(M)}finally{T.f()}n.setSimulcast(g)}if(t.dataChannel&&this.dataChannel){var P=new el(this.dataChannel.getPort(),t.dataChannel.maxMessageSize?t.dataChannel.maxMessageSize:this.dataChannel.getMaxMessageSize());n.setDataChannel(P)}}else n.setDirection(Jc.INACTIVE);return n}},{key:"getSimulcast",value:function(){return this.simulcast}},{key:"setSimulcast",value:function(e){this.simulcast=e}}]),e}();tl.create=function(e,t){var n=new tl(e,e);return t?t.codecs&&(Array.isArray(t.codecs)?n.setCodecs(yc.MapFromNames(t.codecs,t.rtx,t.rtcpfbs)):n.setCodecs(t.codecs)):n.setDirection(Jc.INACTIVE),n},tl.expand=function(e){var t=new tl(e.id,e.type);if(e.direction&&t.setDirection(Jc.byValue(e.direction)),t.setBitrate(e.bitrate),e.dataChannel){var n=el.expand(e.dataChannel);n&&t.setDataChannel(n)}for(var r in e.extensions)t.addExtension(r,e.extensions[r]);for(var i=0;e.codecs&&i<e.codecs.length;++i){var a=yc.expand(e.codecs[i]);a&&t.addCodec(a)}for(var o=0;e.rids&&o<e.rids.length;++o){var s=Yc.expand(e.rids[o]);t.addRID(s)}return e.simulcast&&t.setSimulcast(Kc.expand(e.simulcast)),e.control&&t.setControl(e.control),t};var nl=tl,rl=function(){function e(t,n){y(this,e),this.semantics=t,this.ssrcs=[];for(var r=0;r<n.length;++r)this.ssrcs.push(parseInt(n[r]))}return g(e,[{key:"clone",value:function(){return new e(this.semantics,this.ssrcs)}},{key:"plain",value:function(){for(var e={semantics:this.semantics,ssrcs:[]},t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);return e}},{key:"getSemantics",value:function(){return this.semantics}},{key:"getSSRCs",value:function(){return this.ssrcs}}]),e}();rl.expand=function(e){return new rl(e.semantics,e.ssrcs)};var il=rl,al=function(){function e(t){y(this,e),this.ssrc=t}return g(e,[{key:"clone",value:function(){var t=new e(this.ssrc);t.setCName(this.cname),t.setStreamId(this.streamId),t.setTrackId(this.trackId)}},{key:"plain",value:function(){var e={ssrc:this.ssrc};return this.cname&&(e.cname=this.cname),this.streamId&&(e.streamId=this.streamId),this.trackId&&(e.trackid=this.trackId),e}},{key:"getCName",value:function(){return this.cname}},{key:"setCName",value:function(e){this.cname=e}},{key:"getStreamId",value:function(){return this.streamId}},{key:"setStreamId",value:function(e){this.streamId=e}},{key:"getTrackId",value:function(){return this.trackId}},{key:"setTrackId",value:function(e){this.trackId=e}},{key:"getSSRC",value:function(){return this.ssrc}}]),e}();al.expand=function(e){var t=new al(e.ssrc);return t.setCName(e.cname),t.setStreamId(e.streamId),t.setTrackId(e.trackId),t};var ol=al,sl=function(){function e(t,n){y(this,e),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}return g(e,[{key:"clone",value:function(){var t,n=new e(this.id,this.paused),r=f(this.codecs.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.addCodec(i.clone())}}catch(a){r.e(a)}finally{r.f()}return n.setParams(this.params),n}},{key:"plain",value:function(){var e,t={id:this.id,paused:this.paused,codecs:{},params:{}},n=f(this.codecs.entries());try{for(n.s();!(e=n.n()).done;){var r=l(e.value,2),i=r[0],a=r[1];t.codecs[i]=a.plain()}}catch(d){n.e(d)}finally{n.f()}var o,s=f(this.params.entries());try{for(s.s();!(o=s.n()).done;){var u=l(o.value,2),c=(i=u[0],u[1]);t.params[i]=c}}catch(d){s.e(d)}finally{s.f()}return t}},{key:"getId",value:function(){return this.id}},{key:"getCodecs",value:function(){return this.codecs}},{key:"addCodec",value:function(e){this.codecs.set(e.getType(),e)}},{key:"getParams",value:function(){return this.params}},{key:"setParams",value:function(e){this.params=new Map(e)}},{key:"addParam",value:function(e,t){this.params.set(e,t)}},{key:"isPaused",value:function(){return this.paused}}]),e}();sl.expand=function(e){var t=new sl(e.id,e.paused);for(var n in e.codecs)t.addCodec(yc.expand(e.codecs[n]));for(var r in e.params)t.addParam(r,e.params[r]);return t};var ul=sl,cl=function(){function e(t,n){y(this,e),this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}return g(e,[{key:"clone",value:function(){var t=new e(this.media,this.id);this.mediaId&&t.setMediaId(this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.addSSRC(this.ssrcs[n]);for(var r=0;r<this.groups.length;++r)t.addSourceGroup(this.groups[r].clone());for(var i=0;i<this.encodings.length;++i){for(var a=[],o=0;o<this.encodings[i].length;++o)a.push(this.encodings[i][o].clone());t.addAlternativeEncodings(a)}return t}},{key:"plain",value:function(){var e={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(e.mediaId=this.mediaId);for(var t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);for(var n=0;n<this.groups.length;++n)e.groups||(e.groups=[]),e.groups.push(this.groups[n].plain());for(var r=0;r<this.encodings.length;++r){for(var i=[],a=0;a<this.encodings[r].length;++a)i.push(this.encodings[r][a].plain());i.length&&(e.encodings||(e.encodings=[]),e.encodings.push(i))}return e}},{key:"getMedia",value:function(){return this.media}},{key:"setMediaId",value:function(e){this.mediaId=e}},{key:"getMediaId",value:function(){return this.mediaId}},{key:"getId",value:function(){return this.id}},{key:"addSSRC",value:function(e){this.ssrcs.push(e)}},{key:"getSSRCs",value:function(){return this.ssrcs}},{key:"addSourceGroup",value:function(e){this.groups.push(e)}},{key:"getSourceGroup",value:function(e){var t,n=f(this.groups);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.getSemantics().toLowerCase()===e.toLowerCase())return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"getSourceGroups",value:function(){return this.groups}},{key:"hasSourceGroup",value:function(e){var t,n=f(this.groups);try{for(n.s();!(t=n.n()).done;)if(t.value.getSemantics().toLowerCase()===e.toLowerCase())return!0}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"getEncodings",value:function(){return this.encodings}},{key:"addEncoding",value:function(e){this.encodings.push([e])}},{key:"addAlternativeEncodings",value:function(e){this.encodings.push(e)}},{key:"setEncodings",value:function(e){this.encodings=e}}]),e}();cl.expand=function(e){var t=new cl(e.media,e.id);e.mediaId&&t.setMediaId(e.mediaId);for(var n=0;e.ssrcs&&n<e.ssrcs.length;++n)t.addSSRC(e.ssrcs[n]);for(var r=0;e.groups&&r<e.groups.length;++r)t.addSourceGroup(il.expand(e.groups[r]));for(var i=0;e.encodings&&i<e.encodings.length;++i){for(var a=[],o=0;o<e.encodings[i].length;++o)a.push(ul.expand(e.encodings[i][o]));t.addAlternativeEncodings(a)}return t};var ll=cl,dl=function(){function e(t){y(this,e),this.id=t,this.tracks=new Map}return g(e,[{key:"clone",value:function(){var t,n=new e(this.id),r=f(this.tracks.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.addTrack(i.clone())}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"plain",value:function(){var e,t={id:this.id,tracks:[]},n=f(this.tracks.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.tracks.push(r.plain())}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"getId",value:function(){return this.id}},{key:"addTrack",value:function(e){this.tracks.set(e.getId(),e)}},{key:"removeTrack",value:function(e){return this.tracks.delete(e.getId())}},{key:"removeTrackById",value:function(e){return this.tracks.delete(e)}},{key:"getFirstTrack",value:function(e){var t,n=f(this.tracks.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.getMedia().toLowerCase()===e.toLowerCase())return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"getTracks",value:function(){return this.tracks}},{key:"removeAllTracks",value:function(){this.tracks.clear()}},{key:"getTrack",value:function(e){return this.tracks.get(e)}}]),e}();dl.expand=function(e){for(var t=new dl(e.id,e.paused),n=0;n<e.tracks.length;++n){var r=ll.expand(e.tracks[n]);r&&t.addTrack(r)}return t};var fl=dl,pl=function(){function e(t){y(this,e),this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}return g(e,[{key:"clone",value:function(){for(var t=new e(this.version),n=0;n<this.medias.length;++n)t.addMedia(this.medias[n].clone());var r,i=f(this.streams.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;t.addStream(a.clone())}}catch(s){i.e(s)}finally{i.f()}for(var o=0;o<this.candidates.length;++o)t.addCandidate(this.candidates[o].clone());return t.setICE(this.ice.clone()),this.dtls&&t.setDTLS(this.dtls.clone()),this.crypto&&t.setCrypto(this.crypto.clone()),t.setExmapAllowMixed(this.extmapAllowMixed),t}},{key:"plain",value:function(){for(var e={version:this.version,streams:[],medias:[],candidates:[]},t=0;t<this.medias.length;++t)e.medias.push(this.medias[t].plain());var n,r=f(this.streams.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;e.streams.push(i.plain())}}catch(o){r.e(o)}finally{r.f()}for(var a=0;a<this.candidates.length;++a)e.candidates.push(this.candidates[a].plain());return this.ice&&(e.ice=this.ice.plain()),this.dtls&&(e.dtls=this.dtls.plain()),this.crypto&&(e.crypto=this.crypto.plain()),this.extmapAllowMixed||(e.extmapAllowMixedNotSupported=!this.extmapAllowMixed),e}},{key:"unify",value:function(){for(var t=new e(this.version),n=0;n<this.medias.length;++n)t.addMedia(this.medias[n].clone());var r,i={audio:t.getMediasByType("audio"),video:t.getMediasByType("video")},a=f(this.streams.values());try{for(a.s();!(r=a.n()).done;){var o,s=r.value.clone(),u=f(s.getTracks().values());try{for(u.s();!(o=u.n()).done;){var c=o.value,l=i[c.getMedia()].pop();l||((l=this.getMedia(c.getMedia()).clone()).setId(c.getId()),t.addMedia(l)),c.setMediaId(l.getId())}}catch(p){u.e(p)}finally{u.f()}t.addStream(s)}}catch(p){a.e(p)}finally{a.f()}for(var d=0;d<this.candidates.length;++d)t.addCandidate(this.candidates[d].clone());return this.ice&&t.setICE(this.ice.clone()),this.dtls&&t.setDTLS(this.dtls.clone()),this.crypto&&t.setCrypto(this.crypto.clone()),t}},{key:"setVersion",value:function(e){this.version=e}},{key:"addMedia",value:function(e){this.medias.push(e)}},{key:"getMedia",value:function(e){for(var t in this.medias){var n=this.medias[t];if(n.getType().toLowerCase()===e.toLowerCase())return n}return null}},{key:"getMediasByType",value:function(e){var t=[];for(var n in this.medias){var r=this.medias[n];r.getType().toLowerCase()===e.toLowerCase()&&t.push(r)}return t}},{key:"getMediaById",value:function(e){for(var t in this.medias){var n=this.medias[t];if(n.getId().toLowerCase()===e.toLowerCase())return n}return null}},{key:"replaceMedia",value:function(e){for(var t in this.medias)if(this.medias[t].getId()==e.getId())return this.medias[t]=e,!0;return!1}},{key:"getMedias",value:function(){return this.medias}},{key:"getVersion",value:function(){return this.version}},{key:"getDTLS",value:function(){return this.dtls}},{key:"setDTLS",value:function(e){this.dtls=e}},{key:"hasCrypto",value:function(){return!!this.crypto}},{key:"getCrypto",value:function(){return this.crypto}},{key:"setCrypto",value:function(e){this.crypto=e}},{key:"hasICE",value:function(){return!!this.ice}},{key:"getICE",value:function(){return this.ice}},{key:"setICE",value:function(e){this.ice=e}},{key:"addCandidate",value:function(e){for(var t=0;t<this.candidates.length;++t)if(this.candidates[t].equals(e))return;this.candidates.push(e)}},{key:"addCandidates",value:function(e){for(var t=0;t<e.length;++t)this.addCandidate(e[t])}},{key:"getCandidates",value:function(){return this.candidates}},{key:"getStream",value:function(e){return this.streams.get(e)}},{key:"getStreams",value:function(){return this.streams}},{key:"getFirstStream",value:function(){var e,t=f(this.streams.values());try{for(t.s();!(e=t.n()).done;)return e.value}catch(n){t.e(n)}finally{t.f()}return null}},{key:"addStream",value:function(e){this.streams.set(e.getId(),e)}},{key:"removeStream",value:function(e){return this.streams.delete(e.getId())}},{key:"removeAllStreams",value:function(){this.streams.clear()}},{key:"getTrackByMediaId",value:function(e){var t,n=f(this.streams.values());try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=f(i.getTracks());try{for(a.s();!(r=a.n()).done;){var o=l(r.value,2),s=(o[0],o[1]);if(s.getMediaId()==e)return s}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}return null}},{key:"getStreamByMediaId",value:function(e){var t,n=f(this.streams.values());try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=f(i.getTracks());try{for(a.s();!(r=a.n()).done;){var o=l(r.value,2);if(o[0],o[1].getMediaId()==e)return i}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}return null}},{key:"getExtmapAllowMixed",value:function(){return this.extmapAllowMixed}},{key:"setExtmapAllowMixed",value:function(e){this.extmapAllowMixed=e}},{key:"answer",value:function(t){var n=new e;t.ice&&(t.ice instanceof Bc?n.setICE(t.ice.clone()):n.setICE(Bc.expand(t.ice))),t.dtls&&(t.dtls instanceof Sc?n.setDTLS(t.dtls):n.setDTLS(Sc.expand(t.dtls))),t.crypto&&(t.crypto instanceof Ec?n.setCrypto(t.crypto):n.setCrypto(Ec.expand(t.crypto)));for(var r=0;t.candidates&&r<t.candidates.length;++r)t.candidates[r]instanceof hc?n.addCandidate(t.candidates[r].clone()):n.addCandidate(hc.expand(t.candidates[r]));var i,a=f(this.medias);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=t&&t.capabilities&&t.capabilities[o.getType()];n.addMedia(o.answer(s))}}catch(u){a.e(u)}finally{a.f()}return n.setExtmapAllowMixed(this.extmapAllowMixed),n}},{key:"toString",value:function(){var e={version:0,media:[]};e.version=0,e.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},e.name="semantic-sdp",e.connection={version:4,ip:"0.0.0.0"},e.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),e.msidSemantic={semantic:"WMS",token:"*"},e.groups=[],this.extmapAllowMixed&&(e.extmapAllowMixed="extmap-allow-mixed");var t={type:"BUNDLE",mids:[]};for(var n in this.medias){var r=this.medias[n],i={type:r.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};i.direction=Jc.toString(r.getDirection()),this.extmapAllowMixed&&(i.extmapAllowMixed="extmap-allow-mixed"),i.mid=r.getId(),t.mids.push(r.getId()),r.hasControl()&&(i.control=r.getControl()),r.getBitrate()>0&&(i.bandwidth.push({type:"AS",limit:r.getBitrate()}),i.bandwidth.push({type:"TIAS",limit:1e3*r.getBitrate()}));for(var a=this.getCandidates(),o=0;o<a.length;++o){var s=a[o];i.candidates.push({foundation:s.getFoundation(),component:s.getComponentId(),transport:s.getTransport(),priority:s.getPriority(),ip:s.getAddress(),port:s.getPort(),type:s.getType(),raddr:s.getRelAddr(),rport:s.getRelPort()})}if(this.getICE()&&(i.iceUfrag=this.getICE().getUfrag(),i.icePwd=this.getICE().getPwd()),["audio","video"].includes(r.getType().toLowerCase())){i.rtcpMux="rtcp-mux",i.rtcpRsize="rtcp-rsize",this.getDTLS()?(i.protocol="UDP/TLS/RTP/SAVPF",i.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},i.setup=_c.toString(this.getDTLS().getSetup())):this.getCrypto()?(i.protocol="RTP/SAVPF",i.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):i.protocol="RTP/AVP";var u,c=f(r.getCodecs().values());try{for(c.s();!(u=c.n()).done;){var d=u.value;"video"===r.getType().toLowerCase()?i.rtp.push({payload:d.getType(),codec:d.getCodec().toUpperCase(),rate:9e4}):"opus"===d.getCodec().toLowerCase()||"multiopus"===d.getCodec().toLowerCase()?i.rtp.push({payload:d.getType(),codec:d.getCodec(),rate:48e3,encoding:d.getChannels()}):i.rtp.push({payload:d.getType(),codec:d.getCodec(),rate:8e3});var p,h=f(d.getRTCPFeedbacks());try{for(h.s();!(p=h.n()).done;){var m=p.value;i.rtcpFb.push({payload:d.getType(),type:m.getId(),subtype:m.getParams().join(" ")})}}catch(fe){h.e(fe)}finally{h.f()}d.hasRTX()&&(i.rtp.push({payload:d.getRTX(),codec:"rtx",rate:9e4}),i.fmtp.push({payload:d.getRTX(),config:"apt="+d.getType()}));var v=d.getParams();if(Object.keys(v).length){var g={payload:d.getType(),config:""};for(var y in v)g.config.length&&(g.config+=";"),v.hasOwnProperty(y)?g.config+=y+"="+v[y]:g.config+=y;i.fmtp.push(g)}}}catch(fe){c.e(fe)}finally{c.f()}for(var k=[],b=0;b<i.rtp.length;++b)k.push(i.rtp[b].payload);i.payloads=k.join(" ");var _,w=f(r.getExtensions().entries());try{for(w.s();!(_=w.n()).done;){var S=l(_.value,2),x=S[0],E=S[1];i.ext.push({value:x,uri:E})}}catch(fe){w.e(fe)}finally{w.f()}var T,C=f(r.getRIDs().values());try{for(C.s();!(T=C.n()).done;){var j=T.value,P={id:j.getId(),direction:Gc.toString(j.getDirection()),params:""};j.getFormats().length&&(P.params="pt="+j.getFormats().join(","));var M,I=f(j.getParams().entries());try{for(I.s();!(M=I.n()).done;){var R=l(M.value,2),A=R[0],D=R[1];P.params+=(P.params.length?";":"")+A+"="+D}}catch(fe){I.e(fe)}finally{I.f()}i.rids.push(P)}}catch(fe){C.e(fe)}finally{C.f()}var O=r.getSimulcast();if(O){var N=1;i.simulcast={};var L=O.getSimulcastStreams(Gc.SEND),F=O.getSimulcastStreams(Gc.RECV);if(L&&L.length){for(var z="",U=0;U<L.length;++U){for(var V="",B=0;B<L[U].length;++B)V+=(V.length?",":"")+(L[U][B].isPaused()?"~":"")+L[U][B].getId();z+=(z.length?";":"")+V}i.simulcast["dir"+N]="send",i.simulcast["list"+N]=z,N++}if(F&&F.length){for(var W=[],G=0;G<F.length;++G){for(var H="",Y=0;Y<F[G].length;++Y)H+=(H.length?",":"")+(F[G][Y].isPaused()?"~":"")+F[G][Y].getId();W+=(W.length?";":"")+H}i.simulcast["dir"+N]="recv",i.simulcast["list"+N]=W,N++}}}else if(r.hasDataChannel()){i.protocol="UDP/DTLS/SCTP",i.payloads="webrtc-datachannel";var Z=r.getDataChannel();i.sctpPort=Z.getPort(),i.maxMessageSize=Z.getMaxMessageSize()}e.media.push(i)}var q,$=f(this.streams.values());try{for($.s();!(q=$.n()).done;){var K,X=q.value,J=f(X.getTracks().values());try{for(J.s();!(K=J.n()).done;){var Q=K.value;for(var ee in e.media){var te=e.media[ee];if(Q.getMediaId()){if(Q.getMediaId()==te.mid){var ne=Q.getSourceGroups();for(var re in ne){var ie=ne[re];te.ssrcGroups.push({semantics:ie.getSemantics(),ssrcs:ie.getSSRCs().join(" ")})}var ae=Q.getSSRCs();for(var oe in ae)te.ssrcs.push({id:ae[oe],attribute:"cname",value:X.getId()}),te.ssrcs.push({id:ae[oe],attribute:"msid",value:X.getId()+" "+Q.getId()});te.msid=X.getId()+" "+Q.getId();break}}else if(te.type.toLowerCase()===Q.getMedia().toLowerCase()){var se=Q.getSourceGroups();for(var ue in se){var ce=se[ue];te.ssrcGroups.push({semantics:ce.getSemantics(),ssrcs:ce.getSSRCs().join(" ")})}var le=Q.getSSRCs();for(var de in le)te.ssrcs.push({id:le[de],attribute:"cname",value:X.getId()}),te.ssrcs.push({id:le[de],attribute:"msid",value:X.getId()+" "+Q.getId()});break}}}}catch(fe){J.e(fe)}finally{J.f()}}}catch(fe){$.e(fe)}finally{$.f()}return t.mids=t.mids.join(" "),e.groups.push(t),fc.write(e)}},{key:"toIceFragmentString",value:function(){var e={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),this.getICE()&&(e.iceUfrag=this.getICE().getUfrag(),e.icePwd=this.getICE().getPwd());var t,n=f(this.getCandidates());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}}catch(i){n.e(i)}finally{n.f()}return fc.write(e).slice(10)}}]),e}();pl.create=function(e){var t=new pl;e.ice&&(e.ice instanceof Bc?t.setICE(e.ice.clone()):t.setICE(Bc.expand(e.ice))),e.dtls&&(e.dtls instanceof Sc?t.setDTLS(e.dtls):t.setDTLS(Sc.expand(e.dtls))),e.crypto&&(e.crypto instanceof Ec?t.setCrypto(e.crypto):t.setCrypto(Ec.expand(e.crypto)));for(var n=0;e.candidates&&n<e.candidates.length;++n)e.candidates[n]instanceof hc?t.addCandidate(e.candidates[n].clone()):t.addCandidate(hc.expand(e.candidates[n]));var r=96,i=1;for(var a in e.capabilities){var o,s=nl.create(a,e.capabilities[a]),u=f(s.getCodecs());try{for(u.s();!(o=u.n()).done;){var c=l(o.value,2),d=(c[0],c[1]);d.getType()>=96&&d.setType(r++),d.getRTX()&&d.setRTX(r++)}}catch(v){u.e(v)}finally{u.f()}if(e.capabilities[a].extensions){var p,h=f(e.capabilities[a].extensions);try{for(h.s();!(p=h.n()).done;){var m=p.value;15===i&&i++,s.addExtension(i++,m)}}catch(v){h.e(v)}finally{h.f()}}t.addMedia(s)}return t},pl.expand=function(e){for(var t=new pl(e.version),n=0;e.medias&&n<e.medias.length;++n){var r=nl.expand(e.medias[n]);r&&t.addMedia(r)}for(var i=0;e.streams&&i<e.streams.length;++i){var a=fl.expand(e.streams[i]);a&&t.addStream(a)}for(var o=0;e.candidates&&o<e.candidates.length;++o){var s=hc.expand(e.candidates[o]);s&&t.addCandidate(s)}return e.ice&&t.setICE(Bc.expand(e.ice)),e.dtls&&t.setDTLS(Sc.expand(e.dtls)),e.crypto&&t.setCrypto(Sc.expand(e.crypto)),e.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!e.extmapAllowMixedNotSupported),t},pl.process=function(e){return pl.parse(e)},pl.parse=function(e){var t=fc.parse(e),n=new pl;if(n.setVersion(t.version),t.iceUfrag&&t.icePwd){var r=String(t.iceUfrag),i=String(t.icePwd),a=new Bc(r,i);a.setLite("ice-lite"==t.icelite),a.setEndOfCandidates("end-of-candidates"==t.endOfCandidates),n.setICE(a)}for(var o in t.media){var s=t.media[o],u=s.type,c=s.mid?s.mid.toString():o,d=new nl(c,u);if(s.iceUfrag&&s.icePwd){var p=String(s.iceUfrag),h=String(s.icePwd),m=new Bc(p,h);m.setLite("ice-lite"==t.icelite),m.setEndOfCandidates("end-of-candidates"==s.endOfCandidates),n.setICE(m)}for(var v=0;s.candidates&&v<s.candidates.length;++v){var g=s.candidates[v],y=new hc(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);n.addCandidate(y)}var k=s.fingerprint||t.fingerprint;if(k){var b=k.type,_=k.hash,w=_c.ACTPASS;s.setup&&(w=_c.byValue(s.setup)),n.setDTLS(new Sc(w,b,_))}if(s.crypto){var S=s.crypto[0];n.setCrypto(new Ec(S.id,S.suite,S.config,S.sessionConfig))}var x=Jc.SENDRECV;s.direction&&(x=Jc.byValue(s.direction),d.setDirection(x)),s.control&&d.setControl(s.control),n.setExtmapAllowMixed("extmap-allow-mixed"==s.extmapAllowMixed||"extmap-allow-mixed"==t.extmapAllowMixed);var E=new Map;for(var T in s.rtp){var C=s.rtp[T],j=C.payload,P=C.codec;if("RED"!==P.toUpperCase()&&"ULPFEC"!==P.toUpperCase()){var M={};for(var I in s.fmtp){var R=s.fmtp[I];if(R.payload===j){var A=R.config.split(";");for(var D in A){var O=A[D].split("="),N=O[0].trim(),L=O.splice(1).join("=").trim();M[N]=L}}}if("RTX"===P.toUpperCase())E.set(parseInt(M.apt),j);else{var F=new yc(P,j,M);C.encoding>1&&F.setChannels(C.encoding),d.addCodec(F)}}}var z,U=f(E.entries());try{for(U.s();!(z=U.n()).done;){var V=z.value,B=d.getCodecForType(V[0]);B&&B.setRTX(V[1])}}catch(ct){U.e(ct)}finally{U.f()}for(var W=0;s.rtcpFb&&W<s.rtcpFb.length;++W){var G=d.getCodecForType(s.rtcpFb[W].payload);if(G){var H=s.rtcpFb[W].type,Y=s.rtcpFb[W].subtype?s.rtcpFb[W].subtype.split(" "):null;G.addRTCPFeedback(new vc(H,Y))}}var Z=s.ext;for(var q in Z){var $=Z[q];d.addExtension($.value,$.uri)}var K=s.rids;for(var X in K){var J=K[X],Q=new Yc(J.id,Gc.byValue(J.direction)),ee=[],te=new Map;if(J.params){var ne=fc.parseParams(J.params);for(var re in ne)"pt"===re?ee=ne[re].split(","):te.set(re,ne[re]);Q.setFormats(ee),Q.setParams(te)}d.addRID(Q)}var ie=[];if(s.simulcast){var ae=new Kc;if(s.simulcast.dir1)for(var oe=Gc.byValue(s.simulcast.dir1),se=fc.parseSimulcastStreamList(s.simulcast.list1),ue=0;ue<se.length;++ue){for(var ce=[],le=0;le<se[ue].length;++le)ce.push(new qc(se[ue][le].scid,se[ue][le].paused));ae.addSimulcastAlternativeStreams(oe,ce)}if(s.simulcast.dir2)for(var de=Gc.byValue(s.simulcast.dir2),fe=fc.parseSimulcastStreamList(s.simulcast.list2),pe=0;pe<fe.length;++pe){for(var he=[],me=0;me<fe[pe].length;++me)he.push(new qc(fe[pe][me].scid,fe[pe][me].paused));ae.addSimulcastAlternativeStreams(de,he)}var ve,ge=f(ae.getSimulcastStreams(Gc.SEND));try{for(ge.s();!(ve=ge.n()).done;){for(var ye=ve.value,ke=[],be=0;be<ye.length;be++){var _e=new ul(ye[be].getId(),ye[be].isPaused()),we=d.getRID(_e.getId());if(we){for(var Se=we.getFormats(),xe=0;Se&&xe<Se.length;++xe){var Ee=d.getCodecForType(Se[xe]);Ee&&_e.addCodec(Ee)}_e.setParams(we.getParams()),ke.push(_e)}}ke.length&&ie.push(ke)}}catch(ct){ge.e(ct)}finally{ge.f()}d.setSimulcast(ae)}var Te=new Map;if(s.ssrcs)for(var Ce in s.ssrcs){var je=s.ssrcs[Ce],Pe=je.id,Me=je.attribute,Ie=je.value,Re=Te.get(Pe);if(Re||(Re=new ol(Pe),Te.set(Re.getSSRC(),Re)),"cname"===Me.toLowerCase())Re.setCName(Ie);else if("msid"===Me.toLowerCase()){var Ae=Ie.split(" "),De=Ae[0],Oe=Ae[1];Re.setStreamId(De),Re.setTrackId(Oe);var Ne=n.getStream(De);Ne||(Ne=new fl(De),n.addStream(Ne));var Le=Ne.getTrack(Oe);Le||((Le=new ll(u,Oe)).setMediaId(c),Le.setEncodings(ie),Ne.addTrack(Le)),Le.addSSRC(Pe)}}if(s.msid){var Fe=s.msid.split(" "),ze=Fe[0],Ue=Fe[1],Ve=n.getStream(ze);Ve||(Ve=new fl(ze),n.addStream(Ve));var Be=Ve.getTrack(Ue);Be||((Be=new ll(u,Ue)).setMediaId(c),Be.setEncodings(ie),Ve.addTrack(Be));var We,Ge=f(Te.entries());try{for(Ge.s();!(We=Ge.n()).done;){var He=l(We.value,2),Ye=He[0],Ze=He[1];Ze.getStreamId()||(Ze.setStreamId(ze),Ze.setTrackId(Ue),Be.addSSRC(Ye))}}catch(ct){Ge.e(ct)}finally{Ge.f()}}var qe,$e=f(Te.entries());try{for($e.s();!(qe=$e.n()).done;){var Ke=l(qe.value,2),Xe=Ke[0],Je=Ke[1];if(!Je.getStreamId()){var Qe=Je.getCName(),et=c;Je.setStreamId(Qe),Je.setTrackId(et);var tt=n.getStream(Qe);tt||(tt=new fl(Qe),n.addStream(tt));var nt=tt.getTrack(et);nt||((nt=new ll(u,et)).setMediaId(c),nt.setEncodings(ie),tt.addTrack(nt)),nt.addSSRC(Xe)}}}catch(ct){$e.e(ct)}finally{$e.f()}if(s.ssrcGroups)for(var rt in s.ssrcGroups){var it=s.ssrcGroups[rt],at=it.ssrcs.split(" "),ot=new il(it.semantics,at),st=Te.get(parseInt(at[0]));st&&n.getStream(st.getStreamId()).getTrack(st.getTrackId()).addSourceGroup(ot)}if("application"==s.type&&"webrtc-datachannel"==s.payloads){var ut=new el(s.sctpPort,s.maxMessageSize);d.setDataChannel(ut)}n.addMedia(d)}return n};var hl={SDPInfo:pl,CandidateInfo:hc,CodecInfo:yc,DTLSInfo:Sc,CryptoInfo:Ec,ICEInfo:Bc,MediaInfo:nl,Setup:_c,SourceGroupInfo:il,SourceInfo:ol,StreamInfo:fl,TrackInfo:ll,RTCPFeedbackInfo:vc,TrackEncodingInfo:ul,Direction:Jc},ml=h((function(e,t){!function(n,r){var i="function",a="undefined",o="object",s="string",u="model",c="name",l="type",d="vendor",f="version",p="architecture",h="console",m="mobile",v="tablet",g="smarttv",y="wearable",k="embedded",b="Amazon",_="Apple",w="ASUS",S="BlackBerry",x="Browser",E="Chrome",T="Firefox",C="Google",j="Huawei",P="LG",M="Microsoft",I="Motorola",R="Opera",A="Samsung",D="Sharp",O="Sony",N="Xiaomi",L="Zebra",F="Facebook",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},U=function(e,t){return typeof e===s&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},B=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,350)},W=function(e,t){for(var n,a,s,u,c,l,d=0;d<t.length&&!c;){var f=t[d],p=t[d+1];for(n=a=0;n<f.length&&!c;)if(c=f[n++].exec(e))for(s=0;s<p.length;s++)l=c[++a],typeof(u=p[s])===o&&u.length>0?2===u.length?typeof u[1]==i?this[u[0]]=u[1].call(this,l):this[u[0]]=u[1]:3===u.length?typeof u[1]!==i||u[1].exec&&u[1].test?this[u[0]]=l?l.replace(u[1],u[2]):r:this[u[0]]=l?u[1].call(this,l,u[2]):r:4===u.length&&(this[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):r):this[u]=l||r;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(U(t[n][i],e))return"?"===n?r:n}else if(U(t[n],e))return"?"===n?r:n;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,f],[/opios[\/ ]+([\w\.]+)/i],[f,[c,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[c,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[c,"UC"+x]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+x],f],[/\bfocus\/([\w\.]+)/i],[f,[c,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[c,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[c,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[c,"MIUI "+x]],[/fxios\/([-\w\.]+)/i],[f,[c,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+x]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+x],f],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,F],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[c,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,E+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[c,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[f,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[c,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,V]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[d,A],[l,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[d,A],[l,m]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[d,_],[l,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,_],[l,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[d,j],[l,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[d,j],[l,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[d,N],[l,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[d,N],[l,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[d,"OPPO"],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[d,"Vivo"],[l,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[d,"Realme"],[l,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[d,I],[l,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[d,I],[l,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[d,P],[l,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[d,P],[l,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[d,"Lenovo"],[l,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[d,"Nokia"],[l,m]],[/(pixel c)\b/i],[u,[d,C],[l,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[d,C],[l,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,O],[l,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[d,O],[l,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[d,"OnePlus"],[l,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[d,b],[l,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[d,b],[l,m]],[/(playbook);[-\w\),; ]+(rim)/i],[u,d,[l,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[d,S],[l,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[d,w],[l,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[d,w],[l,m]],[/(nexus 9)/i],[u,[d,"HTC"],[l,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[u,/_/g," "],[l,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[d,"Acer"],[l,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[d,"Meizu"],[l,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[d,D],[l,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,u,[l,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,u,[l,v]],[/(surface duo)/i],[u,[d,M],[l,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[d,"Fairphone"],[l,m]],[/(u304aa)/i],[u,[d,"AT&T"],[l,m]],[/\bsie-(\w*)/i],[u,[d,"Siemens"],[l,m]],[/\b(rct\w+) b/i],[u,[d,"RCA"],[l,v]],[/\b(venue[\d ]{2,7}) b/i],[u,[d,"Dell"],[l,v]],[/\b(q(?:mv|ta)\w+) b/i],[u,[d,"Verizon"],[l,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[d,"Barnes & Noble"],[l,v]],[/\b(tm\d{3}\w+) b/i],[u,[d,"NuVision"],[l,v]],[/\b(k88) b/i],[u,[d,"ZTE"],[l,v]],[/\b(nx\d{3}j) b/i],[u,[d,"ZTE"],[l,m]],[/\b(gen\d{3}) b.+49h/i],[u,[d,"Swiss"],[l,m]],[/\b(zur\d{3}) b/i],[u,[d,"Swiss"],[l,v]],[/\b((zeki)?tb.*\b) b/i],[u,[d,"Zeki"],[l,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],u,[l,v]],[/\b(ns-?\w{0,9}) b/i],[u,[d,"Insignia"],[l,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[d,"NextBook"],[l,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],u,[l,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],u,[l,m]],[/\b(ph-1) /i],[u,[d,"Essential"],[l,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[d,"Envizen"],[l,v]],[/\b(trio[-\w\. ]+) b/i],[u,[d,"MachSpeed"],[l,v]],[/\btu_(1491) b/i],[u,[d,"Rotor"],[l,v]],[/(shield[\w ]+) b/i],[u,[d,"Nvidia"],[l,v]],[/(sprint) (\w+)/i],[d,u,[l,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,M],[l,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,L],[l,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,L],[l,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,u,[l,h]],[/droid.+; (shield) bui/i],[u,[d,"Nvidia"],[l,h]],[/(playstation [345portablevi]+)/i],[u,[d,O],[l,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[d,M],[l,h]],[/smart-tv.+(samsung)/i],[d,[l,g]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,A],[l,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,P],[l,g]],[/(apple) ?tv/i],[d,[u,_+" TV"],[l,g]],[/crkey/i],[[u,E+"cast"],[d,C],[l,g]],[/droid.+aft(\w)( bui|\))/i],[u,[d,b],[l,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[d,D],[l,g]],[/(bravia[\w ]+)( bui|\))/i],[u,[d,O],[l,g]],[/(mitv-\w{5}) bui/i],[u,[d,N],[l,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,B],[u,B],[l,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,g]],[/((pebble))app/i],[d,u,[l,y]],[/droid.+; (glass) \d/i],[u,[d,C],[l,y]],[/droid.+; (wt63?0{2,3})\)/i],[u,[d,L],[l,y]],[/(quest( 2)?)/i],[u,[d,F],[l,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[l,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,m]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[f,G,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[f,G,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,f],[/\(bb(10);/i],[f,[c,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[c,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[c,E+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,f],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,f]]},Z=function e(t,i){if(typeof t===o&&(i=t,t=r),!(this instanceof e))return new e(t,i).getResult();var h=t||(typeof n!==a&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),m=i?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,i):Y;return this.getBrowser=function(){var e={};return e[c]=r,e[f]=r,W.call(e,h,m.browser),e.major=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e.version),e},this.getCPU=function(){var e={};return e[p]=r,W.call(e,h,m.cpu),e},this.getDevice=function(){var e={};return e[d]=r,e[u]=r,e[l]=r,W.call(e,h,m.device),e},this.getEngine=function(){var e={};return e[c]=r,e[f]=r,W.call(e,h,m.engine),e},this.getOS=function(){var e={};return e[c]=r,e[f]=r,W.call(e,h,m.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return h},this.setUA=function(e){return h=typeof e===s&&e.length>350?B(e,350):e,this},this.setUA(h),this};Z.VERSION="0.7.32",Z.BROWSER=z([c,f,"major"]),Z.CPU=z([p]),Z.DEVICE=z([u,d,l,h,m,g,v,y,k]),Z.ENGINE=Z.OS=z([c,f]),e.exports&&(t=e.exports=Z),t.UAParser=Z;var q=typeof n!==a&&(n.jQuery||n.Zepto);if(q&&!q.ua){var $=new Z;q.ua=$.getResult(),q.ua.get=function(){return $.getUA()},q.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var n in t)q.ua[n]=t[n]}}}("object"==typeof window?window:a)})),vl=["iOS"],gl=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,window.navigator.userAgent)}return g(n,[{key:"isChrome",value:function(){var e=this.getBrowser();if(!e.name)return!1;var t=this.getOS(),n=!0;return n=!new RegExp(vl.join("|"),"i").test(t.name),e.name.match(/Chrome/i)&&n}},{key:"isFirefox",value:function(){var e=this.getBrowser();return!!e.name&&e.name.match(/Firefox/i)}},{key:"isOpera",value:function(){var e=this.getBrowser();return!!e.name&&e.name.match(/Opera/i)}}]),n}(ml),yl=Gr.get("SdpParser"),kl=Array.from({length:31},(function(e,t){return t+35})),bl=Array.from({length:32},(function(e,t){return t+96})),_l=Array.from({length:14},(function(e,t){return t+1})),wl=Array.from({length:240},(function(e,t){return t+16})),Sl=function(){function e(){y(this,e)}return g(e,null,[{key:"setSimulcast",value:function(e,t){if(yl.info("Setting simulcast. Codec: ",t),!(new gl).isChrome())return yl.warn("Simulcast is only available in Google Chrome browser"),e;if("h264"!==t&&"vp8"!==t)return yl.warn("Simulcast is only available in h264 and vp8 codecs"),e;try{for(var n=/m=video[\s\S]*?a=ssrc:(\d*) msid:([\s\S]+?)\r\n/,r=/m=video[\s\S]*?a=ssrc:(\d*) cname:([\s\S]+?)\r\n/.exec(e),i=r[1],a=r[2],o=n.exec(e)[2],s=2,u=[i],c=0;c<s;++c){var l=100+2*c,d=l+1;u.push(l),e+="a=ssrc-group:FID "+l+" "+d+"\r\na=ssrc:"+l+" cname:"+a+"\r\na=ssrc:"+l+" msid:"+o+"\r\na=ssrc:"+d+" cname:"+a+"\r\na=ssrc:"+d+" msid:"+o+"\r\n"}return e+="a=ssrc-group:SIM "+u.join(" ")+"\r\n",yl.info("Simulcast setted"),yl.debug("Simulcast SDP: ",e),e}catch(e){throw yl.error("Error setting SDP for simulcast: ",e),e}}},{key:"setStereo",value:function(e){return yl.info("Replacing SDP response for support stereo"),e=e.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),yl.info("Replaced SDP response for support stereo"),yl.debug("New SDP value: ",e),e}},{key:"setDTX",value:function(e){return yl.info("Replacing SDP response for support dtx"),e=e.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),yl.info("Replaced SDP response for support dtx"),yl.debug("New SDP value: ",e),e}},{key:"setAbsoluteCaptureTime",value:function(t){var n="a=extmap:"+e.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(e,t,r){return t+n+r})),yl.info("Replaced SDP response for setting absolute capture time"),yl.debug("New SDP value: ",t),t}},{key:"setDependencyDescriptor",value:function(t){var n="a=extmap:"+e.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(e,t,r){return t+n+r})),yl.info("Replaced SDP response for setting depency descriptor"),yl.debug("New SDP value: ",t),t}},{key:"setVideoBitrate",value:function(e,t){if(t<1)yl.info("Remove bitrate restrictions"),e=e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var n=hl.SDPInfo.parse(e),r=n.getMedia("video");yl.info("Setting video bitrate"),r.setBitrate(t),e=n.toString()}return e}},{key:"removeSdpLine",value:function(e,t){return yl.debug("SDP before trimming: ",e),e=e.split("\n").filter((function(e){return e.trim()!==t})).join("\n"),yl.debug("SDP trimmed result: ",e),e}},{key:"adaptCodecName",value:function(e,t,n){if(!e)return e;var r=new RegExp("".concat(t),"i");return e.replace(r,n)}},{key:"setMultiopus",value:function(t,n){if(!(new gl).isFirefox()&&(!n||xl(n)))if(t.includes("multiopus/48000/6"))yl.info("Multiopus already setted");else{yl.info("Setting multiopus");var r=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],i=e.getAvailablePayloadTypeRange(t)[0],a=r.replace("\r\n"," ")+i+"\r\na=rtpmap:"+i+" multiopus/48000/6\r\na=fmtp:"+i+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(r,a),yl.info("Multiopus offer created"),yl.debug("SDP parsed for multioups: ",t)}return t}},{key:"getAvailablePayloadTypeRange",value:function(e){var t,n=e.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=bl.concat(kl),i=f(n);try{var a=function(){var e=t.value[1].split(" ").map((function(e){return parseInt(e)}));r=r.filter((function(t){return!e.includes(t)}))};for(i.s();!(t=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"getAvailableHeaderExtensionIdRange",value:function(e){var t,n=e.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=_l.concat(wl),i=f(n);try{var a=function(){var e=t.value[1].split(" ").map((function(e){return parseInt(e)}));r=r.filter((function(t){return!e.includes(t)}))};for(i.s();!(t=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"renegotiate",value:function(e,t){var n,r=hl.SDPInfo.parse(e),i=hl.SDPInfo.parse(t),a=f(r.getMedias());try{for(a.s();!(n=a.n()).done;){var o=n.value,s=i.getMediaById(o.getId());if(!s){(s=new hl.MediaInfo(o.getId(),o.getType())).setDirection(hl.Direction.reverse(o.getDirection()));var u=i.getMedia(o.getType());if(u){s.setCodecs(u.getCodecs());var c,d=f(u.getExtensions());try{for(d.s();!(c=d.n()).done;){var p=l(c.value,2),h=p[0],m=p[1];s.addExtension(h,m)}}catch(v){d.e(v)}finally{d.f()}}i.addMedia(s)}}}catch(v){a.e(v)}finally{a.f()}return i.toString()}},{key:"updateMissingVideoExtensions",value:function(e,t){var n,r=hl.SDPInfo.parse(e),i=null===(n=hl.SDPInfo.parse(t).getMediasByType("video")[0])||void 0===n?void 0:n.getExtensions();if(i||i.length){var a,o=f(r.getMediasByType("video"));try{var s=function(){var t=a.value,n=t.getExtensions();i.forEach((function(r,i){if(!n.get(i)){var a=t.getId(),o="a=extmap:"+i+" "+r+"\r\n",s=new RegExp("(a=mid:"+a+"\r\n(?:.*\r\n)*?)","g");e=e.replace(s,(function(e,t,n){return t+o}))}}))};for(o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}return e}}}]),e}(),xl=function(e){return e.getAudioTracks().some((function(e){return e.getSettings().channelCount>2}))},El=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).namespace=e,i.tm=r,i}return g(n,[{key:"cmd",value:function(e,t){return this.tm.cmd(e,t,this.namespace)}},{key:"event",value:function(e,t){return this.tm.event(e,t,this.namespace)}},{key:"close",value:function(){return this.tm.namespaces.delete(this.namespace)}}]),n}(Fs),Tl=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).maxId=0,r.namespaces=new Map,r.transactions=new Map,r.transport=e,r.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(e){return}switch(n.type){case"cmd":var i={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){e.send(JSON.stringify({type:"response",transId:n.transId,data:t}))},reject:function(t){e.send(JSON.stringify({type:"error",transId:n.transId,data:t}))}};if(i.namespace){var a=r.namespaces.get(i.namespace);a?a.emit("cmd",i):r.emit("cmd",i)}else r.emit("cmd",i);break;case"response":var o=r.transactions.get(n.transId);if(!o)return;r.transactions.delete(n.transId),o.resolve(n.data);break;case"error":var s=r.transactions.get(n.transId);if(!s)return;r.transactions.delete(n.transId),s.reject(n.data);break;case"event":var u={name:n.name,data:n.data,namespace:n.namespace};if(u.namespace){var c=r.namespaces.get(u.namespace);c?c.emit("event",u):r.emit("event",u)}else r.emit("event",u)}},r.transport.addListener?r.transport.addListener("message",r.listener):r.transport.addEventListener("message",r.listener),r}return g(n,[{key:"cmd",value:function(e,t,n){var r=this;return new Promise((function(i,a){if(!e||0===e.length)throw new Error("Bad command name");var o={type:"cmd",transId:r.maxId++,name:e,data:t};n&&(o.namespace=n);var s=JSON.stringify(o);o.resolve=i,o.reject=a,r.transactions.set(o.transId,o);try{r.transport.send(s)}catch(e){throw r.transactions.delete(o.transId),e}}))}},{key:"event",value:function(e,t,n){if(!e||0===e.length)throw new Error("Bad event name");var r={type:"event",name:e,data:t};n&&(r.namespace=n);var i=JSON.stringify(r);this.transport.send(i)}},{key:"namespace",value:function(e){var t=this.namespaces.get(e);return t||(t=new El(e,this),this.namespaces.set(e,t),t)}},{key:"close",value:function(){var e,t=f(this.namespaces.values());try{for(t.s();!(e=t.n()).done;)e.value.close()}catch(n){t.e(n)}finally{t.f()}this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}}]),n}(Fs),Cl=Gr.get("Signaling"),jl="wsConnectionSuccess",Pl="wsConnectionError",Ml="broadcastEvent",Il={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1"},Rl={OPUS:"opus",MULTIOPUS:"multiopus"},Al=function(e){k(n,e);var t=b(n);function n(){var e;y(this,n);var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{streamName:null,url:"ws://localhost:8080/"};return(e=t.call(this)).streamName=r.streamName,e.wsUrl=r.url,e.webSocket=null,e.transactionManager=null,e.serverId=null,e.clusterId=null,e}return g(n,[{key:"connect",value:function(){var e=v(p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(Cl.info("Connecting to Signaling Server"),this.transactionManager&&(null===(t=this.webSocket)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?(Cl.info("Connected to server: ",this.webSocket.url),Cl.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(jl,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((function(e,t){n.webSocket=new WebSocket(n.wsUrl),n.transactionManager=new Tl(n.webSocket),n.webSocket.onopen=function(){Cl.info("WebSocket opened"),n.transactionManager.on("event",(function(e){n.emit(Ml,e)})),Cl.info("Connected to server: ",n.webSocket.url),Cl.debug("WebSocket value: ",{url:n.webSocket.url,protocol:n.webSocket.protocol,readyState:n.webSocket.readyState,binaryType:n.webSocket.binaryType,extensions:n.webSocket.extensions}),n.emit(jl,{ws:n.webSocket,tm:n.transactionManager}),e(n.webSocket)},n.webSocket.onerror=function(){Cl.error("WebSocket not connected: ",n.webSocket.url),n.emit(Pl,n.webSocket.url),t(n.webSocket.url)},n.webSocket.onclose=function(){n.webSocket=null,n.transactionManager=null,Cl.info("Connection closed with Signaling Server."),n.emit("wsConnectionClose")}}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e;Cl.info("Closing connection with Signaling Server."),null===(e=this.webSocket)||void 0===e||e.close()}},{key:"subscribe",value:function(){var e=v(p().mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,h,m=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:null,i=m.length>3&&void 0!==m[3]?m[3]:null,Cl.info("Starting subscription to streamName: ",this.streamName),Cl.debug("Subcription local description: ",t),a=Dl(n,r,i),o={sdp:t=Sl.adaptCodecName(t,"AV1X",Il.AV1),streamId:this.streamName,pinnedSourceId:a.pinnedSourceId,excludedSourceIds:a.excludedSourceIds},a.vad&&(o.vad=!0),Array.isArray(a.events)&&(o.events=a.events),e.prev=4,e.next=7,this.connect();case 7:return Cl.info("Sending view command"),e.next=10,this.transactionManager.cmd("view",o);case 10:return f=e.sent,h=null===(s=(u=RTCRtpReceiver).getCapabilities)||void 0===s||null===(c=s.call(u,"video"))||void 0===c||null===(l=c.codecs)||void 0===l||null===(d=l.find)||void 0===d?void 0:d.call(l,(function(e){return"video/AV1X"===e.mimeType})),e.abrupt("return",(f.sdp=h?Sl.adaptCodecName(f.sdp,Il.AV1,"AV1X"):f.sdp,Cl.info("Command sent, subscriberId: ",f.subscriberId),Cl.debug("Command result: ",f),this.serverId=f.subscriberId,this.clusterId=f.clusterId,f.sdp));case 15:throw e.prev=15,e.t0=e.catch(4),Cl.error("Error sending view command, error: ",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=v(p().mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,h=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ol(n,h.length>2&&void 0!==h[2]?h[2]:null,h.length>3&&void 0!==h[3]?h[3]:null),Cl.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(r.codec)),Cl.debug("Publishing local description: ",t),-1!==(i=Object.values(Il)).indexOf(r.codec)){e.next=5;break}throw Cl.error("Invalid codec. Possible values are: ",i),new Error("Invalid codec. Possible values are: ".concat(i));case 5:return r.codec===Il.AV1&&(t=Sl.adaptCodecName(t,"AV1X",Il.AV1)),a={name:this.streamName,sdp:t,codec:r.codec,sourceId:r.sourceId},null!==r.record&&(a.record=r.record),Array.isArray(r.events)&&(a.events=r.events),e.prev=8,e.next=11,this.connect();case 11:return Cl.info("Sending publish command"),e.next=14,this.transactionManager.cmd("publish",a);case 14:return o=e.sent,r.codec===Il.AV1&&(f=null===(s=(u=RTCRtpSender).getCapabilities)||void 0===s||null===(c=s.call(u,"video"))||void 0===c||null===(l=c.codecs)||void 0===l||null===(d=l.find)||void 0===d?void 0:d.call(l,(function(e){return"video/AV1X"===e.mimeType})),o.sdp=f?Sl.adaptCodecName(o.sdp,Il.AV1,"AV1X"):o.sdp),e.abrupt("return",(Cl.info("Command sent, publisherId: ",o.publisherId),Cl.debug("Command result: ",o),this.serverId=o.publisherId,this.clusterId=o.clusterId,o.sdp));case 19:throw e.prev=19,e.t0=e.catch(8),Cl.error("Error sending publish command, error: ",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,this,[[8,19]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"cmd",value:function(){var e=v(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(Cl.info("Sending cmd: ".concat(t)),this.transactionManager.cmd(t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Fs),Dl=function(e,t,n){var r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={vad:e,pinnedSourceId:t,excludedSourceIds:n}),r},Ol=function(e,t,n){var r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={codec:null!=e?e:Il.H264,record:t,sourceId:n}),r};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fl=Gr.get("PeerConnection"),zl={track:"track",connectionStateChange:"connectionStateChange"},Ul={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Vl=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this)).sessionDescription=null,e.peer=null,e.peerConnectionStats=null,e}return g(n,[{key:"createRTCPeer",value:function(){var e=v(p().mark((function e(){var t,n=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,Fl.info("Creating new RTCPeerConnection"),Fl.debug("RTC configuration provided by user: ",t),this.peer=Gl(this,t);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRTCPeer",value:function(){return Fl.info("Getting RTC Peer"),this.peer}},{key:"closeRTCPeer",value:function(){var e=v(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fl.info("Closing RTCPeerConnection"),null===(t=this.peer)||void 0===t||t.close(),this.peer=null,this.stopStats(),this.emit(zl.connectionStateChange,"closed");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setRTCRemoteSDP",value:function(){var e=v(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl.info("Setting RTC Remote SDP"),n={type:"answer",sdp:t},e.prev=2,e.next=5,this.peer.setRemoteDescription(n);case 5:Fl.info("RTC Remote SDP was set successfully."),Fl.debug("RTC Remote SDP new value: ",t),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),Fl.error("Error while setting RTC Remote SDP: ",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRTCLocalSDP",value:function(){var e=v(p().mark((function e(){var t,n,r,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:Ul,Fl.info("Getting RTC Local SDP"),t=Ll(Ll({},Ul),t),Fl.debug("Options: ",t),(n=Wl(t.mediaStream))?Yl(this.peer,n,t):Zl(this.peer,t),Fl.info("Creating peer offer"),e.next=6,this.peer.createOffer();case 6:if(r=e.sent,Fl.info("Peer offer created"),Fl.debug("Peer offer response: ",r.sdp),this.sessionDescription=r,t.disableAudio||(t.stereo&&(this.sessionDescription.sdp=Sl.setStereo(this.sessionDescription.sdp)),t.dtx&&(this.sessionDescription.sdp=Sl.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=Sl.setMultiopus(this.sessionDescription.sdp,n)),!t.disableVideo&&t.simulcast&&(this.sessionDescription.sdp=Sl.setSimulcast(this.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(this.sessionDescription.sdp=Sl.setAbsoluteCaptureTime(this.sessionDescription.sdp)),t.dependencyDescriptor&&(this.sessionDescription.sdp=Sl.setDependencyDescriptor(this.sessionDescription.sdp)),e.t0=t.setSDPToPeer,!e.t0){e.next=19;break}return e.next=18,this.peer.setLocalDescription(this.sessionDescription);case 18:Fl.info("Peer local description set");case 19:return e.abrupt("return",this.sessionDescription.sdp);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addRemoteTrack",value:function(){var e=v(p().mark((function e(t,n){var r,i,a,o=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){try{var i=o.peer.addTransceiver(t,{direction:"recvonly"});i.resolve=e,i.streams=n}catch(t){r(t)}}));case 2:r=e.sent,i=f(n);try{for(i.s();!(a=i.n()).done;)a.value.addTrack(r.receiver.track)}catch(s){i.e(s)}finally{i.f()}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateBandwidthRestriction",value:function(e,t){return Fl.info("Updating bandwidth restriction, bitrate value: ",t),Fl.debug("SDP value: ",e),Sl.setVideoBitrate(e,t)}},{key:"updateBitrate",value:function(){var e=v(p().mark((function e(){var t,n,r=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:0,this.peer){e.next=3;break}throw Fl.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");case 3:return Fl.info("Updating bitrate to value: ",t),e.next=6,this.peer.createOffer();case 6:return this.sessionDescription=e.sent,e.next=9,this.peer.setLocalDescription(this.sessionDescription);case 9:return n=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,t),e.next=12,this.setRTCRemoteSDP(n);case 12:Fl.info("Bitrate restirctions updated: ","".concat(t>0?t:"unlimited"," kbps"));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRTCPeerStatus",value:function(){if(Fl.info("Getting RTC peer status"),!this.peer)return null;var e=ql(this.peer);return Fl.info("RTC peer status getted, value: ",e),e}},{key:"replaceTrack",value:function(e){if(this.peer){var t=this.peer.getSenders().find((function(t){return t.track.kind===e.kind}));t?t.replaceTrack(e):Fl.error("There is no ".concat(e.kind," track in active broadcast."))}else Fl.error("Could not change track if there is not an active connection.")}},{key:"getTracks",value:function(){var e,t;return null===(e=this.peer)||void 0===e||null===(t=e.getSenders())||void 0===t?void 0:t.map((function(e){return e.track}))}},{key:"initStats",value:function(){this.peerConnectionStats?Fl.warn("Cannot init peer stats: Already initialized"):this.peer?(this.peerConnectionStats=new nu(this.peer),this.peerConnectionStats.init(),$s(this.peerConnectionStats,this,[tu])):Fl.warn("Cannot init peer stats: RTCPeerConnection not initialized")}},{key:"stopStats",value:function(){var e;null===(e=this.peerConnectionStats)||void 0===e||e.stop(),this.peerConnectionStats=null}}],[{key:"getCapabilities",value:function(e){var t=new gl;if(t.isFirefox())return function(e){return"video"===e?{codecs:[{codec:"vp8",mimeType:"video/VP8"},{codec:"vp9",mimeType:"video/VP9"},{codec:"h264",mimeType:"video/H264"}],headerExtensions:[]}:"audio"===e?{codecs:[{codec:"opus",mimeType:"audio/opus",channels:2}],headerExtensions:[]}:null}(e);var n=RTCRtpSender.getCapabilities(e);if(n){var r={},i=new RegExp("^video/(".concat(Object.values(Il).join("|"),")x?$"),"i");"audio"===e&&(i=new RegExp("^audio/(".concat(Object.values(Rl).join("|"),")$"),"i"),t.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));var a,o=f(n.codecs);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.mimeType.match(i);if(u){var l=u[1].toLowerCase();if(r[l]=Ll(Ll({},r[l]),{},{mimeType:s.mimeType}),s.scalabilityModes){var d=r[l].scalabilityModes||[];d=[].concat(c(d),c(s.scalabilityModes)),r[l].scalabilityModes=c(new Set(d))}s.channels&&(r[l].channels=s.channels)}}}catch(p){o.e(p)}finally{o.f()}n.codecs=Object.keys(r).map((function(e){return Ll({codec:e},r[e])}))}return n}}]),n}(Fs),Bl=function(e){return(null==e?void 0:e.getAudioTracks().length)<=1&&(null==e?void 0:e.getVideoTracks().length)<=1},Wl=function(e){if(!e)return null;if(e instanceof MediaStream&&Bl(e))return e;if(!(e instanceof MediaStream)){Fl.info("Creating MediaStream to add received tracks.");var t,n=new MediaStream,r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.addTrack(i)}}catch(a){r.e(a)}finally{r.f()}if(Bl(n))return n}throw Fl.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Gl=function(e,t){var n=new RTCPeerConnection(t);return Hl(e,n),n},Hl=function(e,t){t.ontrack=function(t){var n;if(Fl.info("New track from peer."),Fl.debug("Track event value: ",t),null!=t&&null!==(n=t.transceiver)&&void 0!==n&&n.resolve){var r=t.transceiver.resolve;delete t.transceiver.resolve,r(t.transceiver)}e.emit(zl.track,t)},t.connectionState?t.onconnectionstatechange=function(n){Fl.info("Peer connection state change: ",t.connectionState),e.emit(zl.connectionStateChange,t.connectionState)}:t.oniceconnectionstatechange=function(n){Fl.info("Peer ICE connection state change: ",t.iceConnectionState),e.emit(zl.connectionStateChange,t.iceConnectionState)},t.onnegotiationneeded=function(){var e=v(p().mark((function e(n){var r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.remoteDescription){e.next=2;break}return e.abrupt("return");case 2:return Fl.info("Peer onnegotiationneeded, updating local description"),e.next=5,t.createOffer();case 5:return r=e.sent,Fl.info("Peer onnegotiationneeded, got local offer",r.sdp),r.sdp=Sl.updateMissingVideoExtensions(r.sdp,t.remoteDescription.sdp),e.next=10,t.setLocalDescription(r);case 10:return i=Sl.renegotiate(r.sdp,t.remoteDescription.sdp),Fl.info("Peer onnegotiationneeded, updating remote description",i),e.next=14,t.setRemoteDescription({type:"answer",sdp:i});case 14:Fl.info("Peer onnegotiationneeded, renegotiation done");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Yl=function(e,t,n){Fl.info("Adding mediaStream tracks to RTCPeerConnection");var r,i=f(t.getTracks());try{for(i.s();!(r=i.n()).done;){var a=r.value,o={streams:[t]};"audio"===a.kind&&(o.direction=n.disableAudio?"inactive":"sendonly"),"video"===a.kind&&(o.direction=n.disableVideo?"inactive":"sendonly",n.scalabilityMode&&(new gl).isChrome()?(Fl.debug("Video track with scalability mode: ".concat(n.scalabilityMode,".")),o.sendEncodings=[{scalabilityMode:n.scalabilityMode}]):n.scalabilityMode&&Fl.warn("SVC is only supported in Google Chrome")),e.addTransceiver(a,o),Fl.info("Track '".concat(a.label,"' added: "),"id: ".concat(a.id),"kind: ".concat(a.kind))}}catch(s){i.e(s)}finally{i.f()}},Zl=function(e,t){var n=new gl;if(!t.disableVideo){var r=e.addTransceiver("video",{direction:"recvonly"});n.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(e){return"video/H264"!==e.mimeType||e.sdpFmtpLine.includes("profile-level-id=4")})))}t.disableAudio||e.addTransceiver("audio",{direction:"recvonly"});for(var i=0;i<t.multiplexedAudioTracks;i++)e.addTransceiver("audio",{direction:"recvonly"})},ql=function(e){var t,n=null!==(t=e.connectionState)&&void 0!==t?t:e.iceConnectionState;switch(n){case"checking":return"connecting";case"completed":return"connected";default:return n}};function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xl=Gr.get("Director"),Jl="",Ql="https://director.millicast.com",ed=function(){function e(){y(this,e)}return g(e,null,[{key:"setEndpoint",value:function(e){Ql=e.replace(/\/$/,"")}},{key:"getEndpoint",value:function(){return Ql}},{key:"setLiveDomain",value:function(e){Jl=e.replace(/\/$/,"")}},{key:"getLiveDomain",value:function(){return Jl}},{key:"getPublisher",value:function(){var e=v(p().mark((function e(t){var n,r,i,a,o,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=td(t,s.length>1&&void 0!==s[1]?s[1]:null,s.length>2&&void 0!==s[2]?s[2]:"WebRtc"),Xl.info("Getting publisher connection path for stream name: ",n.streamName),r={streamName:n.streamName,streamType:n.streamType},i={"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)},a="".concat(this.getEndpoint(),"/api/director/publish"),e.prev=3,e.next=6,fetch(a,{method:"POST",headers:i,body:JSON.stringify(r)});case 6:return o=e.sent,e.next=9,o.json();case 9:if("fail"!==(o=e.sent).status){e.next=12;break}throw new Error(o.data.message);case 12:return e.abrupt("return",(o=rd(o),Xl.debug("Getting publisher response: ",o),o.data));case 15:throw e.prev=15,e.t0=e.catch(3),Xl.error("Error while getting publisher connection path. ",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSubscriber",value:function(){var e=v(p().mark((function e(t){var n,r,i,a,o,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nd(t,s.length>1&&void 0!==s[1]?s[1]:null,s.length>2&&void 0!==s[2]?s[2]:null),Xl.info("Getting subscriber connection data for stream name: ".concat(n.streamName," and account id: ").concat(n.streamAccountId)),r={streamAccountId:n.streamAccountId,streamName:n.streamName},i={"Content-Type":"application/json"},n.subscriberToken&&(i=Kl(Kl({},i),{},{Authorization:"Bearer ".concat(n.subscriberToken)})),a="".concat(this.getEndpoint(),"/api/director/subscribe"),e.prev=6,e.next=9,fetch(a,{method:"POST",headers:i,body:JSON.stringify(r)});case 9:return o=e.sent,e.next=12,o.json();case 12:if("fail"!==(o=e.sent).status){e.next=15;break}throw new Error(o.data.message);case 15:return e.abrupt("return",(o=rd(o),Xl.debug("Getting subscriber response: ",o),o.data));case 18:throw e.prev=18,e.t0=e.catch(6),Xl.error("Error while getting subscriber connection path. ",e.t0),e.t0;case 21:case"end":return e.stop()}}),e,this,[[6,18]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),td=function(e,t,n){var r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={token:e,streamName:t,streamType:n}),r},nd=function(e,t,n){var r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={streamName:e,streamAccountId:t,subscriberToken:n}),r},rd=function(e){if(ed.getLiveDomain()){var t=/\/\/(.*?)\//,n=e.data.urls.map((function(e){var n=t.exec(e);return e.replace(n[1],ed.getLiveDomain())}));e.data.urls=n}return e};function id(e){this.message=e}id.prototype=new Error,id.prototype.name="InvalidCharacterError";var ad="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new id("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function od(e){this.message=e}od.prototype=new Error,od.prototype.name="InvalidTokenError";var sd,ud=h((function(e,t){!function(n){if(null!=t&&"number"!=typeof t.nodeType)e.exports=n();else{var r=n(),i="undefined"!=typeof self?self:$.global;"function"!=typeof i.btoa&&(i.btoa=r.btoa),"function"!=typeof i.atob&&(i.atob=r.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,i,a=String(n),o=0,s=e,u="";a.charAt(0|o)||(s="=",o%1);u+=s.charAt(63&r>>8-o%1*8)){if((i=a.charCodeAt(o+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return u},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,a,o=0,s=0,u="";a=r.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?u+=String.fromCharCode(255&i>>(-2*o&6)):0)a=e.indexOf(a);return u}}}))})),cd=function(e){k(n,e);var t=b(n);function n(e,r,i,a){var o;if(y(this,n),o=t.call(this),sd=i,!e)throw sd.error("Stream Name is required to construct this module."),new Error("Stream Name is required to construct this module.");if(!r)throw sd.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");return o.webRTCPeer=new Vl,o.signaling=null,o.streamName=e,o.autoReconnect=a,o.reconnectionInterval=1e3,o.alreadyDisconnected=!1,o.firstReconnection=!0,o.stopReconnection=!1,o.tokenGenerator=r,o.options=null,u(o)}return g(n,[{key:"getRTCPeerConnection",value:function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}},{key:"stop",value:function(){var e;sd.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null===(e=this.signaling)||void 0===e||e.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Vl}},{key:"isActive",value:function(){var e=this.webRTCPeer.getRTCPeerStatus();return sd.info("Broadcast status: ",e||"not_established"),"connected"===e}},{key:"setReconnect",value:function(){var e=this;this.signaling.on("migrate",(function(){return e.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Pl,(function(){!e.firstReconnection&&e.alreadyDisconnected||(e.firstReconnection=!1,e.reconnect())})),this.webRTCPeer.on(zl.connectionStateChange,(function(t){("failed"===t||"disconnected"===t&&e.alreadyDisconnected)&&e.firstReconnection?(e.firstReconnection=!1,e.reconnect()):"disconnected"===t?(e.alreadyDisconnected=!0,setTimeout((function(){return e.reconnect()}),1500)):e.alreadyDisconnected=!1})))}},{key:"reconnect",value:function(){var e=v(p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.isActive()||this.stopReconnection,e.t0){e.next=9;break}return this.stop(),e.next=6,this.connect(this.options);case 6:this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),this.reconnectionInterval=ld(this.reconnectionInterval),sd.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),e.t1),this.emit("reconnect",{timeout:this.reconnectionInterval,error:e.t1}),setTimeout((function(){return t.reconnect()}),this.reconnectionInterval);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Fs),ld=function(e){return e<32e3?2*e:e};function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pd=Gr.get("Publish"),hd={mediaStream:null,bandwidth:0,disableVideo:!1,disableAudio:!1,codec:Il.H264,simulcast:!1,scalabilityMode:null,peerConfig:{}};function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gd=Gr.get("View"),yd={disableVideo:!1,disableAudio:!1,peerConfig:{}};e.Director=ed,e.Logger=Gr,e.PeerConnection=Vl,e.Publish=function(e){k(n,e);var t=b(n);function n(e,r){return y(this,n),t.call(this,e,r,pd,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}return g(n,[{key:"connect",value:function(){var e=v(p().mark((function e(){var t,n=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:hd,this.options=fd(fd(fd({},hd),t),{},{setSDPToPeer:!1}),e.next=4,this.initConnection({migrate:!1});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reconnect",value:function(){var e=v(p().mark((function e(){var t,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.options.mediaStream=null!==(t=null===(r=this.webRTCPeer)||void 0===r?void 0:r.getTracks())&&void 0!==t?t:this.options.mediaStream,o(s(n.prototype),"reconnect",this).call(this);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"replaceConnection",value:function(){var e=v(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd.info("Migrating current connection"),this.options.mediaStream=null!==(t=null===(n=this.webRTCPeer)||void 0===n?void 0:n.getTracks())&&void 0!==t?t:this.options.mediaStream,e.next=4,this.initConnection({migrate:!0});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"record",value:function(){var e=v(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.recordingAvailable){e.next=7;break}return this.options.record=!0,e.next=4,null===(t=this.signaling)||void 0===t?void 0:t.cmd("record");case 4:pd.info("Broadcaster start recording"),e.next=8;break;case 7:pd.error("Record not available");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unrecord",value:function(){var e=v(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.recordingAvailable){e.next=7;break}return this.options.record=!1,e.next=4,null===(t=this.signaling)||void 0===t?void 0:t.cmd("unrecord");case 4:pd.info("Broadcaster stop recording"),e.next=8;break;case 7:pd.error("Unrecord not available");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initConnection",value:function(){var e=v(p().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,f,h,m,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pd.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,this.options.mediaStream){e.next=2;break}throw pd.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");case 2:if(t.migrate||!this.isActive()){e.next=4;break}throw pd.warn("Broadcast currently working"),new Error("Broadcast currently working");case 4:return e.prev=4,e.next=7,this.tokenGenerator();case 7:a=e.sent,this.options.peerConfig.iceServers=null===(o=a)||void 0===o?void 0:o.iceServers,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),pd.error("Error generating token."),e.t0;case 14:if(a){e.next=16;break}throw pd.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");case 16:if(this.recordingAvailable=function(e,t){if("string"!=typeof e)throw new od("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(ad(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return ad(t)}}(e.split(".")[n]))}catch(e){throw new od("Invalid token specified: "+e.message)}}(a.jwt)[ud.atob("bWlsbGljYXN0")].record,!this.options.record||this.recordingAvailable){e.next=18;break}throw pd.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");case 18:return s=new Al({streamName:this.streamName,url:"".concat(a.urls[0],"?token=").concat(a.jwt)}),u=t.migrate?new Vl:this.webRTCPeer,e.next=21,u.createRTCPeer(this.options.peerConfig);case 21:return null===(n=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===n||n.call(this),null===(r=this.stopReemitingSignalingInstanceEvents)||void 0===r||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=$s(u,this,[zl.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=$s(s,this,[Ml]),c=u.getRTCLocalSDP(this.options),l=s.connect(),e.next=28,Promise.all([c,l]);case 28:return i=e.sent,d=i[0],f=this.signaling,this.signaling=s,h=this.signaling.publish(d,this.options),m=u.peer.setLocalDescription(u.sessionDescription),e.next=35,Promise.all([h,m]);case 35:return i=e.sent,v=i[0],!this.options.disableVideo&&this.options.bandwidth>0&&(v=u.updateBandwidthRestriction(v,this.options.bandwidth)),e.next=40,u.setRTCRemoteSDP(v);case 40:pd.info("Broadcasting to streamName: ",this.streamName),g=this.webRTCPeer,this.webRTCPeer=u,this.setReconnect(),t.migrate&&this.webRTCPeer.on(zl.connectionStateChange,(function(e){var t,n,r,i;["connected","disconnected","failed","closed"].includes(e)&&(null===(t=f)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=g)||void 0===r||null===(i=r.closeRTCPeer)||void 0===i||i.call(r),f=g=null)}));case 43:case"end":return e.stop()}}),e,this,[[4,11]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(cd),e.Signaling=Al,e.View=function(e){k(n,e);var t=b(n);function n(e,r){var i;y(this,n);var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i=t.call(this,e,r,gd,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),a&&i.on(zl.track,(function(e){a.srcObject=e.streams[0]})),i}return g(n,[{key:"connect",value:function(){var e=v(p().mark((function e(){var t,n=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:yd,this.options=vd(vd(vd({},yd),t),{},{setSDPToPeer:!1}),e.next=4,this.initConnection({migrate:!1});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"select",value:function(){var e=v(p().mark((function e(){var t,n=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},gd.debug("Viewer select layer values: ",t),e.next=4,this.signaling.cmd("select",{layer:t});case 4:gd.info("Connected to streamName: ",this.streamName);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addRemoteTrack",value:function(){var e=v(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(gd.info("Viewer adding remote % track",t),this.webRTCPeer.addRemoteTrack(t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"project",value:function(){var e=v(p().mark((function e(t,n){var r,i,a,o=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f(n),e.prev=1,a=p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=i.value).trackId||t.media){e.next=3;break}throw gd.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");case 3:if(n=o.webRTCPeer.getRTCPeer(),!t.mediaId||n.getTransceivers().find((function(e){return e.mid===t.mediaId.toString()}))){e.next=6;break}throw gd.error("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers"));case 6:case"end":return e.stop()}}),e)})),r.s();case 4:if((i=r.n()).done){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),r.e(e.t1);case 13:return e.prev=13,r.f(),e.finish(13);case 16:return gd.debug("Viewer project source: layer mappings: ",t,n),e.next=19,this.signaling.cmd("project",{sourceId:t,mapping:n});case 19:gd.info("Projection done");case 20:case"end":return e.stop()}}),e,this,[[1,10,13,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unproject",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gd.debug("Viewer unproject mediaIds: ",t),e.next=3,this.signaling.cmd("unproject",{mediaIds:t});case 3:gd.info("Unprojection done");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceConnection",value:function(){var e=v(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gd.info("Migrating current connection"),e.next=3,this.initConnection({migrate:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initConnection",value:function(){var e=v(p().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,f,h,m,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gd.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,t.migrate||!this.isActive()){e.next=2;break}throw gd.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");case 2:return e.prev=2,e.next=5,this.tokenGenerator();case 5:a=e.sent,this.options.peerConfig.iceServers=null===(o=a)||void 0===o?void 0:o.iceServers,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),gd.error("Error generating token."),e.t0;case 12:if(a){e.next=14;break}throw gd.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");case 14:return s=new Al({streamName:this.streamName,url:"".concat(a.urls[0],"?token=").concat(a.jwt)}),u=t.migrate?new Vl:this.webRTCPeer,e.next=17,u.createRTCPeer(this.options.peerConfig);case 17:return null===(n=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===n||n.call(this),null===(r=this.stopReemitingSignalingInstanceEvents)||void 0===r||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=$s(u,this,Object.values(zl)),this.stopReemitingSignalingInstanceEvents=$s(s,this,[Ml]),c=u.getRTCLocalSDP(vd(vd({},this.options),{},{stereo:!0})),l=s.connect(),e.next=24,Promise.all([c,l]);case 24:return i=e.sent,d=i[0],f=this.signaling,this.signaling=s,h=this.signaling.subscribe(d,vd(vd({},this.options),{},{vad:this.options.multiplexedAudioTracks>0})),m=u.peer.setLocalDescription(u.sessionDescription),e.next=31,Promise.all([h,m]);case 31:return i=e.sent,v=i[0],e.next=35,u.setRTCRemoteSDP(v);case 35:gd.info("Connected to streamName: ",this.streamName),g=this.webRTCPeer,this.webRTCPeer=u,this.setReconnect(),t.migrate&&this.webRTCPeer.on(zl.connectionStateChange,(function(e){if("connected"===e)setTimeout((function(){var e,t,n,r;null===(e=f)||void 0===e||null===(t=e.close)||void 0===t||t.call(e),null===(n=g)||void 0===n||null===(r=n.closeRTCPeer)||void 0===r||r.call(n),f=g=null,gd.info("Current connection migrated")}),1e3);else if(["disconnected","failed","closed"].includes(e)){var t,n,r,i;null===(t=f)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=g)||void 0===r||null===(i=r.closeRTCPeer)||void 0===i||i.call(r),f=g=null}}));case 38:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(cd),Object.defineProperty(e,"__esModule",{value:!0})}(t)},9644:function(e,t,n){e.exports=n(5644)},353:function(e,t,n){"use strict";var r=n(3044),i=n(6955),a=n(2233),o=n(8030),s=n(7948),u=n(1875),c=n(842),l=n(8618),d=n(8560),f=n(6714);e.exports=function(e){return new Promise((function(t,n){var p,h=e.data,m=e.headers,v=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(k+":"+b)}var _=s(e.baseURL,e.url);function w(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),y=null}}if(y.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(w)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(n(!e||e&&e.type?new f("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),y.send(h)}))}},5644:function(e,t,n){"use strict";var r=n(3044),i=n(3644),a=n(2215),o=n(2937),s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(663));s.Axios=a,s.Cancel=n(6714),s.CancelToken=n(4089),s.isCancel=n(8041),s.VERSION=n(9241).version,s.all=function(e){return Promise.all(e)},s.spread=n(783),s.isAxiosError=n(5587),e.exports=s,e.exports.default=s},6714:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4089:function(e,t,n){"use strict";var r=n(6714);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8041:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},2215:function(e,t,n){"use strict";var r=n(3044),i=n(8030),a=n(946),o=n(6895),s=n(2937),u=n(7525),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[o,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),a=Promise.resolve(t);d.length;)a=a.then(d.shift(),d.shift());return a}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(e){h(e);break}}try{a=o(f)}catch(e){return Promise.reject(e)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},946:function(e,t,n){"use strict";var r=n(3044);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},7948:function(e,t,n){"use strict";var r=n(9192),i=n(8762);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},8618:function(e,t,n){"use strict";var r=n(1935);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},6895:function(e,t,n){"use strict";var r=n(3044),i=n(8556),a=n(8041),o=n(663),s=n(6714);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},1935:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},2937:function(e,t,n){"use strict";var r=n(3044);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},6955:function(e,t,n){"use strict";var r=n(8618);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8556:function(e,t,n){"use strict";var r=n(3044),i=n(663);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},663:function(e,t,n){"use strict";var r=n(3044),i=n(8868),a=n(1935),o=n(8560),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:o,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(353)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},8560:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9241:function(e){e.exports={version:"0.26.1"}},3644:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},8030:function(e,t,n){"use strict";var r=n(3044);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},8762:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2233:function(e,t,n){"use strict";var r=n(3044);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9192:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},5587:function(e,t,n){"use strict";var r=n(3044);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},842:function(e,t,n){"use strict";var r=n(3044);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},8868:function(e,t,n){"use strict";var r=n(3044);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1875:function(e,t,n){"use strict";var r=n(3044),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},783:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7525:function(e,t,n){"use strict";var r=n(9241).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3044:function(e,t,n){"use strict";var r=n(3644),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},7160:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(i,a),s=0,u=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&o(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),a=u(n(94)),o=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,a+=1):"object"==typeof o&&(n[t]=o,r+=1)})),r>0){var o=Object.keys(n),u=s.default.find(o,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(o,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(a>0){var f=Object.keys(i),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},5130:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(7123)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7123:function(e,t,n){e.exports=function(e){function t(e){var n,i,a,o=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(s.enabled){var a=s,o=Number(new Date),u=o-(n||o);a.diff=u,a.prev=n,a.curr=o,n=o,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";c++;var i=t.formatters[n];if("function"==typeof i){var o=r[c];e=i.call(a,o),r.splice(c,1),c--}return e})),t.formatArgs.call(a,r),(a.log||t.log).apply(a,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a)},set:function(e){o=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(c(t.names.map(i)),c(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},3958:function(e,t,r){e=r.nmd(e);var i="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",m="[object Promise]",v="[object RegExp]",g="[object Set]",y="[object String]",k="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[o]=x[s]=x[b]=x[u]=x[_]=x[c]=x[l]=x[d]=x[f]=x[p]=x[h]=x[v]=x[g]=x[y]=x[k]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,T="object"==typeof self&&self&&self.Object===Object&&self,C=E||T||Function("return this")(),j=t&&!t.nodeType&&t,P=j&&e&&!e.nodeType&&e,M=P&&P.exports===j,I=M&&E.process,R=function(){try{return I&&I.binding&&I.binding("util")}catch(e){}}(),A=R&&R.isTypedArray;function D(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var L,F,z,U=Array.prototype,V=Function.prototype,B=Object.prototype,W=C["__core-js_shared__"],G=V.toString,H=B.hasOwnProperty,Y=(L=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",Z=B.toString,q=RegExp("^"+G.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=M?C.Buffer:void 0,K=C.Symbol,X=C.Uint8Array,J=B.propertyIsEnumerable,Q=U.splice,ee=K?K.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=$?$.isBuffer:void 0,re=(F=Object.keys,z=Object,function(e){return F(z(e))}),ie=Pe(C,"DataView"),ae=Pe(C,"Map"),oe=Pe(C,"Promise"),se=Pe(C,"Set"),ue=Pe(C,"WeakMap"),ce=Pe(Object,"create"),le=Ae(ie),de=Ae(ae),fe=Ae(oe),pe=Ae(se),he=Ae(ue),me=K?K.prototype:void 0,ve=me?me.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ke;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new ye(e);this.size=t.size}function we(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=H.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var i=Z.call(e);return r&&(t?e[ee]=n:delete e[ee]),i}(e):function(e){return Z.call(e)}(e)}function xe(e){return Ve(e)&&Se(e)==o}function Ee(e,t,n,r,i){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var d=Ne(e),m=Ne(t),k=d?s:Ie(e),w=m?s:Ie(t),S=(k=k==o?h:k)==h,x=(w=w==o?h:w)==h,E=k==w;if(E&&Le(e)){if(!Le(t))return!1;d=!0,S=!1}if(E&&!S)return a||(a=new _e),d||Be(e)?Te(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!a(new X(e),new X(t)));case u:case c:case p:return De(+e,+t);case l:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case f:var s=O;case g:var d=1&r;if(s||(s=N),e.size!=t.size&&!d)return!1;var h=o.get(e);if(h)return h==t;r|=2,o.set(e,t);var m=Te(s(e),s(t),r,i,a,o);return o.delete(e),m;case"[object Symbol]":if(ve)return ve.call(e)==ve.call(t)}return!1}(e,t,k,n,r,i,a);if(!(1&n)){var T=S&&H.call(e,"__wrapped__"),C=x&&H.call(t,"__wrapped__");if(T||C){var j=T?e.value():e,P=C?t.value():t;return a||(a=new _e),i(j,P,n,r,a)}}return!!E&&(a||(a=new _e),function(e,t,n,r,i,a){var o=1&n,s=Ce(e),u=s.length;if(u!=Ce(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:H.call(t,l)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<u;){var h=e[l=s[c]],m=t[l];if(r)var v=o?r(m,h,l,t,e,a):r(h,m,l,e,t,a);if(!(void 0===v?h===m||i(h,m,n,r,a):v)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))}(e,t,n,r,Ee,i))}function Te(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,d=!0,f=2&n?new be:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var p=e[l],h=t[l];if(r)var m=o?r(h,p,l,t,e,a):r(p,h,l,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!D(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,a)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Ce(e){return function(e,t,n){var r=t(e);return Ne(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,We,Me)}function je(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ue(e)||function(e){return!!Y&&Y in e}(e))&&(Fe(e)?q:w).test(Ae(e))}(n)?n:void 0}ge.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===i?void 0:n}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?i:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=we(t,e);return!(n<0||(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,0))},ye.prototype.get=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return we(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,r=we(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ae||ye),string:new ge}},ke.prototype.delete=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return je(this,e).get(e)},ke.prototype.has=function(e){return je(this,e).has(e)},ke.prototype.set=function(e,t){var n=je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,i),this},be.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new ye,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!ae||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ke(r)}return n.set(e,t),this.size=n.size,this};var Me=te?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,i=null==t?0:t.length,a=0,o=[];++r<i;){var s=t[r];u=s,J.call(e,u)&&(o[a++]=s)}var u;return o}(te(e)))}:function(){return[]},Ie=Se;function Re(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function De(e,t){return e===t||e!=e&&t!=t}(ie&&Ie(new ie(new ArrayBuffer(1)))!=_||ae&&Ie(new ae)!=f||oe&&Ie(oe.resolve())!=m||se&&Ie(new se)!=g||ue&&Ie(new ue)!=k)&&(Ie=function(e){var t=Se(e),n=t==h?e.constructor:void 0,r=n?Ae(n):"";if(r)switch(r){case le:return _;case de:return f;case fe:return m;case pe:return g;case he:return k}return t});var Oe=xe(function(){return arguments}())?xe:function(e){return Ve(e)&&H.call(e,"callee")&&!J.call(e,"callee")},Ne=Array.isArray,Le=ne||function(){return!1};function Fe(e){if(!Ue(e))return!1;var t=Se(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var Be=A?function(e){return function(t){return e(t)}}(A):function(e){return Ve(e)&&ze(e.length)&&!!x[Se(e)]};function We(e){return null!=(t=e)&&ze(t.length)&&!Fe(t)?function(e,t){var n=Ne(e),r=!n&&Oe(e),i=!n&&!r&&Le(e),a=!n&&!r&&!i&&Be(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!H.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Re(c,u))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||B))return re(e);var t,n,r=[];for(var i in Object(e))H.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e);var t}e.exports=function(e,t){return Ee(e,t)}},1344:function(e,t,r){e=r.nmd(e);var i="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",s="[object Function]",u="[object Object]",c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[s]=d["[object Map]"]=d["[object Number]"]=d[u]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,h=f||p||Function("return this")(),m=t&&!t.nodeType&&t,v=m&&e&&!e.nodeType&&e,g=v&&v.exports===m,y=g&&f.process,k=function(){try{return v&&v.require&&v.require("util").types||y&&y.binding&&y.binding("util")}catch(e){}}(),b=k&&k.isTypedArray;function _(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var w,S,x,E=Array.prototype,T=Function.prototype,C=Object.prototype,j=h["__core-js_shared__"],P=T.toString,M=C.hasOwnProperty,I=(w=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",R=C.toString,A=P.call(Object),D=RegExp("^"+P.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=g?h.Buffer:void 0,N=h.Symbol,L=h.Uint8Array,F=(O&&O.allocUnsafe,S=Object.getPrototypeOf,x=Object,function(e){return S(x(e))}),z=Object.create,U=C.propertyIsEnumerable,V=E.splice,B=N?N.toStringTag:void 0,W=function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=O?O.isBuffer:void 0,H=Math.max,Y=Date.now,Z=ce(h,"Map"),q=ce(Object,"create"),$=function(){function e(){}return function(t){if(!_e(t))return{};if(z)return z(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new X(e);this.size=t.size}function ee(e,t,n){(void 0!==n&&!he(e[t],n)||void 0===n&&!(t in e))&&re(e,t,n)}function te(e,t,n){var r=e[t];M.call(e,t)&&he(r,n)&&(void 0!==n||t in e)||re(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&W?W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ie(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=M.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=R.call(e);return r&&(t?e[B]=n:delete e[B]),i}(e):function(e){return R.call(e)}(e)}function ae(e){return we(e)&&ie(e)==o}function oe(e,t,n,r,i){e!==t&&function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[++r];if(!1===t(i[s],s,i))break}}(t,(function(a,o){if(i||(i=new Q),_e(a))!function(e,t,n,r,i,a,o){var s=fe(e,n),c=fe(t,n),l=o.get(c);if(l)ee(e,n,l);else{var d,f,p,h,m,v=a?a(s,c,n+"",e,t,o):void 0,g=void 0===v;if(g){var y=ve(c),k=!y&&ye(c),b=!y&&!k&&Se(c);v=c,y||k||b?ve(s)?v=s:we(m=s)&&ge(m)?v=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):k?(g=!1,v=function(e,t){return e.slice()}(c)):b?(g=!1,h=new(p=(d=c).buffer).constructor(p.byteLength),new L(h).set(new L(p)),f=h,v=new d.constructor(f,d.byteOffset,d.length)):v=[]:function(e){if(!we(e)||ie(e)!=u)return!1;var t=F(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==A}(c)||me(c)?(v=s,me(s)?v=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=void 0;void 0===u&&(u=e[s]),i?re(n,s,u):te(n,s,u)}return n}(e,xe(e))}(s):_e(s)&&!ke(s)||(v=function(e){return"function"!=typeof e.constructor||de(e)?{}:$(F(e))}(c))):g=!1}g&&(o.set(c,v),i(v,c,r,a,o),o.delete(c)),ee(e,n,v)}}(e,t,o,n,oe,r,i);else{var s=r?r(fe(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),ee(e,o,s)}}),xe)}K.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return n===i?void 0:n}return M.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:M.call(t,e)},K.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?i:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},X.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return ne(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(Z||X),string:new K}},J.prototype.delete=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return ue(this,e).get(e)},J.prototype.has=function(e){return ue(this,e).has(e)},J.prototype.set=function(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new X,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var se=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ce;function ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ce(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_e(e)||function(e){return!!I&&I in e}(e))&&(ke(e)?D:c).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function le(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&l.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe=function(e){var t=0,n=0;return function(){var r=Y(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(se);function he(e,t){return e===t||e!=e&&t!=t}var me=ae(function(){return arguments}())?ae:function(e){return we(e)&&M.call(e,"callee")&&!U.call(e,"callee")},ve=Array.isArray;function ge(e){return null!=e&&be(e.length)&&!ke(e)}var ye=G||function(){return!1};function ke(e){if(!_e(e))return!1;var t=ie(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Se=b?function(e){return function(t){return e(t)}}(b):function(e){return we(e)&&be(e.length)&&!!d[ie(e)]};function xe(e){return ge(e)?function(e,t){var n=ve(e),r=!n&&me(e),i=!n&&!r&&ye(e),a=!n&&!r&&!i&&Se(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!M.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||le(c,u))||s.push(c);return s}(e,!0):function(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}(e)}var Ee,Te=(Ee=function(e,t,n){oe(e,t,n)},function(e,t){return pe(function(e,t,n){return t=H(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=H(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),_(e,this,s)}}(e,void 0,Ce),e+"")}((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Ee.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!_e(n))return!1;var r=typeof t;return!!("number"==r?ge(n)&&le(t,n.length):"string"==r&&t in n)&&he(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Ee(e,o,n)}return e})));function Ce(e){return e}e.exports=Te},9640:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||u.apply(this,arguments)}function l(e,n,i){var a,o=this;n=null==n?"WARN":n;var u="loglevel";function l(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(n,i){if("string"==typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(e){}}}(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,l()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=l();null==d&&(d=n),o.setLevel(d,!1)}var d=new l,f={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new l(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(i=r.call(t,n,t,e))||(e.exports=i)}()},1944:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=1944,e.exports=t},9034:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Et(e,t,n,r,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=h(NaN);return null!=e?p(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=i.momentProperties=[],k=!1;function b(e,t){var n,r,i,a=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=y[n]])||(e[r]=i);return e}function _(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===k&&(k=!0,i.updateOffset(this),k=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(r="","object"==typeof arguments[a]){for(o in r+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];u.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,T={};function C(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function j(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=p({},r[n]));return r}function M(e){null!=e&&this.set(e)}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},O={};function N(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(O[e]=i),t&&(O[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(O[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function L(e,t){return e.isValid()?(t=F(t,e.localeData()),D[t]=D[t]||function(e){var t,n,r,i=e.match(R);for(t=0,n=i.length;t<n;t++)O[i[t]]?i[t]=O[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,a="";for(r=0;r<n;r++)a+=j(i[r])?i[r].call(t,e):i[r];return a}}(t),D[t](e)):e.localeData().invalidDate()}function F(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,r),A.lastIndex=0,n-=1;return e}var z={};function U(e,t){var n=e.toLowerCase();z[n]=z[n+"s"]=z[t]=e}function V(e){return"string"==typeof e?z[e]||z[e.toLowerCase()]:void 0}function B(e){var t,n,r={};for(n in e)s(e,n)&&(t=V(n))&&(r[t]=e[n]);return r}var W={};function G(e,t){W[e]=t}function H(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Y(t)),n}function q(e,t){return function(n){return null!=n?(K(this,e,n),i.updateOffset(this,t),this):$(this,e)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&H(e.year())&&1===e.month()&&29===e.date()?(n=Z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),we(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var X,J=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,re=/\d\d?/,ie=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,se=/\d{1,4}/,ue=/[+-]?\d{1,6}/,ce=/\d+/,le=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,fe=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){X[e]=j(t)?t:function(e,r){return e&&n?n:t}}function me(e,t){return s(X,e)?X[e](t._strict,t._locale):new RegExp(ve(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function ve(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var ge,ye={};function ke(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=Z(e)}),r=e.length,n=0;n<r;n++)ye[e[n]]=i}function be(e,t){ke(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function _e(e,t,n){null!=t&&s(ye,e)&&ye[e](t,n._a,n,e)}function we(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?H(e)?29:28:31-r%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),G("month",8),he("M",re),he("MM",re,Q),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ke(["M","MM"],(function(e,t){t[1]=Z(e)-1})),ke(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:m(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Te=pe,Ce=pe;function je(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,o))?i:null:-1!==(i=ge.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,o))||-1!==(i=ge.call(this._longMonthsParse,o))?i:null:-1!==(i=ge.call(this._longMonthsParse,o))||-1!==(i=ge.call(this._shortMonthsParse,o))?i:null}function Pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Z(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),we(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Pe(this,e),i.updateOffset(this,!0),this):$(this,"Month")}function Ie(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=ve(r[t]),i[t]=ve(i[t]);for(t=0;t<24;t++)a[t]=ve(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Re(e){return H(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?I(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),he("Y",le),he("YY",re,Q),he("YYYY",se,te),he("YYYYY",ue,ne),he("YYYYYY",ue,ne),ke(["YYYYY","YYYYYY"],0),ke("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):Z(e)})),ke("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),ke("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var Ae=q("FullYear",!0);function De(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function Oe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,n){var r=7+t-n;return-(7+Oe(e,0,r).getUTCDay()-t)%7+r-1}function Le(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+Ne(e,r,i);return s<=0?o=Re(a=e-1)+s:s>Re(e)?(a=e+1,o=s-Re(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Fe(e,t,n){var r,i,a=Ne(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+ze(i=e.year()-1,t,n):o>ze(e.year(),t,n)?(r=o-ze(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function ze(e,t,n){var r=Ne(e,t,n),i=Ne(e+1,t,n);return(Re(e)-r+i)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),he("w",re),he("ww",re,Q),he("W",re),he("WW",re,Q),be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Z(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),he("d",re),he("e",re),he("E",re),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),be(["d","e","E"],(function(e,t,n,r){t[r]=Z(e)}));var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=pe,He=pe,Ye=pe;function Ze(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,o))||-1!==(i=ge.call(this._shortWeekdaysParse,o))||-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,o))||-1!==(i=ge.call(this._weekdaysParse,o))||-1!==(i=ge.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,o))||-1!==(i=ge.call(this._weekdaysParse,o))||-1!==(i=ge.call(this._shortWeekdaysParse,o))?i:null}function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=ve(this.weekdaysMin(n,"")),i=ve(this.weekdaysShort(n,"")),a=ve(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $e(){return this.hours()%12||12}function Ke(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,$e),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+$e.apply(this)+I(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+$e.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),U("hour","h"),G("hour",13),he("a",Xe),he("A",Xe),he("H",re),he("h",re),he("k",re),he("HH",re,Q),he("hh",re,Q),he("kk",re,Q),he("hmm",ie),he("hmmss",ae),he("Hmm",ie),he("Hmmss",ae),ke(["H","HH"],3),ke(["k","kk"],(function(e,t,n){var r=Z(e);t[3]=24===r?0:r})),ke(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ke(["h","hh"],(function(e,t,n){t[3]=Z(e),m(n).bigHour=!0})),ke("hmm",(function(e,t,n){var r=e.length-2;t[3]=Z(e.substr(0,r)),t[4]=Z(e.substr(r)),m(n).bigHour=!0})),ke("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=Z(e.substr(0,r)),t[4]=Z(e.substr(r,2)),t[5]=Z(e.substr(i)),m(n).bigHour=!0})),ke("Hmm",(function(e,t,n){var r=e.length-2;t[3]=Z(e.substr(0,r)),t[4]=Z(e.substr(r))})),ke("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=Z(e.substr(0,r)),t[4]=Z(e.substr(r,2)),t[5]=Z(e.substr(i))}));var Je,Qe=q("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:xe,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:We,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function it(e){return e?e.toLowerCase().replace("_","-"):e}function at(t){var r=null;if(void 0===tt[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{r=Je._abbr,n(1944)("./"+t),ot(r)}catch(e){tt[t]=null}return tt[t]}function ot(e,t){var n;return e&&((n=c(t)?ut(e):st(e,t))?Je=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function st(e,t){if(null!==t){var n,r=et;if(t.abbr=e,null!=tt[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])r=tt[t.parentLocale]._config;else{if(null==(n=at(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return tt[e]=new M(P(r,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),ot(e),tt[e]}return delete tt[e],null}function ut(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!a(e)){if(t=at(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=it(e[a]).split("-")).length,n=(n=it(e[a+1]))?n.split("-"):null;t>0;){if(r=at(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&rt(i,n)>=t-1)break;t--}a++}return Je}(e)}function ct(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>we(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,n,r,i,a,o,s=e._i,u=lt.exec(s)||dt.exec(s),c=pt.length,l=ht.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],r=!1!==pt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(ht[t][1].exec(u[3])){a=(u[2]||" ")+ht[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!ft.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),St(e)}else e._isValid=!1}function kt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,n,r,i,a,o,s,u,c=vt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],i=c[2],a=c[5],o=c[6],s=c[7],u=[kt(n),xe.indexOf(r),parseInt(i,10),parseInt(a,10),parseInt(o,10)],s&&u.push(parseInt(s,10)),t=u,!function(e,t,n){return!e||Be.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t,n,r,a,o,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=_t(t.GG,e._a[0],Fe(Tt(),1,4).year),r=_t(t.W,1),((i=_t(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=Fe(Tt(),a,o),n=_t(t.gg,e._a[0],c.year),r=_t(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>ze(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=Le(n,r,i,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=_t(e._a[0],r[0]),(e._dayOfYear>Re(o)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:De).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(m(e).weekdayMismatch=!0)}}function St(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,n,r,a,o,s,u,c=""+e._i,l=c.length,d=0;for(u=(r=F(e._f,e._locale).match(R)||[]).length,t=0;t<u;t++)a=r[t],(n=(c.match(me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),O[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),_e(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-d,c.length>0&&m(e).unusedInput.push(c),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),wt(e),ct(e)}else bt(e);else yt(e)}function xt(e){var t=e._i,n=e._f;return e._locale=e._locale||ut(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new _(ct(t)):(d(t)?e._d=t:a(n)?function(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],St(t),v(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));p(e,n||t)}(e):n?St(e):function(e){var t=e._i;c(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),wt(e)):o(t)?function(e){if(!e._d){var t=B(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),wt(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),v(e)||(e._d=null),e))}function Et(e,t,n,r,i){var s,c={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=e,c._f=t,c._strict=r,(s=new _(ct(xt(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Tt(e,t,n,r){return Et(e,t,n,r,!1)}i.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ct=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),jt=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Pt(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=B(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,c=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,i=Mt.length;for(t in e)if(s(e,t)&&(-1===ge.call(Mt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Mt[n]]){if(r)return!1;parseFloat(e[Mt[n]])!==Z(e[Mt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*l+6e4*c+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ut(),this._bubble()}function Rt(e){return e instanceof It}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){N(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)}))}Dt("Z",":"),Dt("ZZ",""),he("Z",fe),he("ZZ",fe),ke(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Nt(fe,e)}));var Ot=/([\+\-]|\d\d)/gi;function Nt(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Ot)||["-",0,0])[1]+Z(n[2]))?0:"+"===n[0]?r:-r}function Lt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||d(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Tt(e).local()}function Ft(e){return-Math.round(e._d.getTimezoneOffset())}function zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var n,r,i,a,o,u,c=e,d=null;return Rt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(d=Ut.exec(e))?(n="-"===d[1]?-1:1,c={y:0,d:Z(d[2])*n,h:Z(d[3])*n,m:Z(d[4])*n,s:Z(d[5])*n,ms:Z(At(1e3*d[6]))*n}):(d=Vt.exec(e))?(n="-"===d[1]?-1:1,c={y:Wt(d[2],n),M:Wt(d[3],n),w:Wt(d[4],n),d:Wt(d[5],n),h:Wt(d[6],n),m:Wt(d[7],n),s:Wt(d[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=Tt(c.from),o=Tt(c.to),i=a.isValid()&&o.isValid()?(o=Lt(o,a),a.isBefore(o)?u=Gt(a,o):((u=Gt(o,a)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(c={}).ms=i.milliseconds,c.M=i.months),r=new It(c),Rt(e)&&s(e,"_locale")&&(r._locale=e._locale),Rt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Yt(this,Bt(n,r),e),this}}function Yt(e,t,n,r){var a=t._milliseconds,o=At(t._days),s=At(t._months);e.isValid()&&(r=null==r||r,s&&Pe(e,$(e,"Month")+s*n),o&&K(e,"Date",$(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Bt.fn=It.prototype,Bt.invalid=function(){return Bt(NaN)};var Zt=Ht(1,"add"),qt=Ht(-1,"subtract");function $t(e){return"string"==typeof e||e instanceof String}function Kt(e){return w(e)||d(e)||$t(e)||l(e)||function(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&$t(e)})).length),t&&n}(e)||function(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}(e)||null==e}function Xt(e){var t,n=o(e)&&!u(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||s(e,i[t]);return n&&r}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ut(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}var nn=1e3,rn=6e4,an=36e5,on=126227808e5;function sn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-on:new Date(e,t,n).valueOf()}function cn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-on:Date.UTC(e,t,n)}function ln(e,t){return t.erasAbbrRegex(e)}function dn(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(ve(o[e].name)),n.push(ve(o[e].abbr)),i.push(ve(o[e].narrow)),a.push(ve(o[e].name)),a.push(ve(o[e].abbr)),a.push(ve(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function fn(e,t){N(0,[e,e.length],0,t)}function pn(e,t,n,r,i){var a;return null==e?Fe(this,r,i).year:(t>(a=ze(e,r,i))&&(t=a),hn.call(this,e,t,n,r,i))}function hn(e,t,n,r,i){var a=Le(e,t,n,r,i),o=Oe(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),he("N",ln),he("NN",ln),he("NNN",ln),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ke(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),he("y",ce),he("yy",ce),he("yyy",ce),he("yyyy",ce),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),ke(["y","yy","yyy","yyyy"],0),ke(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,i):t[0]=parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),he("G",le),he("g",le),he("GG",re,Q),he("gg",re,Q),he("GGGG",se,te),he("gggg",se,te),he("GGGGG",ue,ne),he("ggggg",ue,ne),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Z(e)})),be(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),he("Q",J),ke("Q",(function(e,t){t[1]=3*(Z(e)-1)})),N("D",["DD",2],"Do","date"),U("date","D"),G("date",9),he("D",re),he("DD",re,Q),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ke(["D","DD"],2),ke("Do",(function(e,t){t[2]=Z(e.match(re)[0])}));var mn=q("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),he("DDD",oe),he("DDDD",ee),ke(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Z(e)})),N("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),he("m",re),he("mm",re,Q),ke(["m","mm"],4);var vn=q("Minutes",!1);N("s",["ss",2],0,"second"),U("second","s"),G("second",15),he("s",re),he("ss",re,Q),ke(["s","ss"],5);var gn,yn,kn=q("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),G("millisecond",16),he("S",oe,J),he("SS",oe,Q),he("SSS",oe,ee),gn="SSSS";gn.length<=9;gn+="S")he(gn,ce);function bn(e,t){t[6]=Z(1e3*("0."+e))}for(gn="S";gn.length<=9;gn+="S")ke(gn,bn);yn=q("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var _n=_.prototype;function wn(e){return e}_n.add=Zt,_n.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):Xt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Tt(),r=Lt(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(j(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Tt(n)))},_n.clone=function(){return new _(this)},_n.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=Lt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=V(t)){case"year":a=Jt(this,r)/12;break;case"month":a=Jt(this,r);break;case"quarter":a=Jt(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:Y(a)},_n.endOf=function(e){var t,n;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?cn:un,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=an-sn(t+(this._isUTC?0:this.utcOffset()*rn),an)-1;break;case"minute":t=this._d.valueOf(),t+=rn-sn(t,rn)-1;break;case"second":t=this._d.valueOf(),t+=nn-sn(t,nn)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},_n.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Tt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.fromNow=function(e){return this.from(Tt(),e)},_n.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Tt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.toNow=function(e){return this.to(Tt(),e)},_n.get=function(e){return j(this[e=V(e)])?this[e]():this},_n.invalidAt=function(){return m(this).overflow},_n.isAfter=function(e,t){var n=w(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},_n.isBefore=function(e,t){var n=w(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},_n.isBetween=function(e,t,n,r){var i=w(e)?e:Tt(e),a=w(t)?t:Tt(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},_n.isSame=function(e,t){var n,r=w(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},_n.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},_n.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},_n.isValid=function(){return v(this)},_n.lang=en,_n.locale=Qt,_n.localeData=tn,_n.max=jt,_n.min=Ct,_n.parsingFlags=function(){return p({},m(this))},_n.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:W[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=B(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(j(this[e=V(e)]))return this[e](t);return this},_n.startOf=function(e){var t,n;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?cn:un,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:this.utcOffset()*rn),an);break;case"minute":t=this._d.valueOf(),t-=sn(t,rn);break;case"second":t=this._d.valueOf(),t-=sn(t,nn)}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.subtract=qt,_n.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},_n.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},_n.toDate=function(){return new Date(this.valueOf())},_n.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?L(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",L(n,"Z")):L(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_n.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(_n[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),_n.toJSON=function(){return this.isValid()?this.toISOString():null},_n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_n.unix=function(){return Math.floor(this.valueOf()/1e3)},_n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_n.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},_n.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},_n.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},_n.eraYear=function(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-i(a[e].since).year())*n+a[e].offset;return this.year()},_n.year=Ae,_n.isLeapYear=function(){return H(this.year())},_n.weekYear=function(e){return pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_n.isoWeekYear=function(e){return pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},_n.quarter=_n.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},_n.month=Me,_n.daysInMonth=function(){return we(this.year(),this.month())},_n.week=_n.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},_n.isoWeek=_n.isoWeeks=function(e){var t=Fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},_n.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},_n.weeksInWeekYear=function(){var e=this.localeData()._week;return ze(this.weekYear(),e.dow,e.doy)},_n.isoWeeksInYear=function(){return ze(this.year(),1,4)},_n.isoWeeksInISOWeekYear=function(){return ze(this.isoWeekYear(),1,4)},_n.date=mn,_n.day=_n.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},_n.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},_n.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},_n.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},_n.hour=_n.hours=Qe,_n.minute=_n.minutes=vn,_n.second=_n.seconds=kn,_n.millisecond=_n.milliseconds=yn,_n.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(fe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Yt(this,Bt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Ft(this)},_n.utc=function(e){return this.utcOffset(0,e)},_n.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},_n.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},_n.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},_n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_n.isLocal=function(){return!!this.isValid()&&!this._isUTC},_n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_n.isUtc=zt,_n.isUTC=zt,_n.zoneAbbr=function(){return this._isUTC?"UTC":""},_n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_n.dates=x("dates accessor is deprecated. Use date instead.",mn),_n.months=x("months accessor is deprecated. Use month instead",Me),_n.years=x("years accessor is deprecated. Use year instead",Ae),_n.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),_n.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=xt(t))._a?(e=t._isUTC?h(t._a):Tt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Z(e[r])!==Z(t[r]))&&o++;return o+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Sn=M.prototype;function xn(e,t,n,r){var i=ut(),a=h().set(r,t);return i[n](a,e)}function En(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=xn(e,r,n,"month");return i}function Tn(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=ut(),o=e?a._week.dow:0,s=[];if(null!=n)return xn(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=xn(t,(i+o)%7,r,"day");return s}Sn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return j(r)?r.call(t,n):r},Sn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Sn.invalidDate=function(){return this._invalidDate},Sn.ordinal=function(e){return this._ordinal.replace("%d",e)},Sn.preparse=wn,Sn.postformat=wn,Sn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return j(i)?i(e,t,n,r):i.replace(/%d/i,e)},Sn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)},Sn.set=function(e){var t,n;for(n in e)s(e,n)&&(j(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Sn.eras=function(e,t){var n,r,a,o=this._eras||ut("en")._eras;for(n=0,r=o.length;n<r;++n)switch("string"==typeof o[n].since&&(a=i(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=i(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o},Sn.erasParse=function(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]},Sn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},Sn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||dn.call(this),e?this._erasAbbrRegex:this._erasRegex},Sn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||dn.call(this),e?this._erasNameRegex:this._erasRegex},Sn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||dn.call(this),e?this._erasNarrowRegex:this._erasRegex},Sn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},Sn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Sn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return je.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Sn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Sn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Sn.week=function(e){return Fe(e,this._week.dow,this._week.doy).week},Sn.firstDayOfYear=function(){return this._week.doy},Sn.firstDayOfWeek=function(){return this._week.dow},Sn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},Sn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Sn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Sn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Ze.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Sn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Sn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=He),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Sn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Sn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Sn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Z(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=x("moment.lang is deprecated. Use moment.locale instead.",ot),i.langData=x("moment.langData is deprecated. Use moment.localeData instead.",ut);var Cn=Math.abs;function jn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Pn(e){return e<0?Math.floor(e):Math.ceil(e)}function Mn(e){return 4800*e/146097}function In(e){return 146097*e/4800}function Rn(e){return function(){return this.as(e)}}var An=Rn("ms"),Dn=Rn("s"),On=Rn("m"),Nn=Rn("h"),Ln=Rn("d"),Fn=Rn("w"),zn=Rn("M"),Un=Rn("Q"),Vn=Rn("y");function Bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wn=Bn("milliseconds"),Gn=Bn("seconds"),Hn=Bn("minutes"),Yn=Bn("hours"),Zn=Bn("days"),qn=Bn("months"),$n=Bn("years"),Kn=Math.round,Xn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Jn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Qn=Math.abs;function er(e){return(e>0)-(e<0)||+e}function tr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=Qn(this._milliseconds)/1e3,c=Qn(this._days),l=Qn(this._months),d=this.asSeconds();return d?(e=Y(u/60),t=Y(e/60),u%=60,e%=60,n=Y(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",a=er(this._months)!==er(d)?"-":"",o=er(this._days)!==er(d)?"-":"",s=er(this._milliseconds)!==er(d)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var nr=It.prototype;return nr.isValid=function(){return this._isValid},nr.abs=function(){var e=this._data;return this._milliseconds=Cn(this._milliseconds),this._days=Cn(this._days),this._months=Cn(this._months),e.milliseconds=Cn(e.milliseconds),e.seconds=Cn(e.seconds),e.minutes=Cn(e.minutes),e.hours=Cn(e.hours),e.months=Cn(e.months),e.years=Cn(e.years),this},nr.add=function(e,t){return jn(this,e,t,1)},nr.subtract=function(e,t){return jn(this,e,t,-1)},nr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=V(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Mn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(In(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},nr.asMilliseconds=An,nr.asSeconds=Dn,nr.asMinutes=On,nr.asHours=Nn,nr.asDays=Ln,nr.asWeeks=Fn,nr.asMonths=zn,nr.asQuarters=Un,nr.asYears=Vn,nr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN},nr._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Pn(In(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=Y(a/1e3),u.seconds=e%60,t=Y(e/60),u.minutes=t%60,n=Y(t/60),u.hours=n%24,o+=Y(n/24),s+=i=Y(Mn(o)),o-=Pn(In(i)),r=Y(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},nr.clone=function(){return Bt(this)},nr.get=function(e){return e=V(e),this.isValid()?this[e+"s"]():NaN},nr.milliseconds=Wn,nr.seconds=Gn,nr.minutes=Hn,nr.hours=Yn,nr.days=Zn,nr.weeks=function(){return Y(this.days()/7)},nr.months=qn,nr.years=$n,nr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Xn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(a=Object.assign({},Xn,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=function(e,t,n,r){var i=Bt(e).abs(),a=Kn(i.as("s")),o=Kn(i.as("m")),s=Kn(i.as("h")),u=Kn(i.as("d")),c=Kn(i.as("M")),l=Kn(i.as("w")),d=Kn(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,Jn.apply(null,f)}(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},nr.toISOString=tr,nr.toString=tr,nr.toJSON=tr,nr.locale=Qt,nr.localeData=tn,nr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tr),nr.lang=en,N("X",0,0,"unix"),N("x",0,0,"valueOf"),he("x",le),he("X",/[+-]?\d+(\.\d{1,3})?/),ke("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ke("x",(function(e,t,n){n._d=new Date(Z(e))})),i.version="2.29.4",t=Tt,i.fn=_n,i.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(e){return Tt(1e3*e)},i.months=function(e,t){return En(e,t,"months")},i.isDate=d,i.locale=ot,i.invalid=g,i.duration=Bt,i.isMoment=w,i.weekdays=function(e,t,n){return Tn(e,t,n,"weekdays")},i.parseZone=function(){return Tt.apply(null,arguments).parseZone()},i.localeData=ut,i.isDuration=Rt,i.monthsShort=function(e,t){return En(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Tn(e,t,n,"weekdaysMin")},i.defineLocale=st,i.updateLocale=function(e,t){if(null!=t){var n,r,i=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(P(tt[e]._config,t)):(null!=(r=at(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new M(t)).parentLocale=tt[e],tt[e]=n),ot(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===ot()&&ot(e)):null!=tt[e]&&delete tt[e]);return tt[e]},i.locales=function(){return E(tt)},i.weekdaysShort=function(e,t,n){return Tn(e,t,n,"weekdaysShort")},i.normalizeUnits=V,i.relativeTimeRounding=function(e){return void 0===e?Kn:"function"==typeof e&&(Kn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Xn[e]&&(void 0===t?Xn[e]:(Xn[e]=t,"s"===e&&(Xn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=_n,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},1378:function(e){var t=1e3,n=60*t,r=60*n,i=24*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,o){o=o||{};var s,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&isFinite(e))return o.long?(s=e,(u=Math.abs(s))>=i?a(s,u,i,"day"):u>=r?a(s,u,r,"hour"):u>=n?a(s,u,n,"minute"):u>=t?a(s,u,t,"second"):s+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=r?Math.round(e/r)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3682:function(e,t,n){"use strict";var r=n(8058),i={};i.rules=n(2379).map((function(e){return{rule:e,suffix:e.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===e.charAt(0),exception:"!"===e.charAt(0)}})),i.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},i.findRule=function(e){var t=r.toASCII(e);return i.rules.reduce((function(e,n){return-1===n.punySuffix&&(n.punySuffix=r.toASCII(n.suffix)),i.endsWith(t,"."+n.punySuffix)||t===n.punySuffix?n:e}),null)},t.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},i.validate=function(e){var t=r.toASCII(e);if(t.length<1)return"DOMAIN_TOO_SHORT";if(t.length>255)return"DOMAIN_TOO_LONG";for(var n,i=t.split("."),a=0;a<i.length;++a){if(!(n=i[a]).length)return"LABEL_TOO_SHORT";if(n.length>63)return"LABEL_TOO_LONG";if("-"===n.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===n.charAt(n.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(n))return"LABEL_INVALID_CHARS"}},t.parse=function(e){if("string"!=typeof e)throw new TypeError("Domain name must be a string.");var n=e.slice(0).toLowerCase();"."===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1));var a=i.validate(n);if(a)return{input:e,error:{message:t.errorCodes[a],code:a}};var o={input:e,tld:null,sld:null,domain:null,subdomain:null,listed:!1},s=n.split(".");if("local"===s[s.length-1])return o;var u=function(){return/xn--/.test(n)?(o.domain&&(o.domain=r.toASCII(o.domain)),o.subdomain&&(o.subdomain=r.toASCII(o.subdomain)),o):o},c=i.findRule(n);if(!c)return s.length<2?o:(o.tld=s.pop(),o.sld=s.pop(),o.domain=[o.sld,o.tld].join("."),s.length&&(o.subdomain=s.pop()),u());o.listed=!0;var l=c.suffix.split("."),d=s.slice(0,s.length-l.length);return c.exception&&d.push(l.shift()),o.tld=l.join("."),d.length?(c.wildcard&&(l.unshift(d.pop()),o.tld=l.join(".")),d.length?(o.sld=d.pop(),o.domain=[o.sld,o.tld].join("."),d.length&&(o.subdomain=d.join(".")),u()):u()):u()},t.get=function(e){return e&&t.parse(e).domain||null},t.isValid=function(e){var n=t.parse(e);return Boolean(n.domain&&n.listed)}},8058:function(e,t,n){"use strict";n.r(t),n.d(t,{decode:function(){return k},encode:function(){return b},toASCII:function(){return w},toUnicode:function(){return _},ucs2decode:function(){return m},ucs2encode:function(){return v}});var r=2147483647,i=36,a=/^xn--/,o=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,d=String.fromCharCode;function p(e){throw new RangeError(u[e])}function h(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(s,".")).split("."),t).join(".");return r+i}function m(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}var v=function(e){return String.fromCodePoint.apply(String,c(e))},g=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},y=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;r+=i)e=l(e/35);return l(r+36*e/(e+38))},k=function(e){var t,n=[],a=e.length,o=0,s=128,u=72,c=e.lastIndexOf("-");c<0&&(c=0);for(var d=0;d<c;++d)e.charCodeAt(d)>=128&&p("not-basic"),n.push(e.charCodeAt(d));for(var f=c>0?c+1:0;f<a;){for(var h=o,m=1,v=i;;v+=i){f>=a&&p("invalid-input");var g=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:i;(g>=i||g>l((r-o)/m))&&p("overflow"),o+=g*m;var k=v<=u?1:v>=u+26?26:v-u;if(g<k)break;var b=i-k;m>l(r/b)&&p("overflow"),m*=b}var _=n.length+1;u=y(o-h,_,0==h),l(o/_)>r-s&&p("overflow"),s+=l(o/_),o%=_,n.splice(o++,0,s)}return String.fromCodePoint.apply(String,n)},b=function(e){var t,n=[],a=(e=m(e)).length,o=128,s=0,u=72,c=f(e);try{for(c.s();!(t=c.n()).done;){var h=t.value;h<128&&n.push(d(h))}}catch(A){c.e(A)}finally{c.f()}var v=n.length,k=v;for(v&&n.push("-");k<a;){var b,_=r,w=f(e);try{for(w.s();!(b=w.n()).done;){var S=b.value;S>=o&&S<_&&(_=S)}}catch(A){w.e(A)}finally{w.f()}var x=k+1;_-o>l((r-s)/x)&&p("overflow"),s+=(_-o)*x,o=_;var E,T=f(e);try{for(T.s();!(E=T.n()).done;){var C=E.value;if(C<o&&++s>r&&p("overflow"),C==o){for(var j=s,P=i;;P+=i){var M=P<=u?1:P>=u+26?26:P-u;if(j<M)break;var I=j-M,R=i-M;n.push(d(g(M+I%R,0))),j=l(I/R)}n.push(d(g(j,0))),u=y(s,x,k==v),s=0,++k}}}catch(A){T.e(A)}finally{T.f()}++s,++o}return n.join("")},_=function(e){return h(e,(function(e){return a.test(e)?k(e.slice(4).toLowerCase()):e}))},w=function(e){return h(e,(function(e){return o.test(e)?"xn--"+b(e):e}))},S={version:"2.1.0",ucs2:{decode:m,encode:v},decode:k,encode:b,toASCII:w,toUnicode:_};t.default=S},7375:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,a,o=[];for(a in"string"!=typeof t&&(t="?"),e)if(n.call(e,a)){if((r=e[a])||null!=r&&!isNaN(r)||(r=""),a=i(a),r=i(r),null===a||null===r)continue;o.push(a+"="+r)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var a=r(t[1]),o=r(t[2]);null===a||null===o||a in i||(i[a]=o)}return i}},7245:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},6294:function(e,t,n){"use strict";var r=n(2281);function i(e,t,n,i,a){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":a||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var u="msid:"+(i?i.id:"-")+" "+s+"\r\n";o+="a="+u,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+u,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+u,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o}function a(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var a=r(e.parameters.apt,n),o=r(t.parameters.apt,i);return a&&o&&a.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(r){for(var a=0;a<t.codecs.length;a++){var o=t.codecs[a];if(r.name.toLowerCase()===o.name.toLowerCase()&&r.clockRate===o.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&o.parameters.apt&&!i(r,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(r.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function o(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function u(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,r,i){var a=new Event("track");a.track=n,a.receiver=r,a.transceiver={receiver:r},a.streams=i,e.setTimeout((function(){t._dispatchEvent("track",a)}))}var l=function(n){var i=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=a[e].bind(a)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw u("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,a=this.transceivers[n].iceGatherer;if(!a.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),a.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,u=!s||0===Object.keys(s).length;if(u)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),s.component=1,s.ufrag=a.getLocalParameters().usernameFragment;var c=r.writeCandidate(s);o.candidate=Object.assign(o.candidate,r.parseCandidate(c)),o.candidate.candidate=c,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[o.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var d=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",o),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){a.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var o=a(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),i&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?o.encodings=e.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(o.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(u("TypeError",'Unsupported type "'+e.type+'"'));if(!o("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(u("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=i.transceivers[t],u=o.iceGatherer,c=o.iceTransport,l=o.dtlsTransport,d=o.localCapabilities,f=o.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length||o.rejected)){var p=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(o.mid,t),"new"===c.state&&c.start(u,p,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var m=a(d,f);i._transceive(o,m.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(u("TypeError",'Unsupported type "'+i.type+'"'));if(!o("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(u("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var d={};l.remoteStreams.forEach((function(e){d[e.id]=e}));var f=[],p=r.splitSections(i.sdp),h=p.shift(),m=r.matchPrefix(h,"a=ice-lite").length>0,v=r.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=v;var g=r.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(o,u){var c=r.splitLines(o),p=r.getKind(o),g=r.isRejected(o)&&0===r.matchPrefix(o,"a=bundle-only").length,y=c[0].substr(2).split(" ")[2],k=r.getDirection(o,h),b=r.parseMsid(o),_=r.getMid(o)||r.generateIdentifier();if(g||"application"===p&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))l.transceivers[u]={mid:_,kind:p,protocol:y,rejected:!0};else{var w,S,x,E,T,C,j,P,M;!g&&l.transceivers[u]&&l.transceivers[u].rejected&&(l.transceivers[u]=l._createTransceiver(p,!0));var I,R,A=r.parseRtpParameters(o);g||(I=r.getIceParameters(o,h),(R=r.getDtlsParameters(o,h)).role="client"),j=r.parseRtpEncodingParameters(o);var D=r.parseRtcpParameters(o),O=r.matchPrefix(o,"a=end-of-candidates",h).length>0,N=r.matchPrefix(o,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&v&&u>0&&l.transceivers[u]&&(l._disposeIceAndDtlsTransports(u),l.transceivers[u].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[u].iceTransport=l.transceivers[0].iceTransport,l.transceivers[u].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[u].rtpSender&&l.transceivers[u].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[u].rtpReceiver&&l.transceivers[u].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(S=(w=l.transceivers[u]).iceGatherer,x=w.iceTransport,E=w.dtlsTransport,T=w.rtpReceiver,C=w.sendEncodingParameters,P=w.localCapabilities,l.transceivers[u].recvEncodingParameters=j,l.transceivers[u].remoteCapabilities=A,l.transceivers[u].rtcpParameters=D,N.length&&"new"===x.state&&(!m&&!O||v&&0!==u?N.forEach((function(e){s(w.iceTransport,e)})):x.setRemoteCandidates(N)),v&&0!==u||("new"===x.state&&x.start(S,I,"controlling"),"new"===E.state&&E.start(R)),!a(w.localCapabilities,w.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&w.sendEncodingParameters[0].rtx&&delete w.sendEncodingParameters[0].rtx,l._transceive(w,"sendrecv"===k||"recvonly"===k,"sendrecv"===k||"sendonly"===k),!T||"sendrecv"!==k&&"sendonly"!==k?delete w.rtpReceiver:(M=T.track,b?(d[b.stream]||(d[b.stream]=new e.MediaStream),n(M,d[b.stream]),f.push([M,T,d[b.stream]])):(d.default||(d.default=new e.MediaStream),n(M,d.default),f.push([M,T,d.default]))));else{(w=l.transceivers[u]||l._createTransceiver(p)).mid=_,w.iceGatherer||(w.iceGatherer=l._createIceGatherer(u,v)),N.length&&"new"===w.iceTransport.state&&(!O||v&&0!==u?N.forEach((function(e){s(w.iceTransport,e)})):w.iceTransport.setRemoteCandidates(N)),P=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(P.codecs=P.codecs.filter((function(e){return"rtx"!==e.name}))),C=w.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var L,F=!1;"sendrecv"===k||"sendonly"===k?(F=!w.rtpReceiver,T=w.rtpReceiver||new e.RTCRtpReceiver(w.dtlsTransport,p),F&&(M=T.track,b&&"-"===b.stream||(b?(d[b.stream]||(d[b.stream]=new e.MediaStream,Object.defineProperty(d[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(M,"id",{get:function(){return b.track}}),L=d[b.stream]):(d.default||(d.default=new e.MediaStream),L=d.default)),L&&(n(M,L),w.associatedRemoteMediaStreams.push(L)),f.push([M,T,L]))):w.rtpReceiver&&w.rtpReceiver.track&&(w.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===w.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),w.associatedRemoteMediaStreams=[]),w.localCapabilities=P,w.remoteCapabilities=A,w.rtpReceiver=T,w.rtcpParameters=D,w.sendEncodingParameters=C,w.recvEncodingParameters=j,l._transceive(l.transceivers[u],!1,F)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var n=d[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",r)}))}f.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&c(l,t,r,[n])}))}})),f.forEach((function(e){e[2]||c(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createOffer after close"));var a=n.transceivers.filter((function(e){return"audio"===e.kind})).length,o=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(a=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(o=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--a<0&&(e.wantReceive=!1):"video"===e.kind&&--o<0&&(e.wantReceive=!1)}));a>0||o>0;)a>0&&(n._createTransceiver("audio"),a--),o>0&&(n._createTransceiver("video"),o--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,a){var o=i.track,s=i.kind,u=i.mid||r.generateIdentifier();i.mid=u,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(a,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*a+1)}];o&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=c,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var o=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(o+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),o+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?o+="m=application 0 DTLS/SCTP 5000\r\n":o+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var u;e.stream&&("audio"===e.kind?u=e.stream.getAudioTracks()[0]:"video"===e.kind&&(u=e.stream.getVideoTracks()[0]),u&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=a(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=i(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:o});return Promise.resolve(c)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,a){if(!n._remoteDescription)return a(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){o=c;break}var l=n.transceivers[o];if(!l)return a(u("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===o||o>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,d))return a(u("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(d.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var p=0;p<n.transceivers.length&&(n.transceivers[p].rejected||(n.transceivers[p].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));p++);i()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw u("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},2281:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var a=r[i],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=t.parseRtpMap(o),u=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=u.length?t.parseFmtp(u[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=s.length>0&&s[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(n=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&n&&(t.rtx={ssrc:n}),r.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:u,mechanism:o?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&u&&r.push({ssrc:u});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var o=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var a=t.writeRtpDescription(e.kind,n);if(a+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),a},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t},4661:function(e){var t;self,t=function(){return function(){var e={276:function(e){var t,n=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var n,r,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,t){n=e,r=t}));var a,o,s=Object.assign({},i),u=[],c="./this.program",l=function(e,t){throw t},d="";"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),t&&(d=t),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},o=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)};var f=i.print||console.log.bind(console),p=i.printErr||console.warn.bind(console);Object.assign(i,s),s=null,i.arguments&&(u=i.arguments),i.thisProgram&&(c=i.thisProgram),i.quit&&(l=i.quit);var h,m=i.dynamicLibraries||[];i.wasmBinary&&(h=i.wasmBinary);var v,g=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&$("no native wasm support detected");var y,k,b,_,w,S,x,E=!1,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&T)return T.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function j(e,t){return e?C(_,e,t):""}function P(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function M(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function I(e){k=e,i.HEAP8=b=new Int8Array(e),i.HEAP16=w=new Int16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU8=_=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=x=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}var R=i.INITIAL_MEMORY||16777216;(v=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:R/65536,maximum:32768}))&&(k=v.buffer),R=k.byteLength,I(k);var A,D,O,N,L=new WebAssembly.Table({initial:1539,element:"anyfunc"}),F=[],z=[],U=[],V=[],B=[],W=!1,G=0,H=null,Y=null;function Z(e){G++,i.monitorRunDependencies&&i.monitorRunDependencies(G)}function q(e){if(G--,i.monitorRunDependencies&&i.monitorRunDependencies(G),0==G&&(null!==H&&(clearInterval(H),H=null),Y)){var t=Y;Y=null,t()}}function $(e){i.onAbort&&i.onAbort(e),p(e="Aborted("+e+")"),E=!0,y=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function K(e){return e.startsWith("data:application/octet-stream;base64,")}function X(e){try{if(e==A&&h)return new Uint8Array(h);throw"both async and sync fetching of the wasm failed"}catch(e){$(e)}}function J(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}K(A="vsl_impl.wasm")||(D=A,A=i.locateFile?i.locateFile(D,d):d+D);var Q={},ee=new Set([]),te={get:function(e,t){var n=Q[t];return n||(n=Q[t]=new WebAssembly.Global({value:"i32",mutable:!0})),ee.has(t)||(n.required=!0),n}};function ne(e){for(;e.length>0;)e.shift()(i)}function re(e){var t=0,n=0;function r(){for(var n=0,r=1;;){var i=e[t++];if(n+=(127&i)*r,r*=128,!(128&i))break}return n}function i(){var n=r();return C(e,(t+=n)-n,n)}function a(e,t){if(e)throw new Error(t)}var o="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,o);0===s.length&&(o="dylink",s=WebAssembly.Module.customSections(e,o)),a(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{a(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),a(0!==e[8],"need the dylink section to be first"),t=9;var u=r();n=t+u,o=i()}var c={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==o){c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();for(var l=r(),d=0;d<l;++d){var f=i();c.neededDynlibs.push(f)}}else for(a("dylink.0"!==o);t<n;){var p=e[t++],h=r();if(1===p)c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();else if(2===p)for(l=r(),d=0;d<l;++d)f=i(),c.neededDynlibs.push(f);else if(3===p)for(var m=r();m--;){var v=i();256&r()&&c.tlsExports.add(v)}else if(4===p)for(m=r();m--;)i(),v=i(),1==(3&r())&&c.weakImports.add(v);else t+=h}return c}function ie(e){if(e instanceof J||"unwind"==e)return y;l(1,e)}function ae(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}function oe(e,t){for(var n in e)if(e.hasOwnProperty(n)){Ht.hasOwnProperty(n)||(Ht[n]=e[n]);var r=ae(n);i.hasOwnProperty(r)||(i[r]=e[n]),"__main_argc_argv"==n&&(i._main=e[n])}}var se={loadedLibsByName:{},loadedLibsByHandle:{}},ue=[];function ce(e){var t=ue[e];return t||(e>=ue.length&&(ue.length=e+1),ue[e]=t=L.get(e)),t}function le(e,t,n){return e.includes("j")?function(e,t,n){var r=i["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):ce(t).apply(null,n)}var de=5892384;function fe(e,t){return _.fill(0,e,e+t),e}function pe(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function he(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}function me(e,t){if(ve)for(var n=e;n<e+t;n++){var r=ce(n);r&&ve.set(r,n)}}var ve=void 0,ge=[];function ye(e,t){L.set(e,t),ue[e]=L.get(e)}function ke(e,t){if(ve||(ve=new WeakMap,me(0,L.length)),ve.has(e))return ve.get(e);var n=function(){if(ge.length)return ge.pop();try{L.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return L.length-1}();try{ye(n,e)}catch(i){if(!(i instanceof TypeError))throw i;var r=function(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var t={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)n.parameters.push(t[e[r]]);return n}(t),e);var n=[1,96],r=t.slice(0,1),i=t.slice(1),a={i:127,p:127,j:126,f:125,d:124};he(i.length,n);for(var o=0;o<i.length;++o)n.push(a[i[o]]);"v"==r?n.push(0):n.push(1,a[r]);var s=[0,97,115,109,1,0,0,0,1];he(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);ye(n,r)}return ve.set(e,n),n}function be(e,t,n){var r={};for(var i in e){var a=e[i];"object"==typeof a&&(a=a.value),"number"==typeof a&&(a+=t),r[i]=a}return function(e,t){for(var n in e)if(!pe(n)){var r=e[n];n.startsWith("orig$")&&(n=n.split("$")[1],t=!0),Q[n]||(Q[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||0==Q[n].value)&&("function"==typeof r?Q[n].value=ke(r):"number"==typeof r?Q[n].value=r:"bigint"==typeof r?Q[n].value=Number(r):p("unhandled export type for `"+n+"`: "+typeof r))}}(r,n),r}function _e(e,t){var n,r;return t&&(n=Ht["orig$"+e]),n||(n=Ht[e])&&n.stub&&(n=void 0),n||(n=i[ae(e)]),!n&&e.startsWith("invoke_")&&(r=e.split("_")[1],n=function(){var e=Qt();try{return le(r,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(en(e),t!==t+0)throw t;Xt(1,0)}}),!n&&e.startsWith("__cxa_find_matching_catch")&&(n=i.___cxa_find_matching_catch),n}function we(e,t){return Math.ceil(e/t)*t}function Se(e,t,n){var r=re(e);function i(){if(n&&b[n+24>>0])a=x[n+28>>2],o=x[n+36>>2];else{var i=Math.pow(2,r.memoryAlign);i=Math.max(i,16);var a=r.memorySize?we(function(e){if(W)return fe(Yt(e),e);var t=de,n=t+e+15&-16;return de=n,Q.__heap_base.value=n,t}(r.memorySize+i),i):0,o=r.tableSize?L.length:0;n&&(b[n+24>>0]=1,x[n+28>>2]=a,S[n+32>>2]=r.memorySize,x[n+36>>2]=o,S[n+40>>2]=r.tableSize)}var s,u=o+r.tableSize-L.length;u>0&&L.grow(u);var c={get:function(e,t){switch(t){case"__memory_base":return a;case"__table_base":return o}return t in Ht?Ht[t]:(t in e||(e[t]=function(){return n||(n=function(e){var t=_e(e,!1);return t||(t=s[e]),t}(t)),n.apply(null,arguments)}),e[t]);var n}},l=new Proxy({},c),d={"GOT.mem":new Proxy({},te),"GOT.func":new Proxy({},te),env:l,wasi_snapshot_preview1:l};function f(e){me(o,r.tableSize),s=be(e.exports,a),t.allowUndefined||Ee();var n=s.__wasm_apply_data_relocs;n&&(W?n():B.push(n));var i=s.__wasm_call_ctors;return i&&(W?i():z.push(i)),s}if(t.loadAsync){if(e instanceof WebAssembly.Module){var p=new WebAssembly.Instance(e,d);return Promise.resolve(f(p))}return WebAssembly.instantiate(e,d).then((function(e){return f(e.instance)}))}var h=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(p=new WebAssembly.Instance(h,d))}return ee=r.weakImports,t.loadAsync?r.neededDynlibs.reduce((function(e,n){return e.then((function(){return xe(n,t)}))}),Promise.resolve()).then((function(){return i()})):(r.neededDynlibs.forEach((function(e){xe(e,t)})),i())}function xe(e,t,n){t=t||{global:!0,nodelete:!0};var r=se.loadedLibsByName[e];if(r)return t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&oe(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(se.loadedLibsByHandle[n]=r),!t.loadAsync||Promise.resolve(!0);function i(e){if(t.fs&&t.fs.findObject(e)){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}if(t.loadAsync)return new Promise((function(t,n){o(e,(function(e){return t(new Uint8Array(e))}),n)}));throw new Error(e+": file not found, and synchronous loading of external files is not available")}function a(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var r=preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?i(e).then((function(e){return Se(e,t,n)})):Se(i(e),t,n)}function s(e){r.global&&oe(e),r.module=e}return r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},se.loadedLibsByName[e]=r,n&&(se.loadedLibsByHandle[n]=r),t.loadAsync?a().then((function(e){return s(e),!0})):(s(a()),!0)}function Ee(){for(var e in Q)if(0==Q[e].value){var t=_e(e,!0);if(!t&&!Q[e].required)continue;if("function"==typeof t)Q[e].value=ke(t,t.sig);else{if("number"!=typeof t)throw new Error("bad export type for `"+e+"`: "+typeof t);Q[e].value=t}}}function Te(e,t){b.set(e,t)}function Ce(e){return Yt(e+24)+24}i.___cxa_allocate_exception=Ce,Ce.sig="pp";var je=[];function Pe(e){e.add_ref()}var Me=0;function Ie(e){var t=new Re(e);return t.get_caught()||(t.set_caught(!0),Me--),t.set_rethrown(!1),je.push(t),Pe(t),t.get_exception_ptr()}function Re(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){x[this.ptr+4>>2]=e},this.get_type=function(){return x[this.ptr+4>>2]},this.set_destructor=function(e){x[this.ptr+8>>2]=e},this.get_destructor=function(){return x[this.ptr+8>>2]},this.set_refcount=function(e){S[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,b[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=b[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,b[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=b[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr>>2];S[this.ptr>>2]=e+1},this.release_ref=function(){var e=S[this.ptr>>2];return S[this.ptr>>2]=e-1,1===e},this.set_adjusted_ptr=function(e){x[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return x[this.ptr+16>>2]},this.get_exception_ptr=function(){if(i.___cxa_is_pointer_type(this.get_type()))return x[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function Ae(e){return Zt(new Re(e).ptr)}function De(e){if(e.release_ref()&&!e.get_rethrown()){var t=e.get_destructor();t&&ce(t)(e.excPtr),Ae(e.excPtr)}}function Oe(e){e&&De(new Re(e))}i.___cxa_begin_catch=Ie,Ie.sig="pp",i.___cxa_free_exception=Ae,Ae.sig="vp",Oe.sig="vp";var Ne=0;function Le(){Xt(0),De(je.pop()),Ne=0}function Fe(e){throw Ne||(Ne=e),e}function ze(){var e=Ne;if(!e)return Jt(0),0;var t=new Re(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jt(0),e;for(var r=0;r<arguments.length;r++){var a=arguments[r];if(0===a||a===n)break;var o=t.ptr+16;if(i.___cxa_can_catch(a,n,o))return Jt(a),e}return Jt(n),e}function Ue(){var e=Ne;if(!e)return Jt(0),0;var t=new Re(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jt(0),e;for(var r=0;r<arguments.length;r++){var a=arguments[r];if(0===a||a===n)break;var o=t.ptr+16;if(i.___cxa_can_catch(a,n,o))return Jt(a),e}return Jt(n),e}function Ve(e){e&&Pe(new Re(e))}function Be(){var e=je.pop();e||$("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(je.push(e),e.set_rethrown(!0),e.set_caught(!1),Me++),Ne=t,t}function We(e,t,n){throw new Re(e).init(t,n),Ne=e,Me++,e}i.___cxa_end_catch=Le,Le.sig="v",i.___resumeException=Fe,Fe.sig="vp",i.___cxa_find_matching_catch_2=ze,ze.sig="ppp",i.___cxa_find_matching_catch_3=Ue,Ue.sig="pppp",Ve.sig="vp",i.___cxa_rethrow=Be,Be.sig="v",i.___cxa_throw=We,We.sig="vppp";var Ge=new WebAssembly.Global({value:"i32",mutable:!1},1024);i.___memory_base=Ge;var He=new WebAssembly.Global({value:"i32",mutable:!0},5892384);i.___stack_pointer=He;var Ye={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=Ye.isAbs(e),n="/"===e.substr(-1);return(e=Ye.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ye.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Ye.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return Ye.normalize(e.join("/"))},join2:function(e,t){return Ye.normalize(e+"/"+t)}};function Ze(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){return $("randomDevice")}}var qe={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:et.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=Ye.isAbs(r)}return(t?"/":"")+(e=Ye.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=qe.resolve(e).substr(1),t=qe.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}var u=[];for(s=o;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}};function $e(e,t,n){var r=n>0?n:M(e)+1,i=new Array(r),a=P(e,i,0,i.length);return t&&(i.length=a),i}var Ke={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ke.ttys[e]={input:[],output:[],ops:t},et.registerDevice(e,Ke.stream_ops)},stream_ops:{open:function(e){var t=Ke.ttys[e.node.rdev];if(!t)throw new et.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new et.ErrnoError(60);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new et.ErrnoError(29)}if(void 0===s&&0===a)throw new et.ErrnoError(6);if(null==s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new et.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new et.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=$e(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(f(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(f(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(p(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(p(C(e.output,0)),e.output=[])}}};function Xe(e){e=we(e,65536);var t=Kt(65536,e);return t?fe(t,e):0}var Je={ops_table:null,mount:function(e){return Je.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(et.isBlkdev(n)||et.isFIFO(n))throw new et.ErrnoError(63);Je.ops_table||(Je.ops_table={dir:{node:{getattr:Je.node_ops.getattr,setattr:Je.node_ops.setattr,lookup:Je.node_ops.lookup,mknod:Je.node_ops.mknod,rename:Je.node_ops.rename,unlink:Je.node_ops.unlink,rmdir:Je.node_ops.rmdir,readdir:Je.node_ops.readdir,symlink:Je.node_ops.symlink},stream:{llseek:Je.stream_ops.llseek}},file:{node:{getattr:Je.node_ops.getattr,setattr:Je.node_ops.setattr},stream:{llseek:Je.stream_ops.llseek,read:Je.stream_ops.read,write:Je.stream_ops.write,allocate:Je.stream_ops.allocate,mmap:Je.stream_ops.mmap,msync:Je.stream_ops.msync}},link:{node:{getattr:Je.node_ops.getattr,setattr:Je.node_ops.setattr,readlink:Je.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Je.node_ops.getattr,setattr:Je.node_ops.setattr},stream:et.chrdev_stream_ops}});var i=et.createNode(e,t,n,r);return et.isDir(i.mode)?(i.node_ops=Je.ops_table.dir.node,i.stream_ops=Je.ops_table.dir.stream,i.contents={}):et.isFile(i.mode)?(i.node_ops=Je.ops_table.file.node,i.stream_ops=Je.ops_table.file.stream,i.usedBytes=0,i.contents=null):et.isLink(i.mode)?(i.node_ops=Je.ops_table.link.node,i.stream_ops=Je.ops_table.link.stream):et.isChrdev(i.mode)&&(i.node_ops=Je.ops_table.chrdev.node,i.stream_ops=Je.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=et.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,et.isDir(e.mode)?t.size=4096:et.isFile(e.mode)?t.size=e.usedBytes:et.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Je.resizeFileStorage(e,t.size)},lookup:function(e,t){throw et.genericErrors[44]},mknod:function(e,t,n,r){return Je.createNode(e,t,n,r)},rename:function(e,t,n){if(et.isDir(e.mode)){var r;try{r=et.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new et.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=et.lookupNode(e,t);for(var r in n.contents)throw new et.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Je.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!et.isLink(e.mode))throw new et.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write:function(e,t,n,r,i,a){if(t.buffer===b.buffer&&(a=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(Je.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&et.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new et.ErrnoError(28);return r},allocate:function(e,t,n){Je.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i){if(!et.isFile(e.node.mode))throw new et.ErrnoError(43);var a,o,s=e.node.contents;if(2&i||s.buffer!==k){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),o=!0,!(a=Xe(t)))throw new et.ErrnoError(48);b.set(s,a)}else o=!1,a=s.byteOffset;return{ptr:a,allocated:o}},msync:function(e,t,n,r,i){if(!et.isFile(e.node.mode))throw new et.ErrnoError(43);return 2&i||Je.stream_ops.write(e,t,0,r,n,!1),0}}};function Qe(e,t,n,r){var i=r?"":"al "+e;o(e,(function(n){n||$('Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),i&&q()}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),i&&Z()}var et={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=qe.resolve(et.cwd(),e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new et.ErrnoError(32);for(var n=Ye.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),r=et.root,i="/",a=0;a<n.length;a++){var o=a===n.length-1;if(o&&t.parent)break;if(r=et.lookupNode(r,n[a]),i=Ye.join2(i,n[a]),et.isMountpoint(r)&&(!o||o&&t.follow_mount)&&(r=r.mounted.root),!o||t.follow)for(var s=0;et.isLink(r.mode);){var u=et.readlink(i);if(i=qe.resolve(Ye.dirname(i),u),r=et.lookupPath(i,{recurse_count:t.recurse_count+1}).node,s++>40)throw new et.ErrnoError(32)}}return{path:i,node:r}},getPath:function(e){for(var t;;){if(et.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%et.nameTable.length},hashAddNode:function(e){var t=et.hashName(e.parent.id,e.name);e.name_next=et.nameTable[t],et.nameTable[t]=e},hashRemoveNode:function(e){var t=et.hashName(e.parent.id,e.name);if(et.nameTable[t]===e)et.nameTable[t]=e.name_next;else for(var n=et.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=et.mayLookup(e);if(n)throw new et.ErrnoError(n,e);for(var r=et.hashName(e.id,t),i=et.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return et.lookup(e,t)},createNode:function(e,t,n,r){var i=new et.FSNode(e,t,n,r);return et.hashAddNode(i),i},destroyNode:function(e){et.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=et.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return et.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return et.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return et.lookupNode(e,t),20}catch(e){}return et.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=et.lookupNode(e,t)}catch(e){return e.errno}var i=et.nodePermissions(e,"wx");if(i)return i;if(n){if(!et.isDir(r.mode))return 54;if(et.isRoot(r)||et.getPath(r)===et.cwd())return 10}else if(et.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?et.isLink(e.mode)?32:et.isDir(e.mode)&&("r"!==et.flagsToPermissionString(t)||512&t)?31:et.nodePermissions(e,et.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et.MAX_OPEN_FDS,n=e;n<=t;n++)if(!et.streams[n])return n;throw new et.ErrnoError(33)},getStream:function(e){return et.streams[e]},createStream:function(e,t,n){et.FSStream||(et.FSStream=function(){this.shared={}},et.FSStream.prototype={},Object.defineProperties(et.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new et.FSStream,e);var r=et.nextfd(t,n);return e.fd=r,et.streams[r]=e,e},closeStream:function(e){et.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=et.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new et.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){et.devices[e]={stream_ops:t}},getDevice:function(e){return et.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),et.syncFSRequests++,et.syncFSRequests>1&&p("warning: "+et.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=et.getMounts(et.root.mount),r=0;function i(e){return et.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&et.root)throw new et.ErrnoError(10);if(!i&&!a){var o=et.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,et.isMountpoint(r))throw new et.ErrnoError(10);if(!et.isDir(r.mode))throw new et.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?et.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=et.lookupPath(e,{follow_mount:!1});if(!et.isMountpoint(t.node))throw new et.ErrnoError(28);var n=t.node,r=n.mounted,i=et.getMounts(r);Object.keys(et.nameTable).forEach((function(e){for(var t=et.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&et.destroyNode(t),t=n}})),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=et.lookupPath(e,{parent:!0}).node,i=Ye.basename(e);if(!i||"."===i||".."===i)throw new et.ErrnoError(28);var a=et.mayCreate(r,i);if(a)throw new et.ErrnoError(a);if(!r.node_ops.mknod)throw new et.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,et.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,et.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{et.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,et.mknod(e,t,n)},symlink:function(e,t){if(!qe.resolve(e))throw new et.ErrnoError(44);var n=et.lookupPath(t,{parent:!0}).node;if(!n)throw new et.ErrnoError(44);var r=Ye.basename(t),i=et.mayCreate(n,r);if(i)throw new et.ErrnoError(i);if(!n.node_ops.symlink)throw new et.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Ye.dirname(e),a=Ye.dirname(t),o=Ye.basename(e),s=Ye.basename(t);if(n=et.lookupPath(e,{parent:!0}).node,r=et.lookupPath(t,{parent:!0}).node,!n||!r)throw new et.ErrnoError(44);if(n.mount!==r.mount)throw new et.ErrnoError(75);var u,c=et.lookupNode(n,o),l=qe.relative(e,a);if("."!==l.charAt(0))throw new et.ErrnoError(28);if("."!==(l=qe.relative(t,i)).charAt(0))throw new et.ErrnoError(55);try{u=et.lookupNode(r,s)}catch(e){}if(c!==u){var d=et.isDir(c.mode),f=et.mayDelete(n,o,d);if(f)throw new et.ErrnoError(f);if(f=u?et.mayDelete(r,s,d):et.mayCreate(r,s))throw new et.ErrnoError(f);if(!n.node_ops.rename)throw new et.ErrnoError(63);if(et.isMountpoint(c)||u&&et.isMountpoint(u))throw new et.ErrnoError(10);if(r!==n&&(f=et.nodePermissions(n,"w")))throw new et.ErrnoError(f);et.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(e){throw e}finally{et.hashAddNode(c)}}},rmdir:function(e){var t=et.lookupPath(e,{parent:!0}).node,n=Ye.basename(e),r=et.lookupNode(t,n),i=et.mayDelete(t,n,!0);if(i)throw new et.ErrnoError(i);if(!t.node_ops.rmdir)throw new et.ErrnoError(63);if(et.isMountpoint(r))throw new et.ErrnoError(10);t.node_ops.rmdir(t,n),et.destroyNode(r)},readdir:function(e){var t=et.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new et.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=et.lookupPath(e,{parent:!0}).node;if(!t)throw new et.ErrnoError(44);var n=Ye.basename(e),r=et.lookupNode(t,n),i=et.mayDelete(t,n,!1);if(i)throw new et.ErrnoError(i);if(!t.node_ops.unlink)throw new et.ErrnoError(63);if(et.isMountpoint(r))throw new et.ErrnoError(10);t.node_ops.unlink(t,n),et.destroyNode(r)},readlink:function(e){var t=et.lookupPath(e).node;if(!t)throw new et.ErrnoError(44);if(!t.node_ops.readlink)throw new et.ErrnoError(28);return qe.resolve(et.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=et.lookupPath(e,{follow:!t}).node;if(!n)throw new et.ErrnoError(44);if(!n.node_ops.getattr)throw new et.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return et.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?et.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new et.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){et.chmod(e,t,!0)},fchmod:function(e,t){var n=et.getStream(e);if(!n)throw new et.ErrnoError(8);et.chmod(n.node,t)},chown:function(e,t,n,r){var i;if(!(i="string"==typeof e?et.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new et.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){et.chown(e,t,n,!0)},fchown:function(e,t,n){var r=et.getStream(e);if(!r)throw new et.ErrnoError(8);et.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new et.ErrnoError(28);var n;if(!(n="string"==typeof e?et.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new et.ErrnoError(63);if(et.isDir(n.mode))throw new et.ErrnoError(31);if(!et.isFile(n.mode))throw new et.ErrnoError(28);var r=et.nodePermissions(n,"w");if(r)throw new et.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=et.getStream(e);if(!n)throw new et.ErrnoError(8);if(0==(2097155&n.flags))throw new et.ErrnoError(28);et.truncate(n.node,t)},utime:function(e,t,n){var r=et.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new et.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?et.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)r=e;else{e=Ye.normalize(e);try{r=et.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(r){if(128&t)throw new et.ErrnoError(20)}else r=et.mknod(e,n,0),a=!0;if(!r)throw new et.ErrnoError(44);if(et.isChrdev(r.mode)&&(t&=-513),65536&t&&!et.isDir(r.mode))throw new et.ErrnoError(54);if(!a){var o=et.mayOpen(r,t);if(o)throw new et.ErrnoError(o)}512&t&&!a&&et.truncate(r,0),t&=-131713;var s=et.createStream({node:r,path:et.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!i.logReadFiles||1&t||(et.readFiles||(et.readFiles={}),e in et.readFiles||(et.readFiles[e]=1)),s},close:function(e){if(et.isClosed(e))throw new et.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{et.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(et.isClosed(e))throw new et.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new et.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new et.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new et.ErrnoError(28);if(et.isClosed(e))throw new et.ErrnoError(8);if(1==(2097155&e.flags))throw new et.ErrnoError(8);if(et.isDir(e.node.mode))throw new et.ErrnoError(31);if(!e.stream_ops.read)throw new et.ErrnoError(28);var a=void 0!==i;if(a){if(!e.seekable)throw new et.ErrnoError(70)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new et.ErrnoError(28);if(et.isClosed(e))throw new et.ErrnoError(8);if(0==(2097155&e.flags))throw new et.ErrnoError(8);if(et.isDir(e.node.mode))throw new et.ErrnoError(31);if(!e.stream_ops.write)throw new et.ErrnoError(28);e.seekable&&1024&e.flags&&et.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new et.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);return o||(e.position+=s),s},allocate:function(e,t,n){if(et.isClosed(e))throw new et.ErrnoError(8);if(t<0||n<=0)throw new et.ErrnoError(28);if(0==(2097155&e.flags))throw new et.ErrnoError(8);if(!et.isFile(e.node.mode)&&!et.isDir(e.node.mode))throw new et.ErrnoError(43);if(!e.stream_ops.allocate)throw new et.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i){if(0!=(2&r)&&0==(2&i)&&2!=(2097155&e.flags))throw new et.ErrnoError(2);if(1==(2097155&e.flags))throw new et.ErrnoError(2);if(!e.stream_ops.mmap)throw new et.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new et.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=et.open(e,t.flags),i=et.stat(e).size,a=new Uint8Array(i);return et.read(r,a,0,i,0),"utf8"===t.encoding?n=C(a,0):"binary"===t.encoding&&(n=a),et.close(r),n},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=et.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(M(t)+1),a=P(t,i,0,i.length);et.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");et.write(r,t,0,t.byteLength,void 0,n.canOwn)}et.close(r)},cwd:function(){return et.currentPath},chdir:function(e){var t=et.lookupPath(e,{follow:!0});if(null===t.node)throw new et.ErrnoError(44);if(!et.isDir(t.node.mode))throw new et.ErrnoError(54);var n=et.nodePermissions(t.node,"x");if(n)throw new et.ErrnoError(n);et.currentPath=t.path},createDefaultDirectories:function(){et.mkdir("/tmp"),et.mkdir("/home"),et.mkdir("/home/web_user")},createDefaultDevices:function(){et.mkdir("/dev"),et.registerDevice(et.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),et.mkdev("/dev/null",et.makedev(1,3)),Ke.register(et.makedev(5,0),Ke.default_tty_ops),Ke.register(et.makedev(6,0),Ke.default_tty1_ops),et.mkdev("/dev/tty",et.makedev(5,0)),et.mkdev("/dev/tty1",et.makedev(6,0));var e=Ze();et.createDevice("/dev","random",e),et.createDevice("/dev","urandom",e),et.mkdir("/dev/shm"),et.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){et.mkdir("/proc");var e=et.mkdir("/proc/self");et.mkdir("/proc/self/fd"),et.mount({mount:function(){var t=et.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=et.getStream(n);if(!r)throw new et.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?et.createDevice("/dev","stdin",i.stdin):et.symlink("/dev/tty","/dev/stdin"),i.stdout?et.createDevice("/dev","stdout",null,i.stdout):et.symlink("/dev/tty","/dev/stdout"),i.stderr?et.createDevice("/dev","stderr",null,i.stderr):et.symlink("/dev/tty1","/dev/stderr"),et.open("/dev/stdin",0),et.open("/dev/stdout",1),et.open("/dev/stderr",1)},ensureErrnoError:function(){et.ErrnoError||(et.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},et.ErrnoError.prototype=new Error,et.ErrnoError.prototype.constructor=et.ErrnoError,[44].forEach((function(e){et.genericErrors[e]=new et.ErrnoError(e),et.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){et.ensureErrnoError(),et.nameTable=new Array(4096),et.mount(Je,{},"/"),et.createDefaultDirectories(),et.createDefaultDevices(),et.createSpecialDirectories(),et.filesystems={MEMFS:Je}},init:function(e,t,n){et.init.initialized=!0,et.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=n||i.stderr,et.createStandardStreams()},quit:function(){et.init.initialized=!1;for(var e=0;e<et.streams.length;e++){var t=et.streams[e];t&&et.close(t)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=et.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=et.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=et.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Ye.basename(e),r=et.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:et.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=Ye.join2(e,a);try{et.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=Ye.join2("string"==typeof e?e:et.getPath(e),t),o=et.getMode(r,i);return et.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t;e&&(e="string"==typeof e?e:et.getPath(e),o=t?Ye.join2(e,t):e);var s=et.getMode(r,i),u=et.create(o,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,d=n.length;l<d;++l)c[l]=n.charCodeAt(l);n=c}et.chmod(u,146|s);var f=et.open(u,577);et.write(f,n,0,n.length,0,a),et.close(f),et.chmod(u,s)}return u},createDevice:function(e,t,n,r){var i=Ye.join2("string"==typeof e?e:et.getPath(e),t),a=et.getMode(!!n,!!r);et.createDevice.major||(et.createDevice.major=64);var o=et.makedev(et.createDevice.major++,0);return et.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var u;try{u=n()}catch(e){throw new et.ErrnoError(29)}if(void 0===u&&0===o)throw new et.ErrnoError(6);if(null==u)break;o++,t[r+s]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new et.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),et.mkdev(i,a,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=$e(a(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new et.ErrnoError(29)}},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}var o;if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=r);var s=this;s.setDataGetter((function(e){var t=e*o,i=(e+1)*o-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):$e(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&r||(o=r=1,r=this.getter(0).length,o=r,f("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";o={isDevice:!1,url:n};var s=et.createFile(e,t,o,r,i);o.contents?s.contents=o.contents:o.url&&(s.contents=null,s.url=o.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,n,r,i){var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(s=0;s<o;s++)t[n+s]=a.get(i+s);return o}return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];u[e]=function(){return et.forceLoadFile(s),t.apply(null,arguments)}})),u.read=function(e,t,n,r,i){return et.forceLoadFile(s),c(e,t,n,r,i)},u.mmap=function(e,t,n,r,i){et.forceLoadFile(s);var a=Xe(t);if(!a)throw new et.ErrnoError(48);return c(e,b,a,t,n),{ptr:a,allocated:!0}},s.stream_ops=u,s},createPreloadedFile:function(e,t,n,r,i,a,o,s,u,c){var l=t?qe.resolve(Ye.join2(e,t)):e;function d(n){function d(n){c&&c(),s||et.createDataFile(e,t,n,r,i,u),a&&a(),q()}Browser.handledByPreloadPlugin(n,l,d,(function(){o&&o(),q()}))||d(n)}Z(),"string"==typeof n?Qe(n,(function(e){return d(e)}),o):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=et.indexedDB();try{var i=r.open(et.DB_NAME(),et.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){f("creating db"),i.result.createObjectStore(et.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([et.DB_STORE_NAME],"readwrite"),a=r.objectStore(et.DB_STORE_NAME),o=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((function(e){var t=a.put(et.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+s==u&&c()},t.onerror=function(){s++,o+s==u&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=et.indexedDB();try{var i=r.open(et.DB_NAME(),et.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var a=r.transaction([et.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var o=a.objectStore(et.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():n()}e.forEach((function(e){var t=o.get(e);t.onsuccess=function(){et.analyzePath(e).exists&&et.unlink(e),et.createDataFile(Ye.dirname(e),Ye.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=function(){u++,s+u==c&&l()}})),a.onerror=n},i.onerror=n}},tt={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(Ye.isAbs(t))return t;var r;if(r=-100===e?et.cwd():tt.getStreamFromFD(e).path,0==t.length){if(!n)throw new et.ErrnoError(44);return r}return Ye.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Ye.normalize(t)!==Ye.normalize(et.getPath(e.node)))return-54;throw e}return S[n>>2]=r.dev,S[n+8>>2]=r.ino,S[n+12>>2]=r.mode,x[n+16>>2]=r.nlink,S[n+20>>2]=r.uid,S[n+24>>2]=r.gid,S[n+28>>2]=r.rdev,N=[r.size>>>0,(O=r.size,+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[n+40>>2]=N[0],S[n+44>>2]=N[1],S[n+48>>2]=4096,S[n+52>>2]=r.blocks,N=[Math.floor(r.atime.getTime()/1e3)>>>0,(O=Math.floor(r.atime.getTime()/1e3),+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[n+56>>2]=N[0],S[n+60>>2]=N[1],x[n+64>>2]=0,N=[Math.floor(r.mtime.getTime()/1e3)>>>0,(O=Math.floor(r.mtime.getTime()/1e3),+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[n+72>>2]=N[0],S[n+76>>2]=N[1],x[n+80>>2]=0,N=[Math.floor(r.ctime.getTime()/1e3)>>>0,(O=Math.floor(r.ctime.getTime()/1e3),+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[n+88>>2]=N[0],S[n+92>>2]=N[1],x[n+96>>2]=0,N=[r.ino>>>0,(O=r.ino,+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[n+104>>2]=N[0],S[n+108>>2]=N[1],0},doMsync:function(e,t,n,r,i){var a=_.slice(e,e+n);et.msync(t,a,i,n,r)},varargs:void 0,get:function(){return tt.varargs+=4,S[tt.varargs-4>>2]},getStr:function(e){return j(e)},getStreamFromFD:function(e){var t=et.getStream(e);if(!t)throw new et.ErrnoError(8);return t}};function nt(e,t,n){tt.varargs=n;try{var r=tt.getStreamFromFD(e);switch(t){case 0:return(i=tt.get())<0?-28:et.createStream(r,i).fd;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:var i=tt.get();return r.flags|=i,0;case 5:return i=tt.get(),w[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return S[qt()>>2]=28,-1}}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function rt(e,t){try{var n=tt.getStreamFromFD(e);return tt.doStat(et.stat,n.path,t)}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function it(e,t,n){tt.varargs=n;try{var r=tt.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var i=tt.get();return S[i>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return i=tt.get(),et.ioctl(r,t,i);default:return-28}}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function at(e,t){try{return e=tt.getStr(e),tt.doStat(et.lstat,e,t)}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function ot(e,t,n,r){try{t=tt.getStr(t);var i=256&r,a=4096&r;return r&=-4353,t=tt.calculateAt(e,t,a),tt.doStat(i?et.lstat:et.stat,t,n)}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function st(e,t,n,r){tt.varargs=r;try{t=tt.getStr(t),t=tt.calculateAt(e,t);var i=r?tt.get():0;return et.open(t,n,i).fd}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function ut(e,t){try{return e=tt.getStr(e),tt.doStat(et.stat,e,t)}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}nt.sig="iiip",rt.sig="iip",it.sig="iiip",at.sig="ipp",ot.sig="iippi",st.sig="iipip",ut.sig="ipp";var ct=new WebAssembly.Global({value:"i32",mutable:!1},1);i.___table_base=ct;var lt,dt={};function ft(e){var t=M(e)+1,n=tn(t);return P(e,b,n,t),n}function pt(e){var t,n;t=function(){var t=ft(e);$t(t)},n=Qt(),t(),en(n)}function ht(e,t){var n,r=j(e+44),i=S[e+20>>2];n=r,new RegExp("^([a-zA-Z]+:\\/\\/)","i").test(n)||(r=Ye.normalize(r));var a=[],o=function(e){var t=et.findObject(e);return t&&!t.isFolder&&!t.isDevice};if(!o(r))for(var s in dt.LD_LIBRARY_PATH&&(a=dt.LD_LIBRARY_PATH.split(":")),a){var u=Ye.join2(a[s],r);if(o(u)){r=u;break}}var c={global:Boolean(256&i),nodelete:Boolean(4096&i),loadAsync:t.loadAsync,fs:t.fs};if(t.loadAsync)return xe(r,c,e);try{return xe(r,c,e)}catch(e){return pt("Could not load dynamic lib: "+r+"\n"+e),0}}function mt(e){return ht(e,{loadAsync:!1,fs:et})}function vt(e,t){var n;if(t=j(t),0==e){if(!(n=_e(t,!0)))return pt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: RTLD_DEFAULT'),0}else{var r=se.loadedLibsByHandle[e];if(!r.module.hasOwnProperty(t))return pt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: '+r.name),0;(n=r.module["orig$"+t])||(n=r.module[t])}return"function"==typeof n&&(n=ke(n,n.sig)),n}function gt(){return Date.now()}function yt(e){if(!E)try{e()}catch(e){ie(e)}}function kt(e,t,n){function r(t){pt("Could not load dynamic lib: "+j(x[e+44>>2])+"\n"+t),yt((function(){ce(n)(e)}))}var i=ht(e,{loadAsync:!0});i?i.then((function(){yt((function(){ce(t)(e)}))}),r):r()}function bt(e,t,n,r,i,a){try{var o=tt.getStreamFromFD(r),s=et.mmap(o,e,i,t,n),u=s.ptr;return S[a>>2]=s.allocated,u}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function _t(e,t,n,r,i,a){try{var o=tt.getStreamFromFD(i);2&n&&tt.doMsync(e,o,t,r,a),et.munmap(o)}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return-e.errno}}function wt(){$("")}function St(){return 2147483648}function xt(e,t,n){_.copyWithin(e,t,t+n)}function Et(e){try{return v.grow(e-k.byteLength+65535>>>16),I(v.buffer),1}catch(e){}}function Tt(e){var t,n=_.length,r=2147483648;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=n*(1+.2/i);if(a=Math.min(a,e+100663296),Et(Math.min(r,(t=Math.max(e,a))+(65536-t%65536)%65536)))return!0}return!1}function Ct(){if(!Ct.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in dt)void 0===dt[t]?delete e[t]:e[t]=dt[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Ct.strings=n}return Ct.strings}function jt(e,t){var n=0;return Ct().forEach((function(r,i){var a=t+n;x[e+4*i>>2]=a,function(e,t,n){for(var r=0;r<e.length;++r)b[t++>>0]=e.charCodeAt(r);b[t>>0]=0}(r,a),n+=r.length+1})),0}function Pt(e,t){var n=Ct();x[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),x[t>>2]=r,0}function Mt(e){try{var t=tt.getStreamFromFD(e);return et.close(t),0}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return e.errno}}function It(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=x[t>>2],s=x[t+4>>2];t+=8;var u=et.read(e,b,o,s,void 0);if(u<0)return-1;if(i+=u,u<s)break}return i}(tt.getStreamFromFD(e),t,n);return x[r>>2]=i,0}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return e.errno}}function Rt(e,t,n,r,i){try{var a=(u=n)+2097152>>>0<4194305-!!(s=t)?(s>>>0)+4294967296*u:NaN;if(isNaN(a))return 61;var o=tt.getStreamFromFD(e);return et.llseek(o,a,r),N=[o.position>>>0,(O=o.position,+Math.abs(O)>=1?O>0?(0|Math.min(+Math.floor(O/4294967296),4294967295))>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)],S[i>>2]=N[0],S[i+4>>2]=N[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return e.errno}var s,u}function At(e,t,n,r){try{var i=function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=x[t>>2],s=x[t+4>>2];t+=8;var u=et.write(e,b,o,s,void 0);if(u<0)return-1;i+=u}return i}(tt.getStreamFromFD(e),t,n);return x[r>>2]=i,0}catch(e){if(void 0===et||!(e instanceof et.ErrnoError))throw e;return e.errno}}function Dt(e,t){Dt.randomDevice||(Dt.randomDevice=Ze());for(var n=0;n<t;n++)b[e+n>>0]=Dt.randomDevice();return 0}function Ot(e){return e}function Nt(e){y=e,g||(i.onExit&&i.onExit(e),E=!0),l(e,new J(e))}function Lt(e){return e%4==0&&(e%100!=0||e%400==0)}mt.sig="iiii",vt.sig="iii",gt.sig="j",kt.sig="viiiii",bt.sig="ppiiipp",_t.sig="vppiiip",i._abort=wt,wt.sig="v",St.sig="p",lt=function(){return performance.now()},i._emscripten_get_now=lt,lt.sig="d",xt.sig="vppp",Tt.sig="ip",jt.sig="ipp",Pt.sig="ipp",Mt.sig="ii",It.sig="iippp",Rt.sig="iijip",At.sig="iippp",Dt.sig="ipp",Ot.sig="ip",Nt.sig="vi";var Ft=[31,29,31,30,31,30,31,31,30,31,30,31],zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ut(e,t,n,r){var i=S[r+40>>2],a={tm_sec:S[r>>2],tm_min:S[r+4>>2],tm_hour:S[r+8>>2],tm_mday:S[r+12>>2],tm_mon:S[r+16>>2],tm_year:S[r+20>>2],tm_wday:S[r+24>>2],tm_yday:S[r+28>>2],tm_isdst:S[r+32>>2],tm_gmtoff:S[r+36>>2],tm_zone:i?j(i):""},o=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)o=o.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function f(e,t){return d(e,t,"0")}function p(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Lt(n.getFullYear()),i=n.getMonth(),a=(r?Ft:zt)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=h(n),a=h(r);return p(i,t)<=0?p(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var v={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Lt(e.tm_year+1900)?Ft:zt,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Lt(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Lt(e.tm_year%400-1))&&t++}return f(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in o=o.replace(/%%/g,"\0\0"),v)o.includes(u)&&(o=o.replace(new RegExp(u,"g"),v[u](a)));var g=$e(o=o.replace(/\0\0/g,"%"),!1);return g.length>t?0:(Te(g,e),g.length-1)}function Vt(e){return i["_"+e]}function Bt(e,t,n,r,i){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){P(e,_,t,n)}(e,t=tn(n),n)}return t},array:function(e){var t=tn(e.length);return Te(e,t),t}},o=Vt(e),s=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=a[n[c]];l?(0===u&&(u=Qt()),s[c]=l(r[c])):s[c]=r[c]}return function(e){return 0!==u&&en(u),function(e){return"string"===t?j(e):"boolean"===t?Boolean(e):e}(e)}(o.apply(null,s))}Ut.sig="ppppp","undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Wt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=et.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(Wt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return et.isDir(this.mode)}},isDevice:{get:function(){return et.isChrdev(this.mode)}}}),et.FSNode=Wt,et.staticInit();var Gt,Ht={__cxa_allocate_exception:Ce,__cxa_begin_catch:Ie,__cxa_decrement_exception_refcount:Oe,__cxa_end_catch:Le,__cxa_find_matching_catch_2:ze,__cxa_find_matching_catch_3:Ue,__cxa_free_exception:Ae,__cxa_increment_exception_refcount:Ve,__cxa_rethrow:Be,__cxa_rethrow_primary_exception:function(e){if(e){var t=new Re(e);je.push(t),t.set_rethrown(!0),Be()}},__cxa_throw:We,__cxa_uncaught_exceptions:function(){return Me},__heap_base:de,__indirect_function_table:L,__memory_base:Ge,__resumeException:Fe,__stack_pointer:He,__syscall_fcntl64:nt,__syscall_fstat64:rt,__syscall_ioctl:it,__syscall_lstat64:at,__syscall_newfstatat:ot,__syscall_openat:st,__syscall_stat64:ut,__table_base:ct,_dlinit:function(e){var t={refcount:1/0,name:"__main__",module:i.asm,global:!0};se.loadedLibsByName[t.name]=t,se.loadedLibsByHandle[e]=t},_dlopen_js:mt,_dlsym_js:vt,_emscripten_date_now:gt,_emscripten_dlopen_js:kt,_emscripten_get_now_is_monotonic:function(){return!0},_mmap_js:bt,_munmap_js:_t,abort:wt,emscripten_get_heap_max:St,emscripten_get_now:lt,emscripten_memcpy_big:xt,emscripten_resize_heap:Tt,environ_get:jt,environ_sizes_get:Pt,fd_close:Mt,fd_read:It,fd_seek:Rt,fd_write:At,getentropy:Dt,invoke_diii:function(e,t,n,r){var i=Qt();try{return ce(e)(t,n,r)}catch(e){if(en(i),e!==e+0)throw e;Xt(1,0)}},invoke_fiii:function(e,t,n,r){var i=Qt();try{return ce(e)(t,n,r)}catch(e){if(en(i),e!==e+0)throw e;Xt(1,0)}},invoke_i:function(e){var t=Qt();try{return ce(e)()}catch(e){if(en(t),e!==e+0)throw e;Xt(1,0)}},invoke_ii:function(e,t){var n=Qt();try{return ce(e)(t)}catch(e){if(en(n),e!==e+0)throw e;Xt(1,0)}},invoke_iii:function(e,t,n){var r=Qt();try{return ce(e)(t,n)}catch(e){if(en(r),e!==e+0)throw e;Xt(1,0)}},invoke_iiii:function(e,t,n,r){var i=Qt();try{return ce(e)(t,n,r)}catch(e){if(en(i),e!==e+0)throw e;Xt(1,0)}},invoke_iiiii:function(e,t,n,r,i){var a=Qt();try{return ce(e)(t,n,r,i)}catch(e){if(en(a),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiii:function(e,t,n,r,i,a){var o=Qt();try{return ce(e)(t,n,r,i,a)}catch(e){if(en(o),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,a,o){var s=Qt();try{return ce(e)(t,n,r,i,a,o)}catch(e){if(en(s),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiiiii:function(e,t,n,r,i,a,o,s){var u=Qt();try{return ce(e)(t,n,r,i,a,o,s)}catch(e){if(en(u),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var d=Qt();try{return ce(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(en(d),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d){var f=Qt();try{return ce(e)(t,n,r,i,a,o,s,u,c,l,d)}catch(e){if(en(f),e!==e+0)throw e;Xt(1,0)}},invoke_iiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d,f){var p=Qt();try{return ce(e)(t,n,r,i,a,o,s,u,c,l,d,f)}catch(e){if(en(p),e!==e+0)throw e;Xt(1,0)}},invoke_j:function(e){var t=Qt();try{return i.dynCall_j(e)}catch(e){if(en(t),e!==e+0)throw e;Xt(1,0)}},invoke_jiiii:function(e,t,n,r,a){var o=Qt();try{return i.dynCall_jiiii(e,t,n,r,a)}catch(e){if(en(o),e!==e+0)throw e;Xt(1,0)}},invoke_v:function(e){var t=Qt();try{ce(e)()}catch(e){if(en(t),e!==e+0)throw e;Xt(1,0)}},invoke_vi:function(e,t){var n=Qt();try{ce(e)(t)}catch(e){if(en(n),e!==e+0)throw e;Xt(1,0)}},invoke_vidi:function(e,t,n,r){var i=Qt();try{ce(e)(t,n,r)}catch(e){if(en(i),e!==e+0)throw e;Xt(1,0)}},invoke_vii:function(e,t,n){var r=Qt();try{ce(e)(t,n)}catch(e){if(en(r),e!==e+0)throw e;Xt(1,0)}},invoke_viii:function(e,t,n,r){var i=Qt();try{ce(e)(t,n,r)}catch(e){if(en(i),e!==e+0)throw e;Xt(1,0)}},invoke_viiii:function(e,t,n,r,i){var a=Qt();try{ce(e)(t,n,r,i)}catch(e){if(en(a),e!==e+0)throw e;Xt(1,0)}},invoke_viiiii:function(e,t,n,r,i,a){var o=Qt();try{ce(e)(t,n,r,i,a)}catch(e){if(en(o),e!==e+0)throw e;Xt(1,0)}},invoke_viiiiii:function(e,t,n,r,i,a,o){var s=Qt();try{ce(e)(t,n,r,i,a,o)}catch(e){if(en(s),e!==e+0)throw e;Xt(1,0)}},invoke_viiiiiii:function(e,t,n,r,i,a,o,s){var u=Qt();try{ce(e)(t,n,r,i,a,o,s)}catch(e){if(en(u),e!==e+0)throw e;Xt(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var d=Qt();try{ce(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(en(d),e!==e+0)throw e;Xt(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,d,f,p,h,m){var v=Qt();try{ce(e)(t,n,r,i,a,o,s,u,c,l,d,f,p,h,m)}catch(e){if(en(v),e!==e+0)throw e;Xt(1,0)}},llvm_eh_typeid_for:Ot,memory:v,proc_exit:Nt,strftime_l:function(e,t,n,r){return Ut(e,t,n,r)}},Yt=(function(){var e={env:Ht,wasi_snapshot_preview1:Ht,"GOT.mem":new Proxy(Ht,te),"GOT.func":new Proxy(Ht,te)};function t(e,t){var n=e.exports;n=be(n,1024),i.asm=n;var r,a=re(t);a.neededDynlibs&&(m=a.neededDynlibs.concat(m)),oe(n),r=i.asm.__wasm_call_ctors,z.unshift(r),B.push(i.asm.__wasm_apply_data_relocs),q()}function n(e){t(e.instance,e.module)}function a(t){return(h||"function"!=typeof fetch?Promise.resolve().then((function(){return X(A)})):fetch(A,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+A+"'";return e.arrayBuffer()})).catch((function(){return X(A)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),$(e)}))}if(Z(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e),!1}(h||"function"!=typeof WebAssembly.instantiateStreaming||K(A)||"function"!=typeof fetch?a(n):fetch(A,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(r)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i.___wasm_apply_data_relocs=function(){return(i.___wasm_apply_data_relocs=i.asm.__wasm_apply_data_relocs).apply(null,arguments)},i._strlen=function(){return(i._strlen=i.asm.strlen).apply(null,arguments)},i.__Znwm=function(){return(i.__Znwm=i.asm._Znwm).apply(null,arguments)},i._memcpy=function(){return(i._memcpy=i.asm.memcpy).apply(null,arguments)},i.__ZdlPv=function(){return(i.__ZdlPv=i.asm._ZdlPv).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm).apply(null,arguments)},i.getTempRet0=function(){return(i.getTempRet0=i.asm.getTempRet0).apply(null,arguments)},i._dlsym=function(){return(i._dlsym=i.asm.dlsym).apply(null,arguments)},i.__ZSt9terminatev=function(){return(i.__ZSt9terminatev=i.asm._ZSt9terminatev).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc).apply(null,arguments)},i.__ZNSt3__217bad_function_callD1Ev=function(){return(i.__ZNSt3__217bad_function_callD1Ev=i.asm._ZNSt3__217bad_function_callD1Ev).apply(null,arguments)},i.__ZNSt12length_errorD1Ev=function(){return(i.__ZNSt12length_errorD1Ev=i.asm._ZNSt12length_errorD1Ev).apply(null,arguments)},i.__ZNSt11logic_errorC2EPKc=function(){return(i.__ZNSt11logic_errorC2EPKc=i.asm._ZNSt11logic_errorC2EPKc).apply(null,arguments)},i._getModelBufferMemoryOffset=function(){return(i._getModelBufferMemoryOffset=i.asm.getModelBufferMemoryOffset).apply(null,arguments)},i._getNumFaces=function(){return(i._getNumFaces=i.asm.getNumFaces).apply(null,arguments)},i._getInputMemoryOffset=function(){return(i._getInputMemoryOffset=i.asm.getInputMemoryOffset).apply(null,arguments)},i._getInputName=function(){return(i._getInputName=i.asm.getInputName).apply(null,arguments)},i._getInputHeight=function(){return(i._getInputHeight=i.asm.getInputHeight).apply(null,arguments)},i._getInputWidth=function(){return(i._getInputWidth=i.asm.getInputWidth).apply(null,arguments)},i._getInputChannelCount=function(){return(i._getInputChannelCount=i.asm.getInputChannelCount).apply(null,arguments)},i._getOutputMemoryOffset=function(){return(i._getOutputMemoryOffset=i.asm.getOutputMemoryOffset).apply(null,arguments)},i._iprintf=function(){return(i._iprintf=i.asm.iprintf).apply(null,arguments)},i._getOutputHeight=function(){return(i._getOutputHeight=i.asm.getOutputHeight).apply(null,arguments)},i._getOutputName=function(){return(i._getOutputName=i.asm.getOutputName).apply(null,arguments)},i._getOutputWidth=function(){return(i._getOutputWidth=i.asm.getOutputWidth).apply(null,arguments)},i._getOutputChannelCount=function(){return(i._getOutputChannelCount=i.asm.getOutputChannelCount).apply(null,arguments)},i._getFrameTLx=function(){return(i._getFrameTLx=i.asm.getFrameTLx).apply(null,arguments)},i._getFrameTLy=function(){return(i._getFrameTLy=i.asm.getFrameTLy).apply(null,arguments)},i._getFrameWidth=function(){return(i._getFrameWidth=i.asm.getFrameWidth).apply(null,arguments)},i._getFrameHeight=function(){return(i._getFrameHeight=i.asm.getFrameHeight).apply(null,arguments)},i._getLargestFaceTLx=function(){return(i._getLargestFaceTLx=i.asm.getLargestFaceTLx).apply(null,arguments)},i._getLargestFaceTLy=function(){return(i._getLargestFaceTLy=i.asm.getLargestFaceTLy).apply(null,arguments)},i._getLargestFaceWidth=function(){return(i._getLargestFaceWidth=i.asm.getLargestFaceWidth).apply(null,arguments)},i._getLargestFaceHeight=function(){return(i._getLargestFaceHeight=i.asm.getLargestFaceHeight).apply(null,arguments)},i._getFaceEnhanceSatBoost=function(){return(i._getFaceEnhanceSatBoost=i.asm.getFaceEnhanceSatBoost).apply(null,arguments)},i._getFaceEnhanceCurvePoly=function(){return(i._getFaceEnhanceCurvePoly=i.asm.getFaceEnhanceCurvePoly).apply(null,arguments)},i._loadModel=function(){return(i._loadModel=i.asm.loadModel).apply(null,arguments)},i._malloc=function(){return(Yt=i._malloc=i.asm.malloc).apply(null,arguments)}),Zt=(i.__ZNSt3__29to_stringEi=function(){return(i.__ZNSt3__29to_stringEi=i.asm._ZNSt3__29to_stringEi).apply(null,arguments)},i._free=function(){return(Zt=i._free=i.asm.free).apply(null,arguments)}),qt=(i._fiprintf=function(){return(i._fiprintf=i.asm.fiprintf).apply(null,arguments)},i._loadTfliteAsynchronously=function(){return(i._loadTfliteAsynchronously=i.asm.loadTfliteAsynchronously).apply(null,arguments)},i._memset=function(){return(i._memset=i.asm.memset).apply(null,arguments)},i._infer=function(){return(i._infer=i.asm.infer).apply(null,arguments)},i.___cxa_atexit=function(){return(i.___cxa_atexit=i.asm.__cxa_atexit).apply(null,arguments)},i._puts=function(){return(i._puts=i.asm.puts).apply(null,arguments)},i._memcmp=function(){return(i._memcmp=i.asm.memcmp).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm).apply(null,arguments)},i.__ZNSt3__212__next_primeEm=function(){return(i.__ZNSt3__212__next_primeEm=i.asm._ZNSt3__212__next_primeEm).apply(null,arguments)},i.__ZNSt20bad_array_new_lengthD1Ev=function(){return(i.__ZNSt20bad_array_new_lengthD1Ev=i.asm._ZNSt20bad_array_new_lengthD1Ev).apply(null,arguments)},i.__ZNSt20bad_array_new_lengthC1Ev=function(){return(i.__ZNSt20bad_array_new_lengthC1Ev=i.asm._ZNSt20bad_array_new_lengthC1Ev).apply(null,arguments)},i.___small_printf=function(){return(i.___small_printf=i.asm.__small_printf).apply(null,arguments)},i._putchar=function(){return(i._putchar=i.asm.putchar).apply(null,arguments)},i._lrintf=function(){return(i._lrintf=i.asm.lrintf).apply(null,arguments)},i.__ZNSt3__26chrono12steady_clock3nowEv=function(){return(i.__ZNSt3__26chrono12steady_clock3nowEv=i.asm._ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},i.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=function(){return(i.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=i.asm._ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi).apply(null,arguments)},i._memchr=function(){return(i._memchr=i.asm.memchr).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm).apply(null,arguments)},i._memmove=function(){return(i._memmove=i.asm.memmove).apply(null,arguments)},i.__Znam=function(){return(i.__Znam=i.asm._Znam).apply(null,arguments)},i.__ZdaPv=function(){return(i.__ZdaPv=i.asm._ZdaPv).apply(null,arguments)},i._posix_memalign=function(){return(i._posix_memalign=i.asm.posix_memalign).apply(null,arguments)},i.__ZNSt3__219__shared_weak_count14__release_weakEv=function(){return(i.__ZNSt3__219__shared_weak_count14__release_weakEv=i.asm._ZNSt3__219__shared_weak_count14__release_weakEv).apply(null,arguments)},i._cos=function(){return(i._cos=i.asm.cos).apply(null,arguments)},i._pow=function(){return(i._pow=i.asm.pow).apply(null,arguments)},i._atan2f=function(){return(i._atan2f=i.asm.atan2f).apply(null,arguments)},i._expf=function(){return(i._expf=i.asm.expf).apply(null,arguments)},i._exp=function(){return(i._exp=i.asm.exp).apply(null,arguments)},i._logf=function(){return(i._logf=i.asm.logf).apply(null,arguments)},i._log=function(){return(i._log=i.asm.log).apply(null,arguments)},i.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=function(){return(i.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=i.asm._ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_).apply(null,arguments)},i.__ZNSt3__219__shared_weak_countD2Ev=function(){return(i.__ZNSt3__219__shared_weak_countD2Ev=i.asm._ZNSt3__219__shared_weak_countD2Ev).apply(null,arguments)},i.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=function(){return(i.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=i.asm._ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info).apply(null,arguments)},i._sysconf=function(){return(i._sysconf=i.asm.sysconf).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_mmRKS4_).apply(null,arguments)},i.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm=function(){return(i.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm=i.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7compareEmmPKcm).apply(null,arguments)},i._fopen=function(){return(i._fopen=i.asm.fopen).apply(null,arguments)},i._strncmp=function(){return(i._strncmp=i.asm.strncmp).apply(null,arguments)},i._fputc=function(){return(i._fputc=i.asm.fputc).apply(null,arguments)},i._strcmp=function(){return(i._strcmp=i.asm.strcmp).apply(null,arguments)},i.__ZNSt12out_of_rangeD1Ev=function(){return(i.__ZNSt12out_of_rangeD1Ev=i.asm._ZNSt12out_of_rangeD1Ev).apply(null,arguments)},i._fclose=function(){return(i._fclose=i.asm.fclose).apply(null,arguments)},i._strtod=function(){return(i._strtod=i.asm.strtod).apply(null,arguments)},i._isspace=function(){return(i._isspace=i.asm.isspace).apply(null,arguments)},i._getenv=function(){return(i._getenv=i.asm.getenv).apply(null,arguments)},i._vsnprintf=function(){return(i._vsnprintf=i.asm.vsnprintf).apply(null,arguments)},i._fwrite=function(){return(i._fwrite=i.asm.fwrite).apply(null,arguments)},i._pthread_setspecific=function(){return(i._pthread_setspecific=i.asm.pthread_setspecific).apply(null,arguments)},i.__ZNSt3__25mutex4lockEv=function(){return(i.__ZNSt3__25mutex4lockEv=i.asm._ZNSt3__25mutex4lockEv).apply(null,arguments)},i.__ZNSt3__25mutex6unlockEv=function(){return(i.__ZNSt3__25mutex6unlockEv=i.asm._ZNSt3__25mutex6unlockEv).apply(null,arguments)},i.__ZNSt3__25mutexD1Ev=function(){return(i.__ZNSt3__25mutexD1Ev=i.asm._ZNSt3__25mutexD1Ev).apply(null,arguments)},i._sin=function(){return(i._sin=i.asm.sin).apply(null,arguments)},i._atan2=function(){return(i._atan2=i.asm.atan2).apply(null,arguments)},i._snprintf=function(){return(i._snprintf=i.asm.snprintf).apply(null,arguments)},i._open=function(){return(i._open=i.asm.open).apply(null,arguments)},i.___errno_location=function(){return(qt=i.___errno_location=i.asm.__errno_location).apply(null,arguments)}),$t=(i._close=function(){return(i._close=i.asm.close).apply(null,arguments)},i._write=function(){return(i._write=i.asm.write).apply(null,arguments)},i._vfprintf=function(){return(i._vfprintf=i.asm.vfprintf).apply(null,arguments)},i.__exit=function(){return(i.__exit=i.asm._exit).apply(null,arguments)},i._aligned_alloc=function(){return(i._aligned_alloc=i.asm.aligned_alloc).apply(null,arguments)},i._bsearch=function(){return(i._bsearch=i.asm.bsearch).apply(null,arguments)},i._cosf=function(){return(i._cosf=i.asm.cosf).apply(null,arguments)},i.___dl_seterr=function(){return($t=i.___dl_seterr=i.asm.__dl_seterr).apply(null,arguments)}),Kt=(i._dlopen=function(){return(i._dlopen=i.asm.dlopen).apply(null,arguments)},i._calloc=function(){return(i._calloc=i.asm.calloc).apply(null,arguments)},i._erf=function(){return(i._erf=i.asm.erf).apply(null,arguments)},i._expm1f=function(){return(i._expm1f=i.asm.expm1f).apply(null,arguments)},i._fileno=function(){return(i._fileno=i.asm.fileno).apply(null,arguments)},i._fmaxf=function(){return(i._fmaxf=i.asm.fmaxf).apply(null,arguments)},i._fminf=function(){return(i._fminf=i.asm.fminf).apply(null,arguments)},i._fmodf=function(){return(i._fmodf=i.asm.fmodf).apply(null,arguments)},i._fread=function(){return(i._fread=i.asm.fread).apply(null,arguments)},i._frexp=function(){return(i._frexp=i.asm.frexp).apply(null,arguments)},i._fstat=function(){return(i._fstat=i.asm.fstat).apply(null,arguments)},i._hypot=function(){return(i._hypot=i.asm.hypot).apply(null,arguments)},i._hypotf=function(){return(i._hypotf=i.asm.hypotf).apply(null,arguments)},i._ldexp=function(){return(i._ldexp=i.asm.ldexp).apply(null,arguments)},i._emscripten_num_logical_cores=function(){return(i._emscripten_num_logical_cores=i.asm.emscripten_num_logical_cores).apply(null,arguments)},i._pthread_mutex_init=function(){return(i._pthread_mutex_init=i.asm.pthread_mutex_init).apply(null,arguments)},i._pthread_mutex_destroy=function(){return(i._pthread_mutex_destroy=i.asm.pthread_mutex_destroy).apply(null,arguments)},i._pthread_cond_wait=function(){return(i._pthread_cond_wait=i.asm.pthread_cond_wait).apply(null,arguments)},i._pthread_cond_broadcast=function(){return(i._pthread_cond_broadcast=i.asm.pthread_cond_broadcast).apply(null,arguments)},i._pthread_cond_init=function(){return(i._pthread_cond_init=i.asm.pthread_cond_init).apply(null,arguments)},i._pthread_cond_destroy=function(){return(i._pthread_cond_destroy=i.asm.pthread_cond_destroy).apply(null,arguments)},i._pthread_mutex_lock=function(){return(i._pthread_mutex_lock=i.asm.pthread_mutex_lock).apply(null,arguments)},i._pthread_mutex_unlock=function(){return(i._pthread_mutex_unlock=i.asm.pthread_mutex_unlock).apply(null,arguments)},i._pthread_create=function(){return(i._pthread_create=i.asm.pthread_create).apply(null,arguments)},i._pthread_join=function(){return(i._pthread_join=i.asm.pthread_join).apply(null,arguments)},i._pthread_once=function(){return(i._pthread_once=i.asm.pthread_once).apply(null,arguments)},i._log1p=function(){return(i._log1p=i.asm.log1p).apply(null,arguments)},i._mmap=function(){return(i._mmap=i.asm.mmap).apply(null,arguments)},i._munmap=function(){return(i._munmap=i.asm.munmap).apply(null,arguments)},i._nanf=function(){return(i._nanf=i.asm.nanf).apply(null,arguments)},i._powf=function(){return(i._powf=i.asm.powf).apply(null,arguments)},i._pthread_self=function(){return(i._pthread_self=i.asm.pthread_self).apply(null,arguments)},i._qsort=function(){return(i._qsort=i.asm.qsort).apply(null,arguments)},i._round=function(){return(i._round=i.asm.round).apply(null,arguments)},i._roundf=function(){return(i._roundf=i.asm.roundf).apply(null,arguments)},i._sinf=function(){return(i._sinf=i.asm.sinf).apply(null,arguments)},i._strtoull=function(){return(i._strtoull=i.asm.strtoull).apply(null,arguments)},i._strtoll=function(){return(i._strtoll=i.asm.strtoll).apply(null,arguments)},i._tanhf=function(){return(i._tanhf=i.asm.tanhf).apply(null,arguments)},i._realloc=function(){return(i._realloc=i.asm.realloc).apply(null,arguments)},i._emscripten_builtin_memalign=function(){return(Kt=i._emscripten_builtin_memalign=i.asm.emscripten_builtin_memalign).apply(null,arguments)}),Xt=i._setThrew=function(){return(Xt=i._setThrew=i.asm.setThrew).apply(null,arguments)},Jt=i.setTempRet0=function(){return(Jt=i.setTempRet0=i.asm.setTempRet0).apply(null,arguments)},Qt=i.stackSave=function(){return(Qt=i.stackSave=i.asm.stackSave).apply(null,arguments)},en=i.stackRestore=function(){return(en=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},tn=i.stackAlloc=function(){return(tn=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.__ZNSt3__220__throw_system_errorEiPKc=function(){return(i.__ZNSt3__220__throw_system_errorEiPKc=i.asm._ZNSt3__220__throw_system_errorEiPKc).apply(null,arguments)},i.__ZNSt3__218condition_variable10notify_oneEv=function(){return(i.__ZNSt3__218condition_variable10notify_oneEv=i.asm._ZNSt3__218condition_variable10notify_oneEv).apply(null,arguments)},i.__ZNSt3__218condition_variable10notify_allEv=function(){return(i.__ZNSt3__218condition_variable10notify_allEv=i.asm._ZNSt3__218condition_variable10notify_allEv).apply(null,arguments)},i.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=function(){return(i.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=i.asm._ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE).apply(null,arguments)},i.__ZNSt3__218condition_variableD1Ev=function(){return(i.__ZNSt3__218condition_variableD1Ev=i.asm._ZNSt3__218condition_variableD1Ev).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm).apply(null,arguments)},i.__ZNSt3__219__thread_local_dataEv=function(){return(i.__ZNSt3__219__thread_local_dataEv=i.asm._ZNSt3__219__thread_local_dataEv).apply(null,arguments)},i.__ZNSt3__215__thread_structC1Ev=function(){return(i.__ZNSt3__215__thread_structC1Ev=i.asm._ZNSt3__215__thread_structC1Ev).apply(null,arguments)},i.__ZNSt9bad_allocD1Ev=function(){return(i.__ZNSt9bad_allocD1Ev=i.asm._ZNSt9bad_allocD1Ev).apply(null,arguments)},i.__ZNSt9bad_allocC1Ev=function(){return(i.__ZNSt9bad_allocC1Ev=i.asm._ZNSt9bad_allocC1Ev).apply(null,arguments)},i.__ZnwmRKSt9nothrow_t=function(){return(i.__ZnwmRKSt9nothrow_t=i.asm._ZnwmRKSt9nothrow_t).apply(null,arguments)},i.__ZNSt3__213random_deviceclEv=function(){return(i.__ZNSt3__213random_deviceclEv=i.asm._ZNSt3__213random_deviceclEv).apply(null,arguments)},i.__ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(i.__ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=i.asm._ZNSt3__213random_deviceC1ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE).apply(null,arguments)},i.__ZNSt3__213random_deviceD1Ev=function(){return(i.__ZNSt3__213random_deviceD1Ev=i.asm._ZNSt3__213random_deviceD1Ev).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc).apply(null,arguments)},i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=function(){return(i.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=i.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm).apply(null,arguments)},i.__ZNSt3__29to_stringEm=function(){return(i.__ZNSt3__29to_stringEm=i.asm._ZNSt3__29to_stringEm).apply(null,arguments)},i.__ZNSt3__26thread4joinEv=function(){return(i.__ZNSt3__26thread4joinEv=i.asm._ZNSt3__26thread4joinEv).apply(null,arguments)},i.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=function(){return(i.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=i.asm._ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE).apply(null,arguments)},i.__ZNSt3__215__thread_structD1Ev=function(){return(i.__ZNSt3__215__thread_structD1Ev=i.asm._ZNSt3__215__thread_structD1Ev).apply(null,arguments)},i.__ZNSt3__26threadD1Ev=function(){return(i.__ZNSt3__26threadD1Ev=i.asm._ZNSt3__26threadD1Ev).apply(null,arguments)},i.___cxa_can_catch=function(){return(i.___cxa_can_catch=i.asm.__cxa_can_catch).apply(null,arguments)},i.___cxa_is_pointer_type=function(){return(i.___cxa_is_pointer_type=i.asm.__cxa_is_pointer_type).apply(null,arguments)},i.dynCall_ji=function(){return(i.dynCall_ji=i.asm.dynCall_ji).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_j=function(){return(i.dynCall_j=i.asm.dynCall_j).apply(null,arguments)},i.dynCall_viijii=function(){return(i.dynCall_viijii=i.asm.dynCall_viijii).apply(null,arguments)},i.dynCall_jiiii=function(){return(i.dynCall_jiiii=i.asm.dynCall_jiiii).apply(null,arguments)},i.dynCall_iiiiij=function(){return(i.dynCall_iiiiij=i.asm.dynCall_iiiiij).apply(null,arguments)},i.dynCall_iiiiijj=function(){return(i.dynCall_iiiiijj=i.asm.dynCall_iiiiijj).apply(null,arguments)},i.dynCall_iiiiiijj=function(){return(i.dynCall_iiiiiijj=i.asm.dynCall_iiiiiijj).apply(null,arguments)},i._orig$_ZNSt3__26chrono12steady_clock3nowEv=function(){return(i._orig$_ZNSt3__26chrono12steady_clock3nowEv=i.asm.orig$_ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},i._orig$mmap=function(){return(i._orig$mmap=i.asm.orig$mmap).apply(null,arguments)},i._orig$strtoull=function(){return(i._orig$strtoull=i.asm.orig$strtoull).apply(null,arguments)},i._orig$strtoll=function(){return(i._orig$strtoll=i.asm.orig$strtoll).apply(null,arguments)},i.___THREW__=645276,i.__ZTVNSt3__217bad_function_callE=82860,i.__ZTVSt12length_error=88108,i.__ZTVN10__cxxabiv120__si_class_type_infoE=87800,i.__ZTVN10__cxxabiv117__class_type_infoE=87760,i._stderr=82552,i.__ZTVSt12out_of_range=88140,i.__ZSt7nothrow=73011,i.UTF8ToString=j,i.cwrap=function(e,t,n,r){var i=(n=n||[]).every((function(e){return"number"===e||"boolean"===e}));return"string"!==t&&i&&!r?Vt(e):function(){return Bt(e,t,n,arguments)}},i.addFunction=ke,Y=function e(){Gt||rn(),Gt||(Y=e)};var nn=!1;function rn(e){function t(){Gt||(Gt=!0,i.calledRun=!0,E||(W=!0,ne(B),i.noFSInit||et.init.initialized||et.init(),et.ignorePermissions=!1,Ke.init(),ne(z),ne(U),n(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),an&&function(e){var t=i._main;if(t){(e=e||[]).unshift(c);var n,r=e.length,a=tn(4*(r+1)),o=a>>2;e.forEach((function(e){S[o++]=ft(e)})),S[o]=0;try{var s=t(r,a);y=n=s,Nt(n)}catch(e){return ie(e)}}}(e),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),V.unshift(e);var e;ne(V)}()))}e=e||u,G>0||!nn&&(m.length?(Z(),m.reduce((function(e,t){return e.then((function(){return xe(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Ee(),q()}))):Ee(),nn=!0,G>0)||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),F.unshift(e);var e;ne(F)}(),G>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var an=!0;return i.noInitialRun&&(an=!1),rn(),e.ready});e.exports=n}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{VSLError:function(){return u},VideoFilter:function(){return m},VideoFilterError:function(){return c}});var e=n(276),t=n.n(e),i="vsl_impl.bin",o="vsl_impl.wasm",s="dvdnr.wasm",u=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,{cause:r})).name="VSLError",i}return g(n)}(_(Error)),c=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,{cause:r})).name="VideoFilterError",i}return g(n)}(u);function l(e,t,n,r,i,a,o,s){return d.apply(this,arguments)}function d(){return d=v(p().mark((function e(t,n,r,i,a,o,s,u){var c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.createBuffer(),t.bindBuffer(t.PIXEL_PACK_BUFFER,c),t.bufferData(t.PIXEL_PACK_BUFFER,u.byteLength,t.STREAM_READ),t.readPixels(n,r,i,a,o,s,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),e.next=7,function(){var e=v(p().mark((function e(t,n,r,i,a,o,s){var u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0),t.flush(),e.next=4,function(e,t,n,r){return new Promise((function(n,r){!function i(){var a=e.clientWaitSync(t,0,0);a!==e.WAIT_FAILED?a!==e.TIMEOUT_EXPIRED?n():setTimeout(i,5):r()}()}))}(t,u);case 4:t.deleteSync(u),t.bindBuffer(n,r),t.getBufferSubData(n,0,a,void 0,void 0),t.bindBuffer(n,null);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}()(t,t.PIXEL_PACK_BUFFER,c,0,u);case 7:return t.deleteBuffer(c),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.initDone_=!1,this.imgLogList_=[],this.fps_=30,this.frameSubSample_=15,this.setLogDurationSec(3),this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),this.init(t),this.backgroundRed_=0,this.backgroundBlue_=0,this.backgroundGreen_=0,this.textureInit_=!1,this.uploadBackground_=!1,this.updateBackgroundColor_=!1,this.initBackgroundColorDone_=!1,this.isVideoBackground_=!1,this.isVideoPause_=!1,this.isBokeh_=!0,this.backgroundImageBitmap_=null,this.initDone_=!0,this.debug_=!1,this.flags_=n}return g(e,[{key:"setDebug",value:function(e){this.debug_=e}},{key:"setSaturation",value:function(e){this.gl_.uniform1f(this.satAdjust_,e)}},{key:"setToneMapPoly",value:function(e,t,n){this.gl_.uniform3f(this.toneMapPoly_,e,t,n)}},{key:"setLogDurationSec",value:function(e){this.logDurationSec_=e,this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),!0===this.debug_&&console.debug("[Segmentation: setLogDurationSec]: duration =",e,"sec")}},{key:"setStudioLightMode",value:function(e){!0===e?this.gl_.uniform1i(this.studioLightEnable_,1):this.gl_.uniform1i(this.studioLightEnable_,0),!0===this.debug_&&console.debug("[Segmentation: setStudioLightMode]: enable =",e)}},{key:"setFaceSmoothStrengthVal",value:function(e,t,n){var r=e/Math.max(0,n-t);this.gl_.uniform1f(this.faceSmoothEps_,.001*r)}},{key:"setFaceGlowStrengthVal",value:function(e,t,n){this.gl_.uniform1f(this.faceGlowVal_,e),1==this.debug_&&console.debug("[Segmentation: setFaceGlowStrengthVal]: value =",e,t,n)}},{key:"setLightDirectionXVal",value:function(e){this.gl_.uniform1f(this.lightXVal_,e),1==this.debug_&&console.debug("[Segmentation: setLightDirectionXVal]: value =",e)}},{key:"setLightDirectionYVal",value:function(e){this.gl_.uniform1f(this.lightYVal_,e),1==this.debug_&&console.debug("[Segmentation: setLightDirectionYVal]: value =",e)}},{key:"setOperationMode",value:function(e){if("bokeh"===e)this.isBokeh_=!0;else if("replace"===e)if(!1===this.isVideoBackground_)if(null!==this.backgroundImageBitmap_)this.isBokeh_=!1,this.uploadBackground_=!0;else{if(!0!==this.initBackgroundColorDone_)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background image has not been set.";this.isBokeh_=!1,this.updateBackgroundColor_=!0}else{if(null===this.backgroundVideoSrc_)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background video source has not been set.";this.isBokeh_=!1}else this.isBokeh_=!0}},{key:"setBackgroundImageBitmap",value:function(e){null!==this.backgroundImageBitmap_&&this.backgroundImageBitmap_.close(),this.backgroundImageBitmap_=e,this.isVideoBackground_=!1,this.uploadBackground_=!0}},{key:"setBackgroundVideoSrc",value:function(e){this.backgroundVideoSrc_=e,this.updateBackgroundVideo_=!0,this.isVideoBackground_=!0}},{key:"setBackgroundColor",value:function(e,t,n){this.backgroundRed_=e,this.backgroundGreen_=t,this.backgroundBlue_=n,this.isVideoBackground_=!1,this.updateBackgroundColor_=!0,this.initBackgroundColorDone_=!0}},{key:"pauseBackgroundVideo",value:function(){this.isVideoPause_=!0}},{key:"resumeBackgroundVideo",value:function(){this.isVideoPause_=!1}},{key:"setZoomScale",value:function(e){this.initDone_&&this.gl_.uniform1f(this.zoomScale_,e)}},{key:"setPanTilt",value:function(e,t){this.initDone_&&this.gl_.uniform2f(this.panTilt_,e,t)}},{key:"getVideoLog",value:function(){for(var e=[],t=0;t<12;++t)e.push("DLB_VSLw0001".charCodeAt(t));var n=new Uint8Array(e),r=this.imgLogList_.length,i=0;for(t=0;t<this.imgLogList_.length;++t)i+=this.imgLogList_[t].byteLength;var a,o=new Uint8Array(n.byteLength+2+4*r+i),s=0;for(o.set(new Uint8Array(n),s),s+=n.byteLength,o.set(new Uint8Array([(65280&r)>>8,255&r]),s),s+=2,t=0;t<r;++t)a=this.imgLogList_[t].byteLength,o.set(new Uint8Array([(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]),s),s+=4,o.set(new Uint8Array(this.imgLogList_[t]),s),s+=a;return o}},{key:"createDiagCanvas",value:function(){null===this.diagCanvas_&&(this.diagImageWidth_=640,this.diagImageHeight_=180,this.diagCanvas_=document.createElement("canvas"),this.diagCanvas_.setAttribute("width",this.diagImageWidth_),this.diagCanvas_.setAttribute("height",this.diagImageHeight_))}},{key:"destroyDiagCanvas",value:function(){null!==this.diagCanvas_&&(document.removeChild(this.diagCanvas_),this.diagCanvas_=null)}},{key:"init",value:function(e){!0===this.debug_&&console.debug("[Segmentation: init] Initializing WebGL."),this.facialSmoothNeedInit_=!0,this.diagCanvas_=null,this.createDiagCanvas(),this.widthModel_=160,this.heightModel_=96,this.canvas_=e,this.faceBboxReset();var t=this.canvas_.getContext("webgl2",{antialias:!1,premultipliedAlpha:!0});if(!t)throw"[Segmentation: init] Failure to create WebGL2 context. Please check whether WebGL2 is supported by your browser/hardware.";this.gl_=t,this.shaderOperationModeOptions_={blend:1,downscale:2,blur:3,smooth_mask:4,copy:5,fillmask:6,cropresize:7,smooth:8,denoise_update:9,downscale_subtract:10,flood:11,saturate:12,precompute_gf:13,compute_gf_coeff:14,studiolight:15,portraitlight:16};var n=this.loadShader_(t.VERTEX_SHADER,"\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      uniform vec2 u_resolution;\t\t\t\n      uniform float u_flipY;\n      varying vec2 v_texCoord;\n\n      void main() {\n        // Convert pixels coordinates to -1->+1 (clipSpace)\t\t\t\t\t\n        vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;\n        gl_Position = vec4(clipSpace * vec2(1, -u_flipY), 0, 1);\t\t\t\t\n        v_texCoord = a_texCoord;\n      }"),r=this.loadShader_(t.FRAGMENT_SHADER,"\n      #define BLEND_MODE\t\t \t        1\n      #define DOWNSCALE_MODE\t\t\t    2\n      #define BLUR_MODE\t\t\t          3\n      #define SMOOTHMASK_MODE\t\t\t    4\n      #define COPY_MODE\t\t\t          5\n      #define FILLMASK_MODE\t    \t\t  6\n      #define CROPRESIZE_MODE\t\t\t    7\n      #define SMOOTH_MODE\t\t\t        8\n      #define DENOISE_UPDATE_MODE\t\t  9\n      #define DOWNSCALE_SUBTRACT_MODE 10\n      #define FLOOD_MODE\t\t\t        11\n      #define SATURATE_MODE\t\t\t      12\n      #define PRECOMPUTE_GF_MODE      13\n      #define COMPUTE_GF_COEFF_MODE   14\n      #define STUDIO_LIGHT_MODE       15\n      #define PORTRAIT_LIGHT_MODE     16\n\n      precision lowp  float;        \n      uniform float   u_aspectRatio;\n      uniform float   u_faceSmoothEps;\n      uniform float \tu_zoomScale;\n      uniform float \tu_satAdjust;\n      uniform float   u_lightXVal;\n      uniform float   u_lightYVal;\n      uniform float   u_faceGlowVal;\n      uniform vec3    u_toneMapPoly;\n      uniform vec2    u_panTilt;\n      uniform vec2    u_denoiseTl;\n      uniform vec2    u_denoiseBr;\n      uniform int \t  u_operationMode;\n      uniform int \t  u_facialSmoothInit;\n      uniform int \t  u_studioLightEnable;\n      uniform int \t  u_erodeEnable;\n      uniform sampler2D u_image; \n      uniform sampler2D u_image_alpha;\n      uniform sampler2D u_image_bkground;\n      uniform sampler2D u_image_denoise;\t\n      uniform vec2 u_textureSize;    \n      uniform vec2 u_direction; \t\t\t\n      varying vec2 v_texCoord;        \t\t\t\n      \n      vec3 rgb2yuv(vec3 rgb) {\n        vec3 yuv;\n        yuv.x = rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114;\n        yuv.y = rgb.r * -0.169 + rgb.g * -0.331 + rgb.b * 0.5 + 0.5;\n        yuv.z = rgb.r * 0.5 + rgb.g * -0.419 + rgb.b * -0.081 + 0.5;           \n        return yuv;\n      }\n\n      vec3 yuv2rgb(vec3 yuv) {\n        vec3 rgb;\n        rgb.r = yuv.x * 1.0 + (yuv.z-0.5) * 1.4;\n        rgb.g = yuv.x * 1.0 + (yuv.y-0.5) * -0.343 + (yuv.z-0.5) * -0.711;\n        rgb.b = yuv.x * 1.0 + (yuv.y-0.5) * 1.765;\n        return rgb;\n      }\n\n      vec3 yuvsat2rgb(vec3 yuv, float sat) {\n        vec3 rgb;\n        rgb.r = yuv.x + sat*(yuv.z-0.5) * 1.4;\n        rgb.g = yuv.x + sat*(yuv.y-0.5) * -0.343 + sat*(yuv.z-0.5) * -0.711;\n        rgb.b = yuv.x + sat*(yuv.y-0.5) * 1.765;\n        return rgb;\n      }\n\n      vec3 applyToneMap(vec3 data, vec3 p) {\n        vec3 yuv = rgb2yuv(data);\n        // Apply the curve\n        yuv.x = p.x + yuv.x*p.y + yuv.x*yuv.x*p.z;\n        return yuv2rgb(yuv);\n      }\n\n      float gaussCurve(float x, float x0, float sx){    \n        float arg = x-x0;\n        arg = -0.5*arg*arg/sx;        \n        float a = 1./(pow(2.*3.1415*sx, 0.5));        \n        return a*exp(arg);\n      }\n      \n      float computeShading(vec2 uvCoord, vec2 ellipseCenter, float alpha) {\n        float invRadiusScale = 1./1.85;              \n        vec2 gStd = vec2(0.075, 0.075);        \n        float gx = gaussCurve(uvCoord.x*invRadiusScale/u_aspectRatio, ellipseCenter.x*invRadiusScale/u_aspectRatio, gStd.x);\n        float gy = 0.5*gaussCurve(uvCoord.y*invRadiusScale, ellipseCenter.y*invRadiusScale, gStd.y);\n        alpha = clamp(gx*gy, 0., 1.);\n        alpha = smoothstep(0.2,1., alpha);\n        alpha = pow(alpha, 2.);\n        invRadiusScale = 0.7;\n\n        vec2 xyShift = vec2(0.,-0.5);\n        xyShift.x = -ellipseCenter.x + 0.5;\n        xyShift.y = -ellipseCenter.y + 0.5;\n        \n        float invAspectRatio = 1./u_aspectRatio;\n        vec2 center = vec2(0.5, 0.5);\n        \n        vec2 uv = invRadiusScale*(2.0 * ((uvCoord+xyShift-center)*vec2(invAspectRatio,1.) + center) - 1.0);\n        // compute the normal vector\n        vec3 n = vec3(uv, sqrt(1.0 - clamp(dot(uv, uv), 0.0, 1.0)));         \n                  \n        // setup the light source\n        vec2 lightPos = vec2( (u_lightXVal-50.)/50., (u_lightYVal-50.)/50.);\n        vec3 lightDirect = vec3(lightPos.x, -lightPos.y, 1.);\n        // normalize the light direction\n        lightDirect = normalize(lightDirect)*(1.+0.1*sqrt(lightPos.x*lightPos.x+lightPos.y*lightPos.y));\n        // compute the brightness on the sphere\n        float lightStrength = dot(lightDirect, n);\n        float brightness = clamp(pow(lightStrength, 1.), 0.0, 1.0);\n        float d = distance(center, invRadiusScale*(uvCoord+xyShift-center)*vec2(invAspectRatio,1.) + center) / 0.5;\n        float a = d > 0.99 ? 1.0 - smoothstep(0.99, 1.0, d) : 1.0;          \n        //alpha = 1. - a*brightness*alpha;\n        alpha = 1. - pow(a*brightness*alpha,4.);\n        //alpha = 1. - a*brightness*alpha;\n        \n        return alpha;\n      }\n\n      void main() {\t\t\t\n        if (u_operationMode == FILLMASK_MODE) {\n          vec3 color = texture2D(u_image, v_texCoord).rgb;\n          vec2 offset = vec2(1.,1.) / u_textureSize;\n          float alpha = texture2D(u_image, v_texCoord).a;\n\n          // Compute the mask for left-right+top-bottom edges\n          float lrMask = texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a + \n                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a - \n                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a;\t\t\t\t\t\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord - 1.75*vec2(offset[0],0.)).rgb + \n              0.5*texture2D(u_image, v_texCoord - 3.5*vec2(offset[0],0.)).rgb)*(1.-lrMask);\n\n          lrMask = texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a + \n                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a - \n                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.75*vec2(offset[0],0.)).rgb +\n              0.5*texture2D(u_image, v_texCoord + 3.5*vec2(offset[0],0.)).rgb)*(1.-lrMask);\n\n          lrMask = texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a + \n                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a - \n                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.75*vec2(0.,offset[0])).rgb +\n                0.5*texture2D(u_image, v_texCoord + 3.5*vec2(0.,offset[0])).rgb)*(1.-lrMask);\n                \n          lrMask = texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a + \n                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a - \n                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord- 1.75*vec2(0.,offset[0])).rgb +\n                0.5*texture2D(u_image, v_texCoord - 3.5*vec2(0.,offset[0])).rgb)*(1.-lrMask);\n          gl_FragColor = vec4(color, alpha);\t\t\t\t\t\n        }\n        if (u_operationMode==STUDIO_LIGHT_MODE) {\n          vec2 uvCoord = u_zoomScale*v_texCoord+u_panTilt;\n\t\t\t\t\t//vec3 background = texture2D(u_image_bkground, uvCoord).rgb;\n          vec3 background = texture2D(u_image,uvCoord).rgb;\n          //u_image_denoise // this contains the smoothed facial coeficients\n\n          // Adjust the background          \n          float satScale = 0.65;\n          background = applyToneMap(background, u_toneMapPoly);          \n          background = applyToneMap(background, vec3(0.05, 0.8, 0.1));\n\n\t\t\t\t\tvec3 foreground = texture2D(u_image, uvCoord).rgb;\n\t\t\t\t\tfloat alpha; // = 1.-texture2D(u_image_alpha, uvCoord).a;\t\t\t\t\t\n\n\t\t\t\t\tif (u_satAdjust != 1.) {\n\t\t\t\t\t\tconst vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 intensity = vec3(dot(foreground, W));\n\t\t\t\t\t\tforeground = mix(intensity, foreground, u_satAdjust);\n\t\t\t\t\t}\n          \n          // Adjust the foreground\n          float p0, p1, p2;         \n          vec3 yuv = rgb2yuv(foreground);            \n          yuv.x = u_toneMapPoly[0] + yuv.x*u_toneMapPoly[1] + yuv.x*yuv.x*u_toneMapPoly[2];\n          p0 = 0.;            \n          p2 = - u_faceGlowVal*.004;\n          p1 = 1. - p2;\n          satScale = 1.0 + u_faceGlowVal*.0008;\n          yuv.x = p0 + yuv.x*p1 + yuv.x*yuv.x*p2;                    \n          foreground = yuvsat2rgb(yuv, satScale);     \n\n          // Setup a ellipse for spot lighting\n          vec2 ellipseCenter;\n          ellipseCenter.x = (u_denoiseTl.x+u_denoiseBr.x)*0.5;\n          ellipseCenter.y = (u_denoiseTl.y+u_denoiseBr.y)*0.5*1.101;          \n\n          alpha = computeShading(uvCoord, ellipseCenter, alpha);\n\n\t\t\t\t\tgl_FragColor = vec4(mix(foreground,background,alpha),1);            \n          //gl_FragColor = vec4(alpha,alpha,alpha,1);\n\t\t\t\t\treturn;\n        }\n        if (u_operationMode == PORTRAIT_LIGHT_MODE) {\n\t\t\t\t\t//vec3 background = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          vec3 background = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          float alpha = texture2D(u_image_alpha, u_zoomScale*v_texCoord+u_panTilt).a;\n\t\t\t\t\t//alpha = smoothstep(0.25,0.45, alpha);          \n          vec3 yuv;\n          yuv = rgb2yuv(background);            \n          float p2, p1, p0;\n          p2 = u_faceGlowVal*.005132*0.45;\n          p1 = 1. - p2;\n          p0 = -u_faceGlowVal*0.002*0.7;\n          yuv.x = p0+p1*yuv.x + yuv.x*yuv.x*p2;\n          //yuv.x = 0.05 + 0.2*yuv.x + yuv.x*yuv.x*0.6;\n          float satScale = 0.65;          \n          background = yuvsat2rgb(yuv, satScale);\n\t\t\t\t\tvec3 foreground = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\t\t\t\t\t\n\t\t\t\t\tif (u_satAdjust != 1.) {\n\t\t\t\t\t\tconst vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 intensity = vec3(dot(foreground, W));\n\t\t\t\t\t\tforeground = mix(intensity, foreground, u_satAdjust);\n\t\t\t\t\t}\n          yuv = rgb2yuv(foreground);            \n          yuv.x = u_toneMapPoly[0] + yuv.x*u_toneMapPoly[1] + yuv.x*yuv.x*u_toneMapPoly[2];\n          p0 = 0.;            \n          p2 = - u_faceGlowVal*.004*0.65;\n          p1 = 1. - p2;\n          yuv.x = p0 + yuv.x*p1 + yuv.x*yuv.x*p2;                    \n          foreground = yuv2rgb(yuv);     \n\n          if (u_studioLightEnable == 1) {\n            vec2 ellipseCenter;\n            ellipseCenter.x = (u_denoiseTl.x+u_denoiseBr.x)*0.5;\n            ellipseCenter.y = (u_denoiseTl.y+u_denoiseBr.y)*0.5*1.101;          \n\n            vec2 uvCoord = u_zoomScale*v_texCoord+u_panTilt;\n            float shading = computeShading(uvCoord, ellipseCenter, alpha);\n            alpha = alpha*shading;\n          }\n\n\t\t\t\t\tgl_FragColor = vec4(mix(foreground,background,alpha),1);\n          //gl_FragColor = vec4(gfCoeff,gfCoeff,gfCoeff,gfCoeff);               \n          //gl_FragColor = vec4(alpha,alpha,alpha,1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n        if (u_operationMode == BLEND_MODE) {\n          vec2 coord = u_zoomScale*v_texCoord+u_panTilt;\n\t\t\t\t\tvec3 background = texture2D(u_image_bkground, coord).rgb;\n\t\t\t\t\tvec3 foreground = texture2D(u_image, coord).rgb;\n\t\t\t\t\tfloat alpha = texture2D(u_image_alpha, coord).a;\n\t\t\t\t\t//alpha = smoothstep(0.25,0.45, alpha);\t\t\t\t\t\n          //alpha = smoothstep(0.3,0.55, alpha); // OK\n          \n          alpha = min(alpha*1.35, 1.); //1.3 = no background ghosting during movement, 1.2 = some ghosting during movement\n          alpha = pow(alpha,2.);         \n          alpha = smoothstep(0.1,0.9, alpha); \n\n          //if ((alpha > 0.01) && (alpha < 0.99)) {\n          if ((alpha > 0.0) && (alpha < 1.)) {\n            vec2 offset = vec2(1.,1.) / u_textureSize;\n            float lrMask = texture2D(u_image, coord - vec2(2.5*offset[0],0.)).a +\n\t\t\t\t\t\t\t\ttexture2D(u_image, coord - vec2(offset[0],0.)).a -\n\t\t\t\t\t\t\t\ttexture2D(u_image, coord + vec2(2.5*offset[0],0.)).a -\n\t\t\t\t\t\t\t\ttexture2D(u_image, coord + vec2(offset[0],0.)).a;\n\t\t\t\t\t  lrMask = 0.;//1.- mix(1.0, 0.0, step(0.5, lrMask));\n          \n            //foreground = vec3(0.);  \n            // float spacingScale = 1.2*pow(alpha,4.);\n            // vec2 off1 = spacingScale*vec2(1.3846153846, 0.) / u_textureSize;\n\t\t\t\t\t  // vec2 off2 = spacingScale*vec2(3.2307692308, 0.) / u_textureSize;\n            // vec2 off3 = spacingScale*vec2(0., 1.3846153846) / u_textureSize;\n\t\t\t\t\t  // vec2 off4 = spacingScale*vec2(0., 3.2307692308) / u_textureSize;\n            // foreground += texture2D(u_image, coord).rgb;\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord + off1).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord - off1).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord + off2).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord - off2).rgb*(1.-lrMask);            \n\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord + off3).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord - off3).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord + off4).rgb*(1.-lrMask);\n            // foreground += texture2D(u_image, coord).rgb*lrMask + texture2D(u_image, coord - off4).rgb*(1.-lrMask);\n            // foreground *= (1./9.);\n          }\n\n\t\t\t\t\tif (u_satAdjust != 1.) {\n\t\t\t\t\t\tconst vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 intensity = vec3(dot(foreground, W));\n\t\t\t\t\t\tforeground = mix(intensity, foreground, u_satAdjust);\n\t\t\t\t\t}\n          if (u_toneMapPoly[0] != 0. || u_toneMapPoly[1] != 1. || u_toneMapPoly[2] != 0.0 ) {\n            foreground = applyToneMap(foreground, u_toneMapPoly);\n          }          \n          if (u_studioLightEnable == 1) {\n            vec3 yuv = rgb2yuv(foreground);            \n            vec3 p = vec3(0., 0., 0.);            \n            p[2] = - u_faceGlowVal*.004;\n            p[1] = 1. - p[2];\n            yuv.x = p[0] + yuv.x*p[1] + yuv.x*yuv.x*p[2];                    \n            float satScale = 1.0 + u_faceGlowVal*.0008;\n            vec3 foregroundEnhanced = yuvsat2rgb(yuv, satScale);            \n            vec2 ellipseCenter;\n            ellipseCenter.x = (u_denoiseTl.x+u_denoiseBr.x)*0.5;\n            ellipseCenter.y = (u_denoiseTl.y+u_denoiseBr.y)*0.5*1.101;          \n\n            vec2 uvCoord = u_zoomScale*v_texCoord+u_panTilt;\n            float shading = computeShading(uvCoord, ellipseCenter, alpha);\n            \n            // apply effect to foreground\n            foreground = mix(foregroundEnhanced,foreground,shading);\n            //alpha = shading; // DEBUG\n          }          \n\t\t\t\t\tgl_FragColor = vec4(mix(foreground,background,alpha),1);\n          //gl_FragColor =  vec4(foreground,1);//vec4(vec3(alpha),1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n        if (u_operationMode == CROPRESIZE_MODE) {\n\t\t\t\t\tvec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n\n          if (u_toneMapPoly[0] != 0. || u_toneMapPoly[1] != 1. || u_toneMapPoly[2] != 0.0 ) {\n            rgb = applyToneMap(rgb, u_toneMapPoly);\n          }\n\n\t\t\t\t\tif (u_satAdjust != 1.) {\n\t\t\t\t\t\tconst vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\n\t\t\t\t\t\tvec3 intensity = vec3(dot(rgb, W));\n\t\t\t\t\t\tgl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgl_FragColor = vec4(rgb,1.);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n        if (u_operationMode == DOWNSCALE_MODE) {\n          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;\n        \n          gl_FragColor = (1./3.)*(texture2D(u_image, v_texCoord) + \n                0.5*texture2D(u_image, v_texCoord + vec2(offset[0],0.)) + 0.5*texture2D(u_image, v_texCoord - vec2(offset[0],0.)) +\n                0.5*texture2D(u_image, v_texCoord + vec2(0,offset[1])) + 0.5*texture2D(u_image, v_texCoord - vec2(0.,offset[1])));\t\t\n          return;\n        }\n\n        if (u_operationMode == BLUR_MODE) {\n\t\t\t\t\tvec3 color = vec3(0.0);\n          vec2 off1 = vec2(1.3846153846) * u_direction / u_textureSize;\n\t\t\t\t\tvec2 off2 = vec2(3.2307692308) * u_direction / u_textureSize;\n\n\t\t\t\t\tfloat alpha = 0.;\n\t\t\t\t\t//vec2 off1_a = vec2(1.3333333333333333) * u_direction / u_textureSize;\n\t\t\t\t\tvec2 off1_a = vec2(1.15) * u_direction / u_textureSize;\n          if (u_erodeEnable == 0) {            \n\t\t\t\t\t  //alpha += texture2D(u_image, v_texCoord).a * 0.29411764705882354;\n            //alpha += texture2D(u_image, v_texCoord + off1_a).a * 0.35294117647058826;\n            //alpha += texture2D(u_image, v_texCoord - off1_a).a * 0.35294117647058826;\n            off1 = vec2(1.5*1.3846153846) * u_direction / u_textureSize;\n\t\t\t\t\t  off2 = vec2(1.5*3.2307692308) * u_direction / u_textureSize;\n            alpha += texture2D(u_image, v_texCoord).a * 0.2270270270;\n            alpha += texture2D(u_image, v_texCoord + off1).a * 0.3162162162;\n            alpha += texture2D(u_image, v_texCoord - off1).a * 0.3162162162;\n            alpha += texture2D(u_image, v_texCoord + off2).a * 0.0702702703;\n            alpha += texture2D(u_image, v_texCoord - off2).a * 0.0702702703;\n          } else {\n            alpha += smoothstep(0.0, 0.85, texture2D(u_image, v_texCoord).a) * 0.2270270270;\n            alpha += smoothstep(0.0, 0.85, texture2D(u_image, v_texCoord + off1).a) * 0.3162162162;\n            alpha += smoothstep(0.0, 0.85, texture2D(u_image, v_texCoord - off1).a) * 0.3162162162;\n            alpha += smoothstep(0.0, 0.85, texture2D(u_image, v_texCoord + off2).a) * 0.0702702703;\n            alpha += smoothstep(0.0, 0.85, texture2D(u_image, v_texCoord - off2).a) * 0.0702702703;\n          }\n          //alpha = smoothstep(0.0,0.5, alpha);\n\t\t\t\t\t\n\t\t\t\t\tcolor += texture2D(u_image, v_texCoord).rgb * 0.2270270270;\n\t\t\t\t\tcolor += texture2D(u_image, v_texCoord + off1).rgb * 0.3162162162;\n\t\t\t\t\tcolor += texture2D(u_image, v_texCoord - off1).rgb * 0.3162162162;\n\t\t\t\t\tcolor += texture2D(u_image, v_texCoord + off2).rgb * 0.0702702703;\n\t\t\t\t\tcolor += texture2D(u_image, v_texCoord - off2).rgb * 0.0702702703;\n\n\t\t\t\t\t//gl_FragColor = vec4(color, 1.-alpha);\n          gl_FragColor = vec4(color, alpha);\n\t\t\t\t\treturn;\n\t\t\t\t}\n        // if (u_operationMode == BLUR_MODE) {\n        //   vec3 color = vec3(0.0);\t\t\t\t\t\n          \n        //   float alpha = 0.;\n        //   //vec2 off1_a = vec2(1.3333333333333333) * u_direction / u_textureSize;\n        //   vec2 off1_a = vec2(1.15) * u_direction / u_textureSize;\n        //   alpha += texture2D(u_image, v_texCoord).a * 0.29411764705882354;\n        //   alpha += texture2D(u_image, v_texCoord + off1_a).a * 0.35294117647058826;\n        //   alpha += texture2D(u_image, v_texCoord - off1_a).a * 0.35294117647058826;\n          \n        //   vec2 off1 = vec2(1.3846153846) * u_direction / u_textureSize;\n        //   vec2 off2 = vec2(3.2307692308) * u_direction / u_textureSize;\n        //   color += texture2D(u_image, v_texCoord).rgb * 0.2270270270;\n        //   color += texture2D(u_image, v_texCoord + off1).rgb * 0.3162162162;\n        //   color += texture2D(u_image, v_texCoord - off1).rgb * 0.3162162162;\n        //   color += texture2D(u_image, v_texCoord + off2).rgb * 0.0702702703;\n        //   color += texture2D(u_image, v_texCoord - off2).rgb * 0.0702702703;\n          \n        //   gl_FragColor = vec4(color, alpha);\n        //   return;\n        // }\n        if (u_operationMode == FLOOD_MODE) {\n          vec3 color = vec3(0.0);\t\t\t\t\t\n          vec2 off1 = vec2(1.5) * u_direction / u_textureSize;\n          vec2 off2 = vec2(3.) * u_direction / u_textureSize;\n          color += texture2D(u_image, v_texCoord).rgb;\n          color += texture2D(u_image, v_texCoord + off1).rgb;\n          color += texture2D(u_image, v_texCoord - off1).rgb;\n          color += texture2D(u_image, v_texCoord + off2).rgb;\n          color += texture2D(u_image, v_texCoord - off2).rgb;\n          color = clamp(color,0.,1.);\n          gl_FragColor = vec4(color, 1.);\n          return;\n        }\n        if (u_operationMode == SMOOTHMASK_MODE) {\n          // Compute the smoothing constant based on the motion \n          float smooth_coef = 1.;\n          float out_smooth;\n          out_smooth = smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;\n          float motion = length(out_smooth-texture2D(u_image_alpha, v_texCoord).a);\n          //if (motion < 0.1) smooth_coef = 0.125;\n          //else  smooth_coef = 0.85;\n          float max_smooth = 0.85;//0.8;\n          float min_smooth = 0.1275;\t\n          float max_motion_val = 0.9;//0.8;\n          float min_motion_val = 0.05;//0.1;\n\n          float slope = (max_smooth - min_smooth)/(max_motion_val - min_motion_val);\n          float offset = max_smooth - slope*max_motion_val;\n          smooth_coef = min(max(slope*motion + offset,min_smooth),max_smooth);\n                    \n          gl_FragColor = vec4(texture2D(u_image, v_texCoord).rgb,\n                  smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a);\n          \n          return;\n        }\n        \n        if (u_operationMode == SATURATE_MODE) {\t\t\t\t\t\n          const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n          vec3 rgb = texture2D(u_image, v_texCoord).rgb;\n          vec3 intensity = vec3(dot(rgb, W));\n          gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n          return;\n        }\n        \n        if (u_operationMode == SMOOTH_MODE) {\t\t\t\t\t\n          float smooth_coef = 0.25;\n          gl_FragColor = smooth_coef*texture2D(u_image, v_texCoord) + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord);\t\t\t\t\t\t\t\t\t\t\t\t\n          return;\n        }\n        \n        if (u_operationMode == DOWNSCALE_SUBTRACT_MODE) {\n          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;\n          float smooth_coef = 0.25;\n          vec3 in1 = (texture2D(u_image, v_texCoord).rgb);\n          vec3 in2 = smooth_coef*in1 + (1.-smooth_coef)*(texture2D(u_image_bkground, v_texCoord).rgb);\n          float alpha = abs((in1.r + in1.g + in1.b) - (in2.r + in2.g + in2.b));\n          float alpha2 = mix(0.0, 1.0, step(0.2, alpha));\t\n          alpha = 1.-smoothstep(0.0,0.00015, alpha);\n          alpha = clamp(alpha,0.25,1.);\n          gl_FragColor = vec4(alpha2,alpha,alpha,1);\t\t\t\t\t\n          return;\n        }\n\n        if (u_operationMode == DENOISE_UPDATE_MODE) {\n          // u_image_alpha = noisy image, u_image_bkground = previously clean image\n          float smooth_coef = 0.25;\n          float alpha  = texture2D(u_image, v_texCoord).g;\n          vec3 noisy = texture2D(u_image_alpha, v_texCoord).rgb;\n          vec3 clean = smooth_coef*noisy + (1.-smooth_coef)*(texture2D(u_image_denoise, v_texCoord).rgb);\n          if ((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y))\n          {\n            alpha = 1.;\n          }\n          gl_FragColor = vec4(mix(noisy,clean,alpha),1.);\n          return;\n        }\t\n\n        if (u_operationMode == COPY_MODE) {\n          gl_FragColor = texture2D(u_image, v_texCoord);\n          return;\n        }\t\t\t\n        \n        if (u_operationMode == PRECOMPUTE_GF_MODE) {   \n          vec2 off1 = vec2(0.8*1.3846153846, 0.) / u_textureSize;\n          vec2 off2 = vec2(0., 0.8*1.3846153846) / u_textureSize;\n          vec2 off3 = vec2(3.2307692308, 0.) / u_textureSize;\n          vec2 off4 = vec2(0., 3.2307692308) / u_textureSize;\n\n          vec3 rgb   = texture2D(u_image, v_texCoord).rgb;\n          float intensity  = dot(rgb, vec3(0.299, 0.587, 0.114));\n          float intensitySquareMean = intensity*intensity*(1./5.);\n          float intensityMean = intensity*(1./5.);\n\n          float intensityTmp = dot(texture2D(u_image, v_texCoord + off1).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord - off1).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord + off2).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord - off2).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n                    \n          //step(a,x)*step(x,b);\n          float isSkinColor;\n          //isSkinColor = step(80./255., intensity)*step(intensity, 1.);\n          //isSkinColor = step(80./255., intensity)*step(intensity, 1.);\n          isSkinColor = step(50./255., intensity)*step(intensity, 1.);\n          float Cb = dot(rgb, vec3(-0.169, -0.331, 0.499))+0.5;\n          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 135./255.);\n          isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 124./255.); \n          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 122./255.);\n          float Cr = dot(rgb, vec3(0.499, -0.418, -0.0813))+0.5;\n          isSkinColor = isSkinColor*step(120./255., Cr)*step(Cr, 180./255.);\n\n          // compute the alpha blending weight\n          float alpha = intensitySquareMean - intensityMean*intensityMean;\n          if (!((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y)))\n          {\n            isSkinColor = 0.;\n          }\n          alpha = alpha/(alpha + u_faceSmoothEps*isSkinColor);\n\n          if (u_facialSmoothInit == 0) {\n            float smooth_coef = 0.25;\n            alpha = smooth_coef*alpha + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;\n          }\n\n          rgb.x  = intensityMean;\n          gl_FragColor = vec4(rgb,alpha);\n          return;\n        }\n               \n        if (u_operationMode == COMPUTE_GF_COEFF_MODE) {\n          vec3 ycbcrOrig = vec3(0.0);                 \n          vec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          vec3 imgOrig = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;\t\t\t\t\t\n\n          ycbcrOrig.x = dot(imgOrig, vec3(0.299, 0.587, 0.114));\n          \n          ycbcrOrig.y = dot(imgOrig, vec3(-0.169, -0.331, 0.499))+0.5;\n          ycbcrOrig.z = dot(imgOrig, vec3(0.499, -0.418, -0.0813))+0.5;\n          ycbcrOrig.x = mix(rgb.x, ycbcrOrig.x, texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).a);\n          //ycbcrOrig.x = rgb.x;\n          ycbcrOrig = clamp(ycbcrOrig, 0., 1.);\n          \n          rgb.x = ycbcrOrig.x + 1.402*(ycbcrOrig.z-0.5);\n          rgb.y = ycbcrOrig.x - 0.344*(ycbcrOrig.y-0.5) - 0.714*(ycbcrOrig.z-0.5);\n          rgb.z = ycbcrOrig.x + 1.772*(ycbcrOrig.y-0.5);\n          \n          if (u_toneMapPoly[0] != 0. || u_toneMapPoly[1] != 1. || u_toneMapPoly[2] != 0.0 ) {            \n            rgb = applyToneMap(rgb, u_toneMapPoly);\n          }\n\n          if (u_satAdjust != 1.) {\n            const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n            \n            vec3 intensity = vec3(dot(rgb, W));\n            gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n          }\n          else {\n            gl_FragColor = vec4(rgb,1.);\n          }          \n          return;  \n        }\n      }");if(n&&r){var i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,r),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw t.getProgramInfoLog(i),t.deleteProgram(i),"[Segmentation] Error linking program:\n${infoLog}";t.deleteShader(n),t.deleteShader(r),this.programSegment_=i,this.positionLocation_=t.getAttribLocation(this.programSegment_,"a_position"),t.enableVertexAttribArray(this.positionLocation_),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.vertexAttribPointer(this.positionLocation_,2,t.FLOAT,!1,0,0),this.positionArray_=new Float32Array([0,0,e.width,0,0,e.height,0,e.height,e.width,0,e.width,e.height]),t.bufferData(t.ARRAY_BUFFER,this.positionArray_,t.STATIC_DRAW),this.texcoordLocation_=t.getAttribLocation(this.programSegment_,"a_texCoord"),t.enableVertexAttribArray(this.texcoordLocation_),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.vertexAttribPointer(this.texcoordLocation_,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),this.textureSizeLocation_=t.getUniformLocation(this.programSegment_,"u_textureSize"),this.resolutionLocation_=t.getUniformLocation(this.programSegment_,"u_resolution"),this.directionLocation_=t.getUniformLocation(this.programSegment_,"u_direction"),this.flipYLocation_=t.getUniformLocation(this.programSegment_,"u_flipY"),this.shaderOperationMode_=t.getUniformLocation(this.programSegment_,"u_operationMode"),this.facialSmoothInit_=t.getUniformLocation(this.programSegment_,"u_facialSmoothInit"),this.studioLightEnable_=t.getUniformLocation(this.programSegment_,"u_studioLightEnable"),this.erodeEnable_=t.getUniformLocation(this.programSegment_,"u_erodeEnable"),this.zoomScale_=t.getUniformLocation(this.programSegment_,"u_zoomScale"),this.faceSmoothEps_=t.getUniformLocation(this.programSegment_,"u_faceSmoothEps"),this.faceGlowVal_=t.getUniformLocation(this.programSegment_,"u_faceGlowVal"),this.aspecRatioVal_=t.getUniformLocation(this.programSegment_,"u_aspectRatio"),this.lightXVal_=t.getUniformLocation(this.programSegment_,"u_lightXVal"),this.lightYVal_=t.getUniformLocation(this.programSegment_,"u_lightYVal"),this.satAdjust_=t.getUniformLocation(this.programSegment_,"u_satAdjust"),this.toneMapPoly_=t.getUniformLocation(this.programSegment_,"u_toneMapPoly"),this.panTilt_=t.getUniformLocation(this.programSegment_,"u_panTilt"),this.denoiseTl_=t.getUniformLocation(this.programSegment_,"u_denoiseTl"),this.denoiseBr_=t.getUniformLocation(this.programSegment_,"u_denoiseBr"),t.viewport(0,0,this.widthModel_,this.heightModel_),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(this.programSegment_),t.uniform1f(this.flipYLocation_,1),t.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),t.uniform1i(this.facialSmoothInit_,1),t.uniform1i(this.studioLightEnable_,0),t.uniform1i(this.erodeEnable_,0),t.uniform1f(this.faceSmoothEps_,.001),t.uniform1f(this.faceGlowVal_,100),t.uniform1f(this.aspecRatioVal_,e.height/e.width),t.uniform1f(this.lightXVal_,50),t.uniform1f(this.lightYVal_,50),t.uniform1f(this.zoomScale_,1),t.uniform2f(this.panTilt_,0,0),t.uniform1f(this.satAdjust_,1),t.uniform3f(this.toneMapPoly_,0,1,0),t.uniform2f(this.denoiseTl_,2,2),t.uniform2f(this.denoiseBr_,-1,-1),t.uniform2f(this.resolutionLocation_,e.width,e.height),t.uniform2f(this.textureSizeLocation_,this.widthModel_,this.heightModel_),this.u_imageLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image"),this.gl_.uniform1i(this.u_imageLocation_,0),this.u_imageBkgndLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_bkground"),this.gl_.uniform1i(this.u_imageBkgndLocation_,1),this.u_imageAlphaLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_alpha"),this.gl_.uniform1i(this.u_imageAlphaLocation_,2),this.u_imageDenoiseLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_denoise"),this.gl_.uniform1i(this.u_imageDenoiseLocation_,3),this.inPixels_=new Uint8Array(4*this.widthModel_*this.heightModel_),this.textureBackground_=h(this.gl_),this.texturePrevMask_=h(this.gl_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null),this.gl_.activeTexture(this.gl_.TEXTURE2),this.fbPrevMask_=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbPrevMask_),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texturePrevMask_,0),this.fbTmp_=[],this.textureTmp_=[];for(var a=0;a<2;a++){var o=h(this.gl_);this.textureTmp_.push(o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null);var s=t.createFramebuffer();this.fbTmp_.push(s),t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0)}this.textureDenoiseInit_=!1,this.textureDenoiseHist_=[],this.fbDenoiseHist_=[];for(var u=0;u<2;u++)this.textureDenoiseHist_.push(h(this.gl_)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this.fbDenoiseHist_.push(t.createFramebuffer()),t.bindFramebuffer(t.FRAMEBUFFER,this.fbDenoiseHist_[u]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textureDenoiseHist_[u],0);this.denoiseHistIndex_=0,this.fbFacialSmooth_=[],this.textureFacialSmooth_=h(this.gl_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null),this.fbFacialSmooth_=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbFacialSmooth_),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textureFacialSmooth_,0),this.texture_=h(this.gl_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,null)}}},{key:"reinitTextures",value:function(e,t){if(this.textureInit_=!1,this.width_!==e||this.height_!==t){this.width_=e,this.height_=t,this.canvas_.setAttribute("width",this.width_),this.canvas_.setAttribute("height",this.height_),!0===this.debug_&&console.debug("[Segmentation::reinitTextures] Resolution",this.width_,this.height_,"canvas",this.canvas_.width,this.canvas_.height),this.gl_.uniform1f(this.aspecRatioVal_,this.height_/this.width_),this.textureInit_=!1;for(var n=0;n<this.textureDenoiseHist_.length;n++)this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[n]),this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.width_,this.height_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,null);this.denoiseHistIndex_=0}this.denoiseReset()}},{key:"smoothMaskReset",value:function(){this.init_prev_mask_=!1}},{key:"denoiseReset",value:function(){this.textureDenoiseInit_=!1}},{key:"faceSmoothReset",value:function(){this.facialSmoothNeedInit_=!0}},{key:"faceBboxReset",value:function(){this.xLeft=0,this.xRight=0,this.yTop=0,this.yBottom=0}},{key:"updateStudioLightBbox",value:function(e){var t,n,r,i;t=e._getLargestFaceTLx(),r=e._getLargestFaceTLy(),n=t+e._getLargestFaceWidth(),i=r+e._getLargestFaceHeight(),t/=this.widthModel_-1,n/=this.widthModel_-1,r/=this.heightModel_-1,i/=this.heightModel_-1,t*=.95,r*=.95,n=Math.min(1,1.05*n),i=Math.min(1,1.05*i);var a=.35;(Math.abs(this.xRight-this.xLeft-(n-t))>.005||Math.abs(this.yBottom-this.yTop-(i-r))>.005)&&(this.xLeft=a*t+.65*this.xLeft,this.xRight=a*n+.65*this.xRight,this.yTop=a*r+.65*this.yTop,this.yBottom=a*i+.65*this.yBottom),this.gl_.uniform2f(this.denoiseTl_,this.xLeft,this.yTop),this.gl_.uniform2f(this.denoiseBr_,this.xRight,this.yBottom)}},{key:"studioLightProcess",value:function(e,t,n,r){var i;this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE0),i=!0===n?this.textureDenoiseHist_[this.denoiseHistIndex_]:!0===t?this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]:this.texture_,this.gl_.bindTexture(this.gl_.TEXTURE_2D,i),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureFacialSmooth_),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.updateStudioLightBbox(e),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.studiolight),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),!0===r?(this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)):(this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[this.denoiseHistIndex_]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_)}},{key:"passthrough",value:function(){var e=v(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),n=new Uint8Array(4),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.viewport(0,0,1,1),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!this.flags_.nonBlockingAsyncPixelReadback){e.next=14;break}return e.next=12,l(this.gl_,0,0,1,1,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,n);case 12:e.next=15;break;case 14:this.gl_.readPixels(0,0,1,1,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,n);case 15:this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),0==this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"applyDenoise",value:function(){var e=v(p().mark((function e(t){var n,r,i,a,o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.denoiseHistIndex_=(this.denoiseHistIndex_+1)%2,this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),!1===this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t),this.gl_.activeTexture(this.gl_.TEXTURE2),!1===this.textureDenoiseInit_&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t),this.textureDenoiseInit_=!0),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale_subtract),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!this.flags_.nonBlockingAsyncPixelReadback){e.next=24;break}return e.next=22,l(this.gl_,0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_);case 22:e.next=25;break;case 24:this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_);case 25:n=2*this.widthModel_,r=-1,i=2*this.heightModel_,a=-1,o=0;case 30:if(!(o<this.heightModel_)){e.next=42;break}s=0;case 32:if(!(s<this.widthModel_)){e.next=39;break}if(!(this.inPixels_[4*(o*this.widthModel_+s)+0]>200)){e.next=36;break}return n=Math.min(n,s),e.abrupt("break",39);case 36:s++,e.next=32;break;case 39:o++,e.next=30;break;case 42:o=0;case 43:if(!(o<this.heightModel_)){e.next=55;break}s=this.widthModel_-1;case 45:if(!(s>0)){e.next=52;break}if(!(this.inPixels_[4*(o*this.widthModel_+s)+0]>200)){e.next=49;break}return r=Math.max(r,s),e.abrupt("break",52);case 49:s--,e.next=45;break;case 52:o++,e.next=43;break;case 55:s=0;case 56:if(!(s<this.widthModel_)){e.next=68;break}o=0;case 58:if(!(o<this.heightModel_)){e.next=65;break}if(!(this.inPixels_[4*(o*this.widthModel_+s)+0]>200)){e.next=62;break}return i=Math.min(i,o),e.abrupt("break",65);case 62:o++,e.next=58;break;case 65:s++,e.next=56;break;case 68:s=0;case 69:if(!(s<this.widthModel_)){e.next=81;break}o=this.heightModel_-1;case 71:if(!(o>0)){e.next=78;break}if(!(this.inPixels_[4*(o*this.widthModel_+s)+0]>200)){e.next=75;break}return a=Math.max(a,o),e.abrupt("break",78);case 75:o--,e.next=71;break;case 78:s++,e.next=69;break;case 81:n/=this.widthModel_-1,r/=this.widthModel_-1,i/=this.heightModel_-1,a/=this.heightModel_-1,n*=.9,i*=.9,r=Math.min(1,1.1*r),a=Math.min(1,1.1*a),this.gl_.uniform2f(this.denoiseTl_,n,i),this.gl_.uniform2f(this.denoiseBr_,r,a),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.denoise_update),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[(this.denoiseHistIndex_+1)%2]),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6);case 82:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"copyDenoiseToCanvas",value:function(){this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[[(this.denoiseHistIndex_+1)%2]]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}},{key:"preProcess",value:function(){var e=v(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),!0===n?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):(this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),0==this.textureInit_?this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,t)),this.readPixelSuccess=!1,this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!this.flags_.nonBlockingAsyncPixelReadback){e.next=19;break}return e.next=17,l(this.gl_,0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_);case 17:e.next=20;break;case 19:this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_);case 20:this.readPixelSuccess=!0;case 21:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"putinferEngineInData",value:function(e,t){if(this.readPixelSuccess)for(var n=255,r=0,i=0;i<this.widthModel_*this.heightModel_*4;i+=4)e.HEAPF32[t+r]=this.inPixels_[i]/n,e.HEAPF32[t+r+1]=this.inPixels_[i+1]/n,e.HEAPF32[t+r+2]=this.inPixels_[i+2]/n,r+=3}},{key:"putinferEngineMask",value:function(e,t){this.gl_.activeTexture(this.gl_.TEXTURE0);for(var n=0,r=0;r<this.inPixels_.length;r+=4)this.inPixels_[r+3]=Math.min(Math.max(255-64*e.HEAPF32[t+n],0),255),n+=1;this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),0==this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.widthModel_,this.heightModel_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_)}},{key:"getData",value:function(e){for(var t=0,n=0;n<this.widthModel_*this.heightModel_*4;n+=4)e[t]=this.inPixels_[n]/255,e[t+1]=this.inPixels_[n+1]/255,e[t+2]=this.inPixels_[n+2]/255,t+=3}},{key:"getPixelBuffer",value:function(){return this.inPixels_}},{key:"reframeOnly",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.cropresize),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.activeTexture(this.gl_.TEXTURE0),!0===t?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"facialSmoothing",value:function(e,t,n){var r,i,a,o;this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE1),!0===t?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureFacialSmooth_),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),r=e._getLargestFaceTLx(),a=e._getLargestFaceTLy(),i=r+e._getLargestFaceWidth(),o=a+e._getLargestFaceHeight(),r/=this.widthModel_-1,i/=this.widthModel_-1,a/=this.heightModel_-1,o/=this.heightModel_-1,r*=.95,a*=.95,i=Math.min(1,1.05*i),o=Math.min(1,1.05*o),this.gl_.uniform2f(this.denoiseTl_,r,a),this.gl_.uniform2f(this.denoiseBr_,i,o),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.precompute_gf),0==e._getNumFaces()&&(this.facialSmoothNeedInit_=!0),!0===this.facialSmoothNeedInit_&&this.gl_.uniform1i(this.facialSmoothInit_,1),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!0===this.facialSmoothNeedInit_&&(this.gl_.uniform1i(this.facialSmoothInit_,0),this.facialSmoothNeedInit_=!1),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbFacialSmooth_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.compute_gf_coeff),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),!0===n?(this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)):(this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[this.denoiseHistIndex_]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_)}},{key:"postProcess",value:function(){var e=v(p().mark((function e(t,n,r,i,a){var o,s,u,c,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.gl_.activeTexture(this.gl_.TEXTURE1),o=!0===n?this.textureDenoiseHist_[this.denoiseHistIndex_]:!0===t?this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]:this.texture_,this.gl_.bindTexture(this.gl_.TEXTURE_2D,o),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.fillmask),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blur),s=2,!0===i&&(s=6),u=-1,this.gl_.uniform1i(this.erodeEnable_,1),c=0;c<s;c++)u*=-1,this.gl_.uniform1f(this.flipYLocation_,u),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[c%2]),c%2==0?this.gl_.uniform2f(this.directionLocation_,0,1):this.gl_.uniform2f(this.directionLocation_,1,0),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[c%2]),c>4&&this.gl_.uniform1i(this.erodeEnable_,0);if(this.gl_.uniform2f(this.directionLocation_,0,1),this.gl_.uniform1f(this.flipYLocation_,-u),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[s%2]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),1==this.init_prev_mask_?this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.smooth_mask):(this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.init_prev_mask_=!0),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[s%2]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[(s+1)%2]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),r&&this.updateStudioLightBbox(a),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[(s+1)%2]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbPrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[(s+2)%2]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,o),this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!0===i?this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.portraitlight):this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),!0===this.uploadBackground_&&!1===this.isVideoBackground_&&(this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),null!==this.backgroundImageBitmap_&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.backgroundImageBitmap_),this.uploadBackground_=!1)),!0===this.updateBackgroundColor_&&!1===this.isVideoBackground_&&(this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),(l=new Uint8Array(3))[0]=this.backgroundRed_,l[1]=this.backgroundGreen_,l[2]=this.backgroundBlue_,this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,1,1,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,l),!0===this.debug_&&console.debug("[Segmentation: postProcess] Has set background color to",this.backgroundRed_,this.backgroundGreen_,this.backgroundBlue_),this.updateBackgroundColor_=!1),this.gl_.activeTexture(this.gl_.TEXTURE1),1==this.isBokeh_?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[(s+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),e.t0=null!==this.backgroundVideoSrc_&&!0===this.isVideoBackground_&&!1===this.isVideoPause_&&0==this.isBokeh_&&this.backgroundVideoSrc_.videoWidth>0&&this.backgroundVideoSrc_.readyState>1,!e.t0){e.next=16;break}return e.next=13,createImageBitmap(this.backgroundVideoSrc_);case 13:this.imageBitmapBgndVid_=e.sent,!0===this.updateBackgroundVideo_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.updateBackgroundVideo_=!1):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.imageBitmapBgndVid_.close();case 16:this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,o),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6);case 22:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i,a){return e.apply(this,arguments)}return t}()},{key:"captureImage",value:function(){var e=v(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.imgLogLen_){if(this.frameCount_=this.frameCount_+1,this.frameCount_>=this.frameSubSample_){for((n=this.diagCanvas_.getContext("2d")).drawImage(t,0,0,this.canvas_.width,this.canvas_.height,0,0,this.diagCanvas_.width/2,this.diagCanvas_.height),n.drawImage(this.canvas_,0,0,this.canvas_.width,this.canvas_.height,this.diagCanvas_.width/2,0,this.diagCanvas_.width/2,this.diagCanvas_.height),this.imgLog_=this.diagCanvas_.toDataURL("image/jpg",.9);this.imgLogList_.length>=this.imgLogLen_;)this.imgLogList_.shift();this.imgLogList_.push(function(e){if("string"!=typeof e)throw console.debug("Invalid argument: dataURI must be a string"),"[dataURItoArrayBuffer] Invalid argument: dataURI must be a string";(e=e.split(","))[0].split(":")[1].split(";")[0];for(var t=window.atob(e[1]),n=t.length,r=new ArrayBuffer(n),i=new Uint8Array(r),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i}(this.imgLog_)),this.frameCount_=0}}else{for(;this.imgLogList_.length>0;)this.imgLogList_.pop();this.frameCount_=0}case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadShader_",value:function(e,t){var n=this.gl_,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw n.getShaderInfoLog(r),n.deleteShader(r),"[Segmentation] Error compiling shader:\n${infoLog}";return r}},{key:"destroy",value:function(){this.gl_&&(!0===this.debug_&&console.debug("[Segmentation] Forcing WebGL to lose context."),this.gl_.getExtension("WEBGL_lose_context").loseContext()),destroyDiagCanvas()}}]),e}();function h(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t}var m=function(){function e(n){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mode:"bokeh",wasm_filepath:o,model_filepath:i,dvdnr_filepath:s,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100,face_glow_strength:100,studio_light:!1,portrait_light:!1,light_direction_x:50,light_direction_y:50,processing_error_handler:null,flags:{}};return y(this,e),v(p().mark((function e(){var u,l,d,h,m,g,y;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(n instanceof HTMLVideoElement||n instanceof MediaStream)){e.next=2;break}throw c("Invalid argument: only MediaStream or HTMLVideoElement");case 2:return r.loadVideoInProgress_=!1,r.setIntervalId_=null,r.localVideo_=null,r.videoElement_=null,r.inStream_=null,r.modelVersion_="",r.logDurationMin_=0,r.logDurationMax_=60,r.faceSmoothStrengthMin_=0,r.faceSmoothStrengthMax_=100,r.faceGlowStrengthMin_=0,r.faceGlowStrengthMax_=100,r.lightDirectionMin_=0,r.lightDirectionMax_=100,r.config_={},r.flags_={},u={mode:"bokeh",wasm_filepath:o,model_filepath:i,dvdnr_filepath:s,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100,face_glow_strength:100,studio_light:!1,portrait_light:!1,light_direction_x:50,light_direction_y:50,flags:{}},("mode"in a||"string"==typeof a.mode||a.mode instanceof String)&&("bokeh"!==a.mode&&"replace"!==a.mode||(u.mode=a.mode)),("passthrough"in a||"boolean"==typeof a.passthrough)&&(u.passthrough=a.passthrough),("debug"in a||"boolean"==typeof a.debug)&&(u.debug=a.debug),("background"in a||"string"==typeof a.background||a.background instanceof String)&&(u.background=a.background),("autoframe"in a||"boolean"==typeof a.autoframe)&&(u.autoframe=a.autoframe),("denoise"in a||"boolean"==typeof a.denoise)&&(u.denoise=a.denoise),("logduration"in a||"number"==typeof a.logduration)&&(u.logduration=a.logduration),("process_enable"in a||"boolean"==typeof a.process_enable)&&(u.process_enable=a.process_enable),("face_enhance"in a||"boolean"==typeof a.face_enhance)&&(u.face_enhance=a.face_enhance),("studio_light"in a||"boolean"==typeof a.studio_light)&&(u.studio_light=a.studio_light),("portrait_light"in a||"boolean"==typeof a.portrait_light)&&(u.portrait_light=a.portrait_light),("face_glow_strength"in a||"number"==typeof a.face_glow_strength)&&(u.face_glow_strength=a.face_glow_strength),("light_direction_x"in a||"number"==typeof a.light_direction_x)&&(u.light_direction_x=a.light_direction_x),("light_direction_y"in a||"number"==typeof a.light_direction_y)&&(u.light_direction_y=a.light_direction_y),("face_smooth"in a||"boolean"==typeof a.face_smooth)&&(u.face_smooth=a.face_smooth),("face_smooth_strength"in a||"number"==typeof a.face_smooth_strength)&&(u.face_smooth_strength=a.face_smooth_strength),("wasm_filepath"in a||"string"==typeof a.wasm_filepath||a.wasm_filepath instanceof String)&&(u.wasm_filepath=a.wasm_filepath),("model_filepath"in a||"string"==typeof a.model_filepath||a.model_filepath instanceof String)&&(u.model_filepath=a.model_filepath),("dvdnr_filepath"in a||"string"==typeof a.dvdnr_filepath||a.dvdnr_filepath instanceof String)&&(u.dvdnr_filepath=a.dvdnr_filepath),"flags"in a&&(u.flags=a.flags),!0===u.debug&&console.debug("[VideoFilter] About to set the params to",u),n instanceof HTMLVideoElement&&(r.videoElement_=n),n instanceof MediaStream&&(r.inStream_=n),l=!1,d=!1,h=u.model_filepath,m=function(e){var t=e.split("/").pop(),n=(t=(t=t.split("?")[0]).split("#")[0]).indexOf(".");return n>0?t.substring(n+1):""}(h),"tflite"===m?(l=!1,!0===u.debug&&console.debug("[VideoFilter] Unencrypted model.")):l=!0,"pkgtflite"===m&&(l=!1,d=!0,!0===u.debug&&console.debug("[VideoFilter] Unencrypted packaged model.")),"pkgwvsl"!==m&&"bin"!==m||(l=!0,d=!0),!0===u.debug&&console.debug("[VideoFilter] Model filename extension: ",m),e.next=10,fetch(h);case 10:return g=e.sent,e.next=13,g.arrayBuffer();case 13:return y=e.sent,!0===u.debug&&console.debug("[VideoFilter] Have downloaded inferEngine model with size:",y.byteLength),e.next=17,function(){var e=v(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t()({locateFile:function(){return n}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.debug("[VideoFilter: loadInferEngine] Failed to create Infer SIMD WebAssembly module.",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()(u.wasm_filepath);case 17:return r.inferEngineObj_=e.sent,e.next=20,function(){var e=v(p().mark((function e(t,n,r){var i,a,o,s,u,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new Promise((function(e,t){i=e,a=t})),s=n.addFunction((function(){i()}),"v"),u=n.addFunction((function(e){a(n.UTF8ToString(e))}),"vi"),c=function(e){r&&console.debug("[VideoFilter: loadDvdnrLibrary] "+e)},!(s>0&&u>0)){e.next=13;break}return n.cwrap("loadTfliteAsynchronously",null,["string","number","number"])(t,s,u),e.prev=4,e.next=7,o;case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(4),e.abrupt("return",(c("Error occured while loading of DVDNR: "+e.t0),!1));case 12:return e.abrupt("return",(c("DVDNR library was successfully loaded"),!0));case 13:return e.abrupt("return",(c("Cannot create valid function pointers."),!1));case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()(u.dvdnr_filepath,r.inferEngineObj_,u.debug);case 20:if(e.sent){e.next=22;break}throw new c("Loading of DVDNR library has been failed.");case 22:return e.next=24,function(){var e=v(p().mark((function e(t,n,r,i,a){var o,s,u,c,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._getModelBufferMemoryOffset(),!0===a&&console.debug("[VideoFilter: loadInferModel] Loading model buffer..."),t.HEAPU8.set(new Uint8Array(n),o),0!=(0==t._loadModel(n.byteLength,r,i))){e.next=3;break}return e.abrupt("return","N/A");case 3:for(!0===a&&console.debug("[VideoFilter: loadInferModel] Model has been successfully loaded"),s=t._getInputName(),u=new Uint8Array(16),c=0;c<u.length;c++)u[c]=t.HEAPU8[s+c+8];return l=(new TextDecoder).decode(u),e.abrupt("return",(!1===l.includes("_VER")&&(l="N/A"),!0===a&&console.debug("[VideoFilter: loadInferModel] Model version  :",l),l));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()(r.inferEngineObj_,y,l,d,u.debug);case 24:if(r.modelVersion_=e.sent,r.inputMemoryOffset_=r.inferEngineObj_._getInputMemoryOffset()/4,r.outputMemoryOffset_=r.inferEngineObj_._getOutputMemoryOffset(0)/4,null!==r.inStream_&&(r.width_=n.getVideoTracks()[0].getSettings().width,r.height_=n.getVideoTracks()[0].getSettings().height,r.fps_=n.getVideoTracks()[0].getSettings().frameRate),null!==r.videoElement_&&(r.width_=n.videoWidth,r.height_=n.videoHeight,r.fps_=30),r.canvas_=document.createElement("canvas"),r.canvas_.setAttribute("width",r.width_),r.canvas_.setAttribute("height",r.height_),r.Segment_=new f(r.canvas_,u.flags),r.setDebugMode(u.debug),r.setPassthroughMode(u.passthrough),r.setAutoframeMode(u.autoframe),r.setFaceEnhanceMode(u.face_enhance),r.setStudioLightMode(u.studio_light),r.setPortraitLightMode(u.portrait_light),r.setFaceSmoothMode(u.face_smooth),r.setDenoiseMode(u.denoise),r.setProcessEnable(u.process_enable),r.setLogDuration(u.logduration),r.setFaceSmoothStrength(u.face_smooth_strength),e.t0=u.background.length>0,!e.t0){e.next=48;break}return e.next=48,r.changeBackground(u.background);case 48:return null!==r.inStream_&&r.initStream(r.inStream_),null!==r.videoElement_&&r.initVideo(r.videoElement_),r.setBackgroundMode(u.mode),r.outStream_=r.canvas_.captureStream(),e.next=54,r.applyConstraintsOnStream(r.outStream_,{frameRate:r.fps_});case 54:return!0===u.debug&&console.debug("[VideoFilter]: Capturing at",r.fps_,"fps,",r.width_,"x",r.height_),e.abrupt("return",r);case 56:case"end":return e.stop()}}),e)})))()}return g(e,[{key:"setProcessEnable",value:function(e){this.config_.process_enable=e}},{key:"getProcessEnable",value:function(e){return this.config_.process_enable}},{key:"setFaceEnhanceMode",value:function(e){this.config_.face_enhance=e}},{key:"getFaceEnhanceMode",value:function(e){return this.config_.face_enhance}},{key:"setStudioLightMode",value:function(e){this.Segment_.setStudioLightMode(e),this.config_.studio_light=e}},{key:"getStudioLightMode",value:function(e){return this.config_.studio_light}},{key:"setPortraitLightMode",value:function(e){this.config_.portrait_light=e}},{key:"getPortraitLightMode",value:function(e){return this.config_.portrait_light}},{key:"setFaceSmoothMode",value:function(e){this.Segment_.faceSmoothReset(),this.config_.face_smooth=e}},{key:"getFaceSmoothMode",value:function(e){return this.config_.face_smooth}},{key:"setLogDuration",value:function(e){var t=parseInt(e);t>=this.logDurationMin_&&t<=this.logDurationMax_?(this.Segment_.setLogDurationSec(t),this.config_.logduration=t):console.debug("[VideoFilter] Unable to setLogDuration: value is out of range.")}},{key:"getLogDurationMin",value:function(){return this.logDurationMin_}},{key:"getLogDurationMax",value:function(){return this.logDurationMax_}},{key:"getLogDuration",value:function(){return this.config_.logduration}},{key:"setFaceGlowStrength",value:function(e){var t;(t="number"==typeof e?e:parseInt(e))>=this.faceGlowStrengthMin_&&t<=this.faceGlowStrengthMax_?(this.Segment_.setFaceGlowStrengthVal(t,this.faceGlowStrengthMin_,this.faceGlowStrengthMax_),this.config_.face_glow_strength=t):console.debug("[VideoFilter] Unable to setFaceGlowStrength: value is out of range.")}},{key:"getFaceGlowStrengthMax",value:function(){return this.faceGlowStrengthMax_}},{key:"getFaceGlowStrengthMin",value:function(){return this.faceGlowStrengthMin_}},{key:"getFaceGlowStrength",value:function(){return this.config_.face_glow_strength}},{key:"setLightDirectionX",value:function(e){var t;(t="number"==typeof e?e:parseInt(e))>=this.lightDirectionMin_&&t<=this.lightDirectionMax_?(this.Segment_.setLightDirectionXVal(t,this.lightDirectionMin_,this.lightDirectionMax_),this.config_.light_direction_x=t):console.debug("[VideoFilter] Unable to setLightDirectionX: value is out of range.")}},{key:"setLightDirectionY",value:function(e){var t;(t="number"==typeof e?e:parseInt(e))>=this.lightDirectionMin_&&t<=this.lightDirectionMax_?(this.Segment_.setLightDirectionYVal(t,this.lightDirectionMin_,this.lightDirectionMax_),this.config_.light_direction_y=t):console.debug("[VideoFilter] Unable to setLightDirectionY: value is out of range.")}},{key:"getLightDirectionX",value:function(){return this.config_.light_direction_x}},{key:"getLightDirectionY",value:function(){return this.config_.light_direction_y}},{key:"getLightDirectionMax",value:function(){return this.lightDirectionMax_}},{key:"getLightDirectionMin",value:function(){return this.lightDirectionMin_}},{key:"setFaceSmoothStrength",value:function(e){var t;(t="number"==typeof e?e:parseInt(e))>=this.faceSmoothStrengthMin_&&t<=this.faceSmoothStrengthMax_?(this.Segment_.setFaceSmoothStrengthVal(t,this.faceSmoothStrengthMin_,this.faceSmoothStrengthMax_),this.config_.face_smooth_strength=t):console.debug("[VideoFilter] Unable to setFaceSmoothStrength: value is out of range.")}},{key:"getFaceSmoothStrengthMax",value:function(){return this.faceSmoothStrengthMax_}},{key:"getFaceSmoothStrengthMin",value:function(){return this.faceSmoothStrengthMin_}},{key:"getFaceSmoothStrength",value:function(){return this.config_.face_smooth_strength}},{key:"uploadVideoLog",value:function(){var e=this.Segment_.getVideoLog();(function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(t){return e(r.result)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(new Blob([e],{type:"image/png"})).then((function(e){return function(){var e=v(p().mark((function e(t,n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new XMLHttpRequest).responseType="blob",r.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(r.response),e.download="videoLog.bin",e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},r.open("GET",t),r.send();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e)}))}},{key:"setPassthroughMode",value:function(e){this.Segment_.denoiseReset(),this.config_.passthrough=e}},{key:"getPassthroughMode",value:function(){return this.config_.passthrough}},{key:"setAutoframeMode",value:function(e){this.config_.autoframe=e}},{key:"getAutoframeMode",value:function(){return this.config_.autoframe}},{key:"setDenoiseMode",value:function(e){this.Segment_.denoiseReset(),this.config_.denoise=e}},{key:"getDenoiseMode",value:function(){return this.config_.denoise}},{key:"setDebugMode",value:function(e){this.Segment_.setDebug(e),this.config_.debug=e}},{key:"getDebugMode",value:function(){return this.config_.debug}},{key:"setBackgroundMode",value:function(e){"bokeh"==e?(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh"):"replace"==e?(this.config_.mode="replace",!1===this.loadVideoInProgress_&&this.Segment_.setOperationMode("replace")):(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh",console.log("[VideoFilter]: setBackgroundMode error:",e,"is invalid options. Valid options are {'bokeh','replace'}"))}},{key:"setSaturation",value:function(e){this.Segment_.setSaturation(e)}},{key:"getBackgroundMode",value:function(){return this.config_.mode}},{key:"setProcessingErrorHandler",value:function(e){this.config_.processing_error_handler=e}},{key:"getImageBitMap",value:function(){var e=v(p().mark((function e(t){var n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=v(p().mark((function e(r,i){var a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Image).onload=v(p().mark((function e(){var i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===n.config_.debug&&console.debug("[VideoFilter: getImageBitMap] About to createImageBitmap"),e.next=3,createImageBitmap(a);case 3:i=e.sent,a=null,!0===n.config_.debug&&console.debug("[VideoFilter: getImageBitMap] Have been changed to",t),r(i);case 5:case"end":return e.stop()}}),e)}))),a.onerror=function(){a=null,console.log("[VideoFilter: getImageBitMap] backgroundImg.onerror"),i(null)},a.src=t,!0===n.config_.debug&&console.debug("[VideoFilter: getImageBitMap] backgroundImg_.src",t);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModelVersion",value:function(){return this.modelVersion_}},{key:"changeBackground",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"==typeof t||t instanceof String)){e.next=16;break}if("#"!=t.charAt(0)||7!=t.length){e.next=7;break}if(parseInt(t.slice(1),16).toString(16)===t.slice(1).toLowerCase()){e.next=4;break}throw new c("Invalid argument: input string does not contain hex values");case 4:this.changeBackgroundColor(t),e.next=14;break;case 7:if("mp4"!==t.split(".").pop()){e.next=12;break}return e.next=10,this.changeVideoBackground(t);case 10:e.next=14;break;case 12:return e.next=14,this.changeImageBackground(t);case 14:e.next=22;break;case 16:if(!(t instanceof HTMLVideoElement)){e.next=20;break}this.changeVideoBackground(t),e.next=22;break;case 20:return e.next=22,this.changeImageBackground(t);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeBackgroundColor",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16),r=parseInt(t[2],16),i=parseInt(t[3],16);this.Segment_.setBackgroundColor(n,r,i),!0===this.config_.debug&&console.debug("[VideoFilter: changeBackgroundColor]")}},{key:"changeImageBackground",value:function(){var e=v(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("string"==typeof t||t instanceof String)){e.next=8;break}return!0===this.config_.debug&&console.debug("[VideoFilter: changeImageBackground] backgroundImg_.src",t),e.next=5,this.getImageBitMap(t);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,createImageBitmap(t);case 10:n=e.sent;case 11:null!==n&&(this.backgroundImageBitmap_=n,this.config_.background=t,this.Segment_.setBackgroundImageBitmap(n)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new c("Failed to load background image",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadVideoBackground",value:function(){this.loadVideoInProgress_=!0,4==this.videoBackgroundSrc_.readyState&&(this.Segment_.setBackgroundVideoSrc(this.videoBackgroundSrc_),"replace"==this.config_.mode&&this.Segment_.setOperationMode("replace"),this.Segment_.resumeBackgroundVideo(),this.loadVideoInProgress_=!1),this.videoBackgroundSrc_.addEventListener("loadeddata",function(){this.videoBackgroundSrc_.videoWidth>0&&(!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground(HTMLVideoElement)] About to set the video background"),this.Segment_.setBackgroundVideoSrc(this.videoBackgroundSrc_),"replace"==this.config_.mode&&this.Segment_.setOperationMode("replace"),this.Segment_.resumeBackgroundVideo(),this.loadVideoInProgress_=!1,!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground(HTMLVideoElement)] video background has changed"))}.bind(this))}},{key:"changeVideoBackground",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,"string"==typeof t||t instanceof String?(this.Segment_.pauseBackgroundVideo(),null==this.videoBackgroundSrc_&&(this.videoBackgroundSrc_=document.createElement("video")),this.videoBackgroundSrc_.pause(),this.videoBackgroundSrc_.src="",this.videoBackgroundSrc_.srcObject=null,this.videoBackgroundSrc_.load(),this.videoBackgroundSrc_.src=t,this.videoBackgroundSrc_.type="video/mp4",this.videoBackgroundSrc_.autoplay=!0,this.videoBackgroundSrc_.loop=!0,!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground] backgroundVideo_.src",this.videoBackgroundSrc_),this.loadVideoBackground()):t instanceof HTMLVideoElement?(this.Segment_.pauseBackgroundVideo(),this.videoBackgroundSrc_=t,this.loadVideoBackground()):console.warn("[VideoFilter: changeVideoBackground] ERROR: videoSrc is not a string or HTMLVideoElement"),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new c("Failed to load background video",e.t0);case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initVideo",value:function(e){var t=this;this.localVideo_=e,!0===this.config_.debug&&console.debug("[VideoFilter: initVideo] About to start the stream"),this.localVideo_.addEventListener("play",(function(){!0===t.config_.debug&&(console.debug("[VideoFilter: initVideo] 'play': setInterval",t.setIntervalId_,"this.videoElement_",t.videoElement_),t.config_.local_video_started=!0)})),this.localVideo_.onpause=function(){!0===t.config_.debug&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),t.config_.local_video_started=!1,t.stop()}}},{key:"initStream",value:function(e){var t=this,n=document.createElement("video");n.srcObject=e,this.localVideo_=n,!0===this.config_.debug&&console.debug("[VideoFilter: initStream] About to start the stream"),this.config_.local_video_started=!1,this.localVideo_.addEventListener("loadeddata",(function(){!0===t.config_.debug&&console.debug("[VideoFilter: initStream] 'play': setInterval",t.setIntervalId_,"this.inStream_",t.inStream_),t.config_.local_video_started=!0})),this.localVideo_.onpause=function(){!0===t.config_.debug&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),t.config_.local_video_started=!1,t.stop()},this.localVideo_.play()}},{key:"reinitStream",value:function(e){this.localVideo_.srcObject=e,this.localVideo_.play(),!0===this.config_.debug&&console.debug("[VideoFilter: reinitStream] Setting to new stream")}},{key:"stop",value:function(){null!==this.localVideo_&&null!==this.setIntervalId_&&(clearInterval(this.setIntervalId_),delete this.setIntervalId_,this.setIntervalId_=null,!0===this.config_.debug&&console.debug("[VideoFilter: stop] Have stopped video filter"))}},{key:"start",value:function(){null!==this.localVideo_&&null===this.setIntervalId_&&(this.setIntervalId_=setInterval(this.processSafe.bind(this,{}),1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_),!0===this.config_.debug&&console.debug("[VideoFilter: start] Have started video filter, fps:",this.fps_))}},{key:"restart",value:function(){null!==this.localVideo_&&null===this.setIntervalId_&&(this.setIntervalId_=setInterval(this.processSafe.bind(this,{}),1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_),!0===this.config_.debug&&console.debug("[VideoFilter: restart] Have restarted video filter"))}},{key:"changeInput",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(t instanceof HTMLVideoElement||t instanceof MediaStream)){e.next=2;break}throw new c("Failed to change an input. Invalid argument: only MediaStream or HTMLVideoElement for the source");case 2:if(null!==t){e.next=4;break}throw new c("Failed to change an input. Invalid argument: source = null");case 4:t instanceof HTMLVideoElement&&(this.config_.local_video_started=!1,this.width_=t.videoWidth,this.height_=t.videoHeight,this.fps_=30,this.videoElement_=t,this.Segment_.reinitTextures(this.width_,this.height_),this.inStream_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.initVideo(this.videoElement_),!0===this.config_.debug&&console.debug("[VideoFilter::changeInput]",this.videoElement_,this.width_,this.height_,t.videoWidth,t.videoHeight)),t instanceof MediaStream&&(this.config_.local_video_started=!1,this.width_===t.getVideoTracks()[0].getSettings().width&&this.height_===t.getVideoTracks()[0].getSettings().height||(this.width_=t.getVideoTracks()[0].getSettings().width,this.height_=t.getVideoTracks()[0].getSettings().height),this.fps_=t.getVideoTracks()[0].getSettings().frameRate,this.inStream_=t,this.Segment_.reinitTextures(this.width_,this.height_),this.videoElement_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.reinitStream(this.inStream_),!0===this.config_.debug&&console.debug("[VideoFilter::changeInput]",this.inStream_));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"process",value:function(){var e=v(p().mark((function e(t,n,r,i,a,o){var s,u,c,l,d,f,h;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return");case 2:if(!1!==r.process_enable){e.next=4;break}return e.abrupt("return");case 4:if(!1!==r.local_video_started){e.next=6;break}return e.abrupt("return");case 6:if(!(t.readyState<2)){e.next=8;break}return e.abrupt("return",void(!0===r.debug&&console.debug("[VideoFilter: process] Not enough video data to read, readyState:",t.readyState)));case 8:return e.next=10,createImageBitmap(t);case 10:if(s=e.sent,u=s.width,c=s.height,!(u<=0||c<=0)){e.next=15;break}return e.abrupt("return",(console.warn("[VideoFilter: process] Invalid resolution:",u,"x",c),void s.close()));case 15:if(n.width_==u&&n.height_==c||(n.reinitTextures(u,c),n.smoothMaskReset(),!0===r.debug&&console.debug("[VideoFilter] Video resolution has changed to: ",u,"x",c)),!0!==r.passthrough||!1!==r.autoframe||!1!==r.face_enhance||!1!==r.face_smooth||!1!==r.studio_light){e.next=25;break}if(!0!==r.denoise){e.next=22;break}return e.next=19,n.applyDenoise(s);case 19:n.copyDenoiseToCanvas(),e.next=24;break;case 22:return e.next=24,n.passthrough(s);case 24:return e.abrupt("return",void s.close());case 25:if(e.t0=!0===r.denoise,!e.t0){e.next=29;break}return e.next=29,n.applyDenoise(s);case 29:return e.next=31,n.preProcess(s,r.denoise);case 31:if(l=10,!0===this.config_.passthrough&&!0===this.config_.studio_light&&(l=1),n.putinferEngineInData(o,i),o._infer(!1===r.passthrough,!0===r.autoframe||!0===r.face_enhance||!0===r.face_smooth||!0===this.config_.studio_light,l),!0===r.face_enhance?(n.setSaturation(o._getFaceEnhanceSatBoost()),n.setToneMapPoly(o._getFaceEnhanceCurvePoly(0),o._getFaceEnhanceCurvePoly(1),o._getFaceEnhanceCurvePoly(2))):(n.setSaturation(1),n.setToneMapPoly(0,1,0)),d=o._getFrameWidth(),f=o._getFrameTLx(),h=o._getFrameTLy(),n.setZoomScale(1),n.setPanTilt(0,0),!0!==r.studio_light||!0!==r.passthrough){e.next=40;break}e.t1=(n.setSaturation(1),n.setToneMapPoly(0,1,0),!0===this.config_.face_smooth&&n.facialSmoothing(o,r.denoise,!1),!0===r.face_enhance&&(n.setSaturation(o._getFaceEnhanceSatBoost()),n.setToneMapPoly(o._getFaceEnhanceCurvePoly(0),o._getFaceEnhanceCurvePoly(1),o._getFaceEnhanceCurvePoly(2))),!0===r.autoframe&&(n.setZoomScale(d),n.setPanTilt(f,h)),void n.studioLightProcess(o,r.denoise,r.face_smooth,!0)),e.next=69;break;case 40:if(!0!==r.face_smooth){e.next=56;break}if(!0!==r.passthrough){e.next=45;break}!0===r.autoframe&&(n.setZoomScale(d),n.setPanTilt(f,h)),n.facialSmoothing(o,r.denoise,!0),e.next=53;break;case 45:return n.setSaturation(1),n.setToneMapPoly(0,1,0),n.facialSmoothing(o,r.denoise,!1),n.putinferEngineMask(o,a),!0===r.autoframe&&(n.setZoomScale(d),n.setPanTilt(f,h)),!0===this.config_.face_enhance&&(n.setSaturation(o._getFaceEnhanceSatBoost()),n.setToneMapPoly(o._getFaceEnhanceCurvePoly(0),o._getFaceEnhanceCurvePoly(1),o._getFaceEnhanceCurvePoly(2))),e.next=53,n.postProcess(r.denoise,r.face_smooth,r.studio_light,r.portrait_light,o);case 53:e.t2=void s.close(),e.next=68;break;case 56:if(!0===r.autoframe&&(n.setZoomScale(d),n.setPanTilt(f,h)),!0!==r.passthrough){e.next=62;break}return e.next=60,n.reframeOnly(r.denoise);case 60:e.next=65;break;case 62:return n.putinferEngineMask(o,a),e.next=65,n.postProcess(r.denoise,r.face_smooth,r.studio_light,r.portrait_light,o);case 65:return e.next=67,n.captureImage(t);case 67:e.t2=void s.close();case 68:e.t1=e.t2;case 69:return e.abrupt("return",e.t1);case 70:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i,a,o){return e.apply(this,arguments)}return t}()},{key:"processSafe",value:function(){var e=v(p().mark((function e(t){var n,r,i,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===t.isBusy){e.next=23;break}for(t.isBusy=!0,e.prev=2,n=a.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=a[i];return e.next=6,this.process.apply(this,r);case 6:requestAnimationFrame(this.process),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(2),"function"!=typeof this.config_.processing_error_handler){e.next=16;break}return e.next=14,this.config_.processing_error_handler(e.t0);case 14:e.next=18;break;case 16:console.error("[VideoFilter: default InternalErrorHandler] Internal error occurred. Stopping...",e.t0);try{this.stop()}catch(t){console.error("[VideoFilter: default InternalErrorHandler] Failed to stop a video filter while internal error occurred",t)}case 18:return e.prev=18,t.isBusy=!1,e.finish(18);case 21:e.next=24;break;case 23:!0===this.config_.debug&&console.debug("Video processor is busy");case 24:case"end":return e.stop()}}),e,this,[[2,9,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var e=v(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.outStream_);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changeOutputFrameRate",value:function(){var e=v(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.outStream_&&this.outStream_.getVideoTracks().length){e.next=2;break}throw new c("Output video track is not available.");case 2:return this.stop(),this.fps_=t,e.next=6,this.applyConstraintsOnStream(this.outStream_,{frameRate:t});case 6:this.start(),!0===this.config_.debug&&console.debug("[VideoFilter]: Framerate changed to",this.fps_);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"applyConstraintsOnStream",value:function(){var e=v(p().mark((function e(t,n){var r,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getVideoTracks()[0],o=a(a({},null!==(r=i.getConstraints())&&void 0!==r?r:{}),n),e.t0=0==navigator.userAgent.toLowerCase().indexOf("firefox")>-1,!e.t0){e.next=5;break}return e.next=5,i.applyConstraints(o);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()}(),r}()},e.exports=t()},5595:function(e,t,n){"use strict";var r=n(8058),i=n(4846),a=n(8254),o=n(2363).y,s=n(9968).m,u=n(5433).U,c=n(1113),l=n(7646),d=n(3096).fromCallback,p=n(7620).getCustomInspectSymbol,h=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,m=/[\x00-\x1F]/,v=["\n","\r","\0"],k=/[\x20-\x3A\x3C-\x7E]+/,b=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,_={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},w=2147483647e3,S='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function x(e){c.validate(c.isNonEmptyString(e),e);var t=String(e).toLowerCase();return"none"===t||"lax"===t||"strict"===t?t:null}var E=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),T=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,C="\n\\[?(?:\n(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|\n(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|\n(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|\n(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|\n(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))\n)(?:%[0-9a-zA-Z]{1,})?\\]?\n".replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),j=new RegExp("^".concat(C,"$"));function P(e,t,n,r){for(var i=0;i<e.length;){var a=e.charCodeAt(i);if(a<=47||a>=58)break;i++}return i<t||i>n?null:r||i==e.length?parseInt(e.substr(0,i),10):null}function M(e){var t=e.split(":"),n=[0,0,0];if(3!==t.length)return null;for(var r=0;r<3;r++){var i=2==r,a=P(t[r],1,2,i);if(null===a)return null;n[r]=a}return n}function I(e){e=String(e).substr(0,3).toLowerCase();var t=_[e];return t>=0?t:null}function R(e){if(e){var t=e.split(b);if(t){for(var n=null,r=null,i=null,a=null,o=null,s=null,u=0;u<t.length;u++){var c=t[u].trim();if(c.length){var l=void 0;null===i&&(l=M(c))?(n=l[0],r=l[1],i=l[2]):null!==a||null===(l=P(c,1,2,!0))?null!==o||null===(l=I(c))?null===s&&null!==(l=P(c,2,4,!0))&&((s=l)>=70&&s<=99?s+=1900:s>=0&&s<=69&&(s+=2e3)):o=l:a=l}}return null===a||null===o||null===s||null===i||a<1||a>31||s<1601||n>23||r>59||i>59?void 0:new Date(Date.UTC(s,o,a,n,r,i))}}}function A(e){return null==e?null:(e=e.trim().replace(/^\./,""),j.test(e)&&(e=e.replace("[","").replace("]","")),r&&/[^\u0001-\u007f]/.test(e)&&(e=r.toASCII(e)),e.toLowerCase())}function D(e,t,n){if(null==e||null==t)return null;if(!1!==n&&(e=A(e),t=A(t)),e==t)return!0;var r=e.lastIndexOf(t);return!(r<=0||e.length!==t.length+r||"."!==e.substr(r-1,1)||T.test(e))}function O(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}function N(e){if(!e||c.isEmptyString(e))return null;var t;if("string"==typeof e){if((t=O(e))instanceof Error)return null}else t=e;for(var n=new U,r=0;r<U.serializableProperties.length;r++){var i=U.serializableProperties[r];void 0!==t[i]&&t[i]!==z[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===t[i]?n[i]=null:n[i]="Infinity"==t[i]?"Infinity":new Date(t[i]):n[i]=t[i])}return n}function L(e,t){c.validate(c.isObject(e),e),c.validate(c.isObject(t),t);var n=0,r=e.path?e.path.length:0;return 0!==(n=(t.path?t.path.length:0)-r)||0!==(n=(e.creation?e.creation.getTime():w)-(t.creation?t.creation.getTime():w))||(n=e.creationIndex-t.creationIndex),n}function F(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return i(e)}var z={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0},U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,e);var n=p();n&&(this[n]=this.inspect),Object.assign(this,z,t),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++e.cookiesCreated})}return g(e,[{key:"inspect",value:function(){var e=Date.now(),t=null!=this.hostOnly?this.hostOnly:"?",n=this.creation?e-this.creation.getTime()+"ms":"?",r=this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?";return'Cookie="'.concat(this.toString(),"; hostOnly=").concat(t,"; aAge=").concat(r,"; cAge=").concat(n,'"')}},{key:"toJSON",value:function(){var t,n={},r=f(e.serializableProperties);try{for(r.s();!(t=r.n()).done;){var i=t.value;this[i]!==z[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===this[i]?n[i]=null:n[i]="Infinity"==this[i]?"Infinity":this[i].toISOString():"maxAge"===i?null!==this[i]&&(n[i]=this[i]==1/0||this[i]==-1/0?this[i].toString():this[i]):this[i]!==z[i]&&(n[i]=this[i]))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"clone",value:function(){return N(this.toJSON())}},{key:"validate",value:function(){if(!h.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||R(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!k.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;if(null==a.getPublicSuffix(e))return!1}return!0}},{key:"setExpires",value:function(e){e instanceof Date?this.expires=e:this.expires=R(e)||"Infinity"}},{key:"setMaxAge",value:function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e}},{key:"cookieString",value:function(){var e=this.value;return null==e&&(e=""),""===this.key?e:"".concat(this.key,"=").concat(e)}},{key:"toString",value:function(){var t,n=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?n+="; Expires=".concat((t=this.expires,c.validate(c.isDate(t),t),t.toUTCString())):n+="; Expires=".concat(this.expires)),null!=this.maxAge&&this.maxAge!=1/0&&(n+="; Max-Age=".concat(this.maxAge)),this.domain&&!this.hostOnly&&(n+="; Domain=".concat(this.domain)),this.path&&(n+="; Path=".concat(this.path)),this.secure&&(n+="; Secure"),this.httpOnly&&(n+="; HttpOnly"),this.sameSite&&"none"!==this.sameSite){var r=e.sameSiteCanonical[this.sameSite.toLowerCase()];n+="; SameSite=".concat(r||this.sameSite)}return this.extensions&&this.extensions.forEach((function(e){n+="; ".concat(e)})),n}},{key:"TTL",value:function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=R(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0}},{key:"expiryTime",value:function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,n=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+n}return this.expires==1/0?1/0:this.expires.getTime()}},{key:"expiryDate",value:function(e){var t=this.expiryTime(e);return t==1/0?new Date(w):t==-1/0?new Date(0):new Date(t)}},{key:"isPersistent",value:function(){return null!=this.maxAge||this.expires!=1/0}},{key:"canonicalizedDomain",value:function(){return null==this.domain?null:A(this.domain)}},{key:"cdomain",value:function(){return this.canonicalizedDomain()}}]),e}();function V(e){if(null!=e){var t=e.toLowerCase();switch(t){case E.STRICT:case E.SILENT:case E.DISABLED:return t}}return E.SILENT}U.cookiesCreated=0,U.parse=function(e,t){if(t&&"object"==typeof t||(t={}),c.isEmptyString(e)||!c.isString(e))return null;var n=(e=e.trim()).indexOf(";"),r=function(e,t){e=function(e){if(c.isEmptyString(e))return e;for(var t=0;t<v.length;t++){var n=e.indexOf(v[t]);-1!==n&&(e=e.substr(0,n))}return e}(e),c.validate(c.isString(e),e);var n,r,i=e.indexOf("=");if(t)0===i&&(i=(e=e.substr(1)).indexOf("="));else if(i<=0)return;if(i<=0?(n="",r=e.trim()):(n=e.substr(0,i).trim(),r=e.substr(i+1).trim()),!m.test(n)&&!m.test(r)){var a=new U;return a.key=n,a.value=r,a}}(-1===n?e:e.substr(0,n),!!t.loose);if(r){if(-1===n)return r;var i=e.slice(n+1).trim();if(0===i.length)return r;for(var a=i.split(";");a.length;){var o=a.shift().trim();if(0!==o.length){var s=o.indexOf("="),u=void 0,l=void 0;switch(-1===s?(u=o,l=null):(u=o.substr(0,s),l=o.substr(s+1)),u=u.trim().toLowerCase(),l&&(l=l.trim()),u){case"expires":if(l){var d=R(l);d&&(r.expires=d)}break;case"max-age":if(l&&/^-?[0-9]+$/.test(l)){var f=parseInt(l,10);r.setMaxAge(f)}break;case"domain":if(l){var p=l.trim().replace(/^\./,"");p&&(r.domain=p.toLowerCase())}break;case"path":r.path=l&&"/"===l[0]?l:null;break;case"secure":r.secure=!0;break;case"httponly":r.httpOnly=!0;break;case"samesite":switch(l?l.toLowerCase():""){case"strict":r.sameSite="strict";break;case"lax":r.sameSite="lax";break;case"none":r.sameSite="none";break;default:r.sameSite=void 0}break;default:r.extensions=r.extensions||[],r.extensions.push(o)}}}return r}},U.fromJSON=N,U.serializableProperties=Object.keys(z),U.sameSiteLevel={strict:3,lax:2,none:1},U.sameSiteCanonical={strict:"Strict",lax:"Lax"};var B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rejectPublicSuffixes:!0};y(this,e),"boolean"==typeof n&&(n={rejectPublicSuffixes:n}),c.validate(c.isObject(n),n),this.rejectPublicSuffixes=n.rejectPublicSuffixes,this.enableLooseMode=!!n.looseMode,this.allowSpecialUseDomain="boolean"!=typeof n.allowSpecialUseDomain||n.allowSpecialUseDomain,this.store=t||new s,this.prefixSecurity=V(n.prefixSecurity),this._cloneSync=W("clone"),this._importCookiesSync=W("_importCookies"),this.getCookiesSync=W("getCookies"),this.getCookieStringSync=W("getCookieString"),this.getSetCookieStringsSync=W("getSetCookieStrings"),this.removeAllCookiesSync=W("removeAllCookies"),this.setCookieSync=W("setCookie"),this.serializeSync=W("serialize")}return g(e,[{key:"setCookie",value:function(e,t,n,r){var i;if(c.validate(c.isNonEmptyString(t),r,n),c.isFunction(t))return(r=t)(new Error("No URL was specified"));var o=F(t);if(c.isFunction(n)&&(r=n,n={}),c.validate(c.isFunction(r),r),!c.isNonEmptyString(e)&&!c.isObject(e)&&e instanceof String&&0==e.length)return r(null);var s=A(o.hostname),u=n.loose||this.enableLooseMode,l=null;if(n.sameSiteContext&&!(l=x(n.sameSiteContext)))return r(new Error(S));if("string"==typeof e||e instanceof String){if(!(e=U.parse(e,{loose:u})))return i=new Error("Cookie failed to parse"),r(n.ignoreError?null:i)}else if(!(e instanceof U))return i=new Error("First argument to setCookie must be a Cookie object or string"),r(n.ignoreError?null:i);var d=n.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==a.getPublicSuffix(e.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:n.ignoreError})&&!j.test(e.domain))return i=new Error("Cookie has domain set to a public suffix"),r(n.ignoreError?null:i);if(e.domain){if(!D(s,e.cdomain(),!1))return i=new Error("Cookie not in this host's domain. Cookie:".concat(e.cdomain()," Request:").concat(s)),r(n.ignoreError?null:i);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=s;if(e.path&&"/"===e.path[0]||(e.path=function(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}(o.pathname),e.pathIsDefault=!0),!1===n.http&&e.httpOnly)return i=new Error("Cookie is HttpOnly and this isn't an HTTP API"),r(n.ignoreError?null:i);if("none"!==e.sameSite&&void 0!==e.sameSite&&l&&"none"===l)return i=new Error("Cookie is SameSite but this is a cross-origin request"),r(n.ignoreError?null:i);var f=this.prefixSecurity===E.SILENT;if(this.prefixSecurity!==E.DISABLED){var p,h=!1;if(function(e){return c.validate(c.isObject(e),e),!e.key.startsWith("__Secure-")||e.secure}(e)?function(e){return c.validate(c.isObject(e)),!e.key.startsWith("__Host-")||e.secure&&e.hostOnly&&null!=e.path&&"/"===e.path}(e)||(h=!0,p="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(h=!0,p="Cookie has __Secure prefix but Secure attribute is not set"),h)return r(n.ignoreError||f?null:new Error(p))}var m=this.store;m.updateCookie||(m.updateCookie=function(e,t,n){this.putCookie(t,n)}),m.findCookie(e.domain,e.path,e.key,(function(t,i){if(t)return r(t);var a=function(t){if(t)return r(t);r(null,e)};if(i){if(!1===n.http&&i.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),r(n.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=d,m.updateCookie(i,e,a)}else e.creation=e.lastAccessed=d,m.putCookie(e,a)}))}},{key:"getCookies",value:function(e,t,n){c.validate(c.isNonEmptyString(e),n,e);var r=F(e);c.isFunction(t)&&(n=t,t={}),c.validate(c.isObject(t),n,t),c.validate(c.isFunction(n),n);var i=A(r.hostname),a=r.pathname||"/",o=t.secure;null!=o||!r.protocol||"https:"!=r.protocol&&"wss:"!=r.protocol||(o=!0);var s=0;if(t.sameSiteContext){var l=x(t.sameSiteContext);if(!(s=U.sameSiteLevel[l]))return n(new Error(S))}var d=t.http;null==d&&(d=!0);var p=t.now||Date.now(),h=!1!==t.expire,m=!!t.allPaths,v=this.store;function g(e){if(e.hostOnly){if(e.domain!=i)return!1}else if(!D(i,e.domain,!1))return!1;return!(!m&&!u(a,e.path))&&!(e.secure&&!o)&&!(e.httpOnly&&!d)&&!(s&&U.sameSiteLevel[e.sameSite||"none"]>s)&&!(h&&e.expiryTime()<=p&&(v.removeCookie(e.domain,e.path,e.key,(function(){})),1))}v.findCookies(i,m?null:a,this.allowSpecialUseDomain,(function(e,r){if(e)return n(e);r=r.filter(g),!1!==t.sort&&(r=r.sort(L));var i,a=new Date,o=f(r);try{for(o.s();!(i=o.n()).done;)i.value.lastAccessed=a}catch(s){o.e(s)}finally{o.f()}n(null,r)}))}},{key:"getCookieString",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop();c.validate(c.isFunction(r),r),t.push((function(e,t){e?r(e):r(null,t.sort(L).map((function(e){return e.cookieString()})).join("; "))})),this.getCookies.apply(this,t)}},{key:"getSetCookieStrings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop();c.validate(c.isFunction(r),r),t.push((function(e,t){e?r(e):r(null,t.map((function(e){return e.toString()})))})),this.getCookies.apply(this,t)}},{key:"serialize",value:function(e){c.validate(c.isFunction(e),e);var t=this.store.constructor.name;c.isObject(t)&&(t=null);var n={version:"tough-cookie@".concat(l),storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:V(this.prefixSecurity),cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return e(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((function(t,r){return t?e(t):(n.cookies=r.map((function(e){return delete(e=e instanceof U?e.toJSON():e).creationIndex,e})),e(null,n))}))}},{key:"toJSON",value:function(){return this.serializeSync()}},{key:"_importCookies",value:function(e,t){var n=this,r=e.cookies;if(!r||!Array.isArray(r))return t(new Error("serialized jar has no cookies array"));r=r.slice();var i=function e(i){if(i)return t(i);if(!r.length)return t(i,n);var a;try{a=N(r.shift())}catch(i){return t(i)}if(null===a)return e(null);n.store.putCookie(a,e)};i()}},{key:"clone",value:function(t,n){1===arguments.length&&(n=t,t=null),this.serialize((function(r,i){if(r)return n(r);e.deserialize(i,t,n)}))}},{key:"cloneSync",value:function(e){if(0===arguments.length)return this._cloneSync();if(!e.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)}},{key:"removeAllCookies",value:function(e){c.validate(c.isFunction(e),e);var t=this.store;if("function"==typeof t.removeAllCookies&&t.removeAllCookies!==o.prototype.removeAllCookies)return t.removeAllCookies(e);t.getAllCookies((function(n,r){if(n)return e(n);if(0===r.length)return e(null);var i=0,a=[];function o(t){if(t&&a.push(t),++i===r.length)return e(a.length?a[0]:null)}r.forEach((function(e){t.removeCookie(e.domain,e.path,e.key,o)}))}))}}],[{key:"deserialize",value:function(t,n,r){var i;if(3!==arguments.length&&(r=n,n=null),c.validate(c.isFunction(r),r),"string"==typeof t){if((i=O(t))instanceof Error)return r(i)}else i=t;var a=new e(n,{rejectPublicSuffixes:i.rejectPublicSuffixes,looseMode:i.enableLooseMode,allowSpecialUseDomain:i.allowSpecialUseDomain,prefixSecurity:i.prefixSecurity});a._importCookies(i,(function(e){if(e)return r(e);r(null,a)}))}},{key:"deserializeSync",value:function(t,n){var r="string"==typeof t?JSON.parse(t):t,i=new e(n,{rejectPublicSuffixes:r.rejectPublicSuffixes,looseMode:r.enableLooseMode});if(!i.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return i._importCookiesSync(r),i}}]),e}();function W(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(this[e].apply(this,i.concat([function(e,r){t=e,n=r}])),t)throw t;return n}}B.fromJSON=B.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach((function(e){B.prototype[e]=d(B.prototype[e])})),B.deserialize=d(B.deserialize),t.US=B,t.Vj=U,a.getPublicSuffix,n(6326).p,c.ParameterError},9968:function(e,t,n){"use strict";var r=n(3096).fromCallback,i=n(2363).y,a=n(6326).p,o=n(5433).U,s=n(7620),u=s.getCustomInspectSymbol,c=s.getUtilInspect,l=function(e){k(n,e);var t=b(n);function n(){var e;y(this,n),(e=t.call(this)).synchronous=!0,e.idx={};var r=u();return r&&(e[r]=e.inspect),e}return g(n,[{key:"inspect",value:function(){return"{ idx: ".concat(c(d)(this.idx,!1,2)," }")}},{key:"findCookie",value:function(e,t,n,r){return this.idx[e]&&this.idx[e][t]?r(null,this.idx[e][t][n]||null):r(null,void 0)}},{key:"findCookies",value:function(e,t,n,r){var i,s=[];if("function"==typeof n&&(r=n,n=!0),!e)return r(null,[]);i=t?function(e){Object.keys(e).forEach((function(n){if(o(t,n)){var r=e[n];for(var i in r)s.push(r[i])}}))}:function(e){for(var t in e){var n=e[t];for(var r in n)s.push(n[r])}};var u=a(e,n)||[e],c=this.idx;u.forEach((function(e){var t=c[e];t&&i(t)})),r(null,s)}},{key:"putCookie",value:function(e,t){this.idx[e.domain]||(this.idx[e.domain]={}),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]={}),this.idx[e.domain][e.path][e.key]=e,t(null)}},{key:"updateCookie",value:function(e,t,n){this.putCookie(t,n)}},{key:"removeCookie",value:function(e,t,n,r){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][n]&&delete this.idx[e][t][n],r(null)}},{key:"removeCookies",value:function(e,t,n){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),n(null)}},{key:"removeAllCookies",value:function(e){return this.idx={},e(null)}},{key:"getAllCookies",value:function(e){var t=[],n=this.idx;Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(r){Object.keys(n[e][r]).forEach((function(i){null!==i&&t.push(n[e][r][i])}))}))})),t.sort((function(e,t){return(e.creationIndex||0)-(t.creationIndex||0)})),e(null,t)}}]),n}(i);function d(e){var t=Object.keys(e);if(0===t.length)return"{}";var n="{\n";return Object.keys(e).forEach((function(r,i){n+=function(e,t){var n="  '".concat(e,"': {\n");return Object.keys(t).forEach((function(e,r,i){n+=function(e,t){var n="    '".concat(e,"': {\n");return Object.keys(t).forEach((function(e,r,i){var a=t[e];n+="      ".concat(e,": ").concat(a.inspect()),r<i.length-1&&(n+=","),n+="\n"})),n+="    }"}(e,t[e]),r<i.length-1&&(n+=","),n+="\n"})),n+="  }"}(r,e[r]),i<t.length-1&&(n+=","),n+="\n"})),n+="}"}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach((function(e){l.prototype[e]=r(l.prototype[e])})),t.m=l},5433:function(e,t){"use strict";t.U=function(e,t){if(t===e)return!0;if(0===e.indexOf(t)){if("/"===t.substr(-1))return!0;if("/"===e.substr(t.length,1))return!0}return!1}},6326:function(e,t,n){"use strict";var r=n(8254);t.p=function(e,t){var n=r.getPublicSuffix(e,{allowSpecialUseDomain:t});if(!n)return null;if(n==e)return[e];"."==e.slice(-1)&&(e=e.slice(0,-1));for(var i=e.slice(0,-(n.length+1)).split(".").reverse(),a=n,o=[a];i.length;)a="".concat(i.shift(),".").concat(a),o.push(a);return o}},8254:function(e,t,n){"use strict";var r=n(3682),i=["local","example","invalid","localhost","test"],a=["localhost","invalid"];t.getPublicSuffix=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split("."),o=n[n.length-1],s=!!t.allowSpecialUseDomain,u=!!t.ignoreError;if(s&&i.includes(o)){if(n.length>1)return"".concat(n[n.length-2],".").concat(o);if(a.includes(o))return"".concat(o)}if(!u&&i.includes(o))throw new Error('Cookie has domain set to the public suffix "'.concat(o,'" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.'));return r.get(e)}},2363:function(e,t){"use strict";t.y=function(){function e(){y(this,e),this.synchronous=!1}return g(e,[{key:"findCookie",value:function(e,t,n,r){throw new Error("findCookie is not implemented")}},{key:"findCookies",value:function(e,t,n,r){throw new Error("findCookies is not implemented")}},{key:"putCookie",value:function(e,t){throw new Error("putCookie is not implemented")}},{key:"updateCookie",value:function(e,t,n){throw new Error("updateCookie is not implemented")}},{key:"removeCookie",value:function(e,t,n,r){throw new Error("removeCookie is not implemented")}},{key:"removeCookies",value:function(e,t,n){throw new Error("removeCookies is not implemented")}},{key:"removeAllCookies",value:function(e){throw new Error("removeAllCookies is not implemented")}},{key:"getAllCookies",value:function(e){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}]),e}()},7620:function(e,t,n){function r(){try{return n(3339)}catch(e){return null}}function i(){return Symbol.for("nodejs.util.inspect.custom")}t.getUtilInspect=function(e){var t=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).requireUtil||r)();return function(n,r,i){return t?t.inspect(n,r,i):e(n)}},t.getCustomInspectSymbol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.lookupCustomInspectSymbol||i)()||function(e){var t=(e.requireUtil||r)();return t?t.inspect.custom:null}(e)}},1113:function(e,t){"use strict";function n(e){return"function"==typeof e}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"[object Object]"===toString.call(e)}var a=function(e){k(n,e);var t=b(n);function n(){y(this,n);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.call.apply(t,[this].concat(r))}return g(n)}(_(Error));t.ParameterError=a,t.isFunction=n,t.isNonEmptyString=function(e){return r(e)&&""!==e},t.isDate=function(e){return function(e,t){try{return e instanceof t}catch(e){return!1}}(e,Date)&&function(e){return"number"==typeof e&&e%1==0}(e.getTime())},t.isEmptyString=function(e){return""===e||e instanceof String&&""===e.toString()},t.isString=r,t.isObject=i,t.validate=function(e,t,r){if(n(t)||(r=t,t=null),i(r)||(r={Error:"Failed Check"}),!e){if(!t)throw new a(r);t(new a(r))}}},7646:function(e){e.exports="4.1.2"},3096:function(e,t){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){var t=arguments,n=this;if("function"!=typeof arguments[arguments.length-1])return new Promise((function(r,i){t[t.length]=function(e,t){if(e)return i(e);r(t)},t.length++,e.apply(n,t)}));e.apply(this,arguments)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){var t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,e.apply(this,arguments).then((function(e){return t(null,e)}),t)}),"name",{value:e.name})}},4590:function(e,t,n){e.exports=n.p+"voxeet-worklet.js"},6850:function(e){e.exports={leaveURI:"//www.voxeet.com/web-thank-you",wsSessionURI:"wss://comms.sdk.dolby.io",ackTimeout:3e4,keepAlive:3e4,peerConnection:{config:{bundlePolicy:"max-bundle",iceServers:[{urls:"stun:stun.l.google.com:19302"}]},constraints:{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!0}]}},media:{dolbyProcessing:{constraints:{audio:{autoGainControl:!1,googAutoGainControl:!1,noiseSuppression:!1,echoCancellation:!0},video:{}}},music:{default:{constraints:{audio:{autoGainControl:!0,googAutoGainControl:!0,noiseSuppression:!0,echoCancellation:!0},video:{}}},echoCancellationOff:{constraints:{audio:{autoGainControl:!0,googAutoGainControl:!0,noiseSuppression:!0,echoCancellation:!1},video:{}}}},unprocessed:{constraints:{audio:{autoGainControl:!1,googAutoGainControl:!1,noiseSuppression:!1,echoCancellation:!1},video:{}}},dapm:{constraints:{audio:{autoGainControl:!0,googAutoGainControl:!0,noiseSuppression:!1,echoCancellation:!0},video:{}}},constraints:{audio:{autoGainControl:!0,googAutoGainControl:!0,noiseSuppression:!0,echoCancellation:!0},video:{}}},audioSettings:{chromeCutOffVolume:.06,distanceModel:"inverse",refDistance:.3,maxDistance:15,rollOffFactor:4,gain:1},dialInTexts:{title:"Bad connection?",description:"It looks like you have a low quality IP connection. We'd suggest rejoining this conference from your phone \u2013 simply dial in using the Voxeet dial-in number and PIN below.\nTo find an alternative local number, verify your current location.",phone_label:"Your dial-in number:",pin_label:"Your PIN:",qr_label:"You can also scan the QR code with your phone to autodial."},offLine:!1,videoSettings:{desktop:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:720,fps:25,dimensions:{width:1280,height:720}}],mobile:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:480,fps:25,dimensions:{width:854,height:480}}]},pluginDefs:{voxeetPlugin:{name:"Voxeet Plugin",mimeType:"application/x-voxeetplugin",activeXName:"VoxeetInc.VoxeetPlugin",guid:"987ae2fb-3c9c-5787-bf68-b66d84219b95",version:"1.1.0.0",installURL:{win:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.exe",mac:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.dmg"}}}}},4846:function(e,t,r){"use strict";var i=r(7245),a=r(7375),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function f(e){return(e||"").toString().replace(o,"")}var p=[["#","hash"],["?","query"],function(e,t){return v(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function m(e){var t,r=("undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new y(unescape(e.pathname),{});else if("string"===a)for(t in i=new y(e,{}),h)delete i[t];else if("object"===a){for(t in e)t in h||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=u.test(e.href))}return i}function v(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=f(e)).replace(s,""),t=t||{};var n,r=l.exec(e),i=r[1]?r[1].toLowerCase():"",a=!!r[2],o=!!r[3],u=0;return a?o?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):o?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):v(i)?n=r[4]:i?a&&(n=n.slice(2)):u>=2&&v(t.protocol)&&(n=r[4]),{protocol:i,slashes:a||v(i),slashesCount:u,rest:n}}function y(e,t,n){if(e=(e=f(e)).replace(s,""),!(this instanceof y))return new y(e,t,n);var r,o,u,c,l,h,k=p.slice(),b=typeof t,_=this,w=0;for("object"!==b&&"string"!==b&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),r=!(o=g(e||"",t=m(t))).protocol&&!o.slashes,_.slashes=o.slashes||r&&t.slashes,_.protocol=o.protocol||t.protocol||"",e=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||d.test(e))||!o.slashes&&(o.protocol||o.slashesCount<2||!v(_.protocol)))&&(k[3]=[/(.*)/,"pathname"]);w<k.length;w++)"function"!=typeof(c=k[w])?(u=c[0],h=c[1],u!=u?_[h]=e:"string"==typeof u?~(l="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof c[2]?(_[h]=e.slice(0,l),e=e.slice(l+c[2])):(_[h]=e.slice(l),e=e.slice(0,l))):(l=u.exec(e))&&(_[h]=l[1],e=e.slice(0,l.index)),_[h]=_[h]||r&&c[3]&&t[h]||"",c[4]&&(_[h]=_[h].toLowerCase())):e=c(e,_);n&&(_.query=n(_.query)),r&&t.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==t.pathname)&&(_.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(_.pathname,t.pathname)),"/"!==_.pathname.charAt(0)&&v(_.protocol)&&(_.pathname="/"+_.pathname),i(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(~(l=_.auth.indexOf(":"))?(_.username=_.auth.slice(0,l),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(l+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin="file:"!==_.protocol&&v(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}y.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),r[e]=t;break;case"port":r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,c.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(r.username=t.slice(0,s),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(s+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<p.length;u++){var l=p[u];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&v(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):"file:"!==n.protocol&&v(n.protocol)&&!r&&"/"!==n.pathname&&(o+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},y.extractProtocol=g,y.location=m,y.trimLeft=f,y.qs=a,e.exports=y},2382:function(e,t,n){"use strict";var r=n(3475);e.exports=function(e,t){var i=e&&e.window,a={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var o in t)hasOwnProperty.call(t,o)&&(a[o]=t[o]);var s=r.log,u=r.detectBrowser(i),c=n(629)||null,l=n(7435)||null,d=n(4449)||null,f=n(4477)||null,p=n(1594)||null,h={browserDetails:u,commonShim:p,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!c||!c.shimPeerConnection||!a.shimChrome)return s("Chrome shim is not included in this adapter release."),h;s("adapter.js shimming chrome."),h.browserShim=c,p.shimCreateObjectURL(i),c.shimGetUserMedia(i),c.shimMediaStream(i),c.shimSourceObject(i),c.shimPeerConnection(i),c.shimOnTrack(i),c.shimAddTrackRemoveTrack(i),c.shimGetSendersWithDtmf(i),c.shimSenderReceiverGetStats(i),c.fixNegotiationNeeded(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"firefox":if(!d||!d.shimPeerConnection||!a.shimFirefox)return s("Firefox shim is not included in this adapter release."),h;s("adapter.js shimming firefox."),h.browserShim=d,p.shimCreateObjectURL(i),d.shimGetUserMedia(i),d.shimSourceObject(i),d.shimPeerConnection(i),d.shimOnTrack(i),d.shimRemoveStream(i),d.shimSenderGetStats(i),d.shimReceiverGetStats(i),d.shimRTCDataChannel(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"edge":if(!l||!l.shimPeerConnection||!a.shimEdge)return s("MS edge shim is not included in this adapter release."),h;s("adapter.js shimming edge."),h.browserShim=l,p.shimCreateObjectURL(i),l.shimGetUserMedia(i),l.shimPeerConnection(i),l.shimReplaceTrack(i),l.shimGetDisplayMedia(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"safari":if(!f||!a.shimSafari)return s("Safari shim is not included in this adapter release."),h;s("adapter.js shimming safari."),h.browserShim=f,p.shimCreateObjectURL(i),f.shimRTCIceServerUrls(i),f.shimCreateOfferLegacy(i),f.shimCallbacksAPI(i),f.shimLocalStreamsAPI(i),f.shimRemoteStreamsAPI(i),f.shimTrackEventTransceiver(i),f.shimGetUserMedia(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;default:s("Unsupported browser!")}return h}},629:function(e,t,n){"use strict";var r=n(3475),i=r.log;function a(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?a(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){a(e,e.get(t),n)}))})))}function o(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&a(e,n,i)}))})),i}e.exports={shimGetUserMedia:n(483),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}else r.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=this,a=n.apply(i,arguments);return a||(a=t(i,e),i._senders.push(a)),a};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;r.apply(t,arguments);var n=t._senders.indexOf(e);-1!==n&&t._senders.splice(n,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],i.apply(n,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],a.apply(t,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var t=this;if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var n,r,i,o=arguments[0];return t.getSenders().forEach((function(e){e.track===o&&(n?i=!0:n=e)})),t.getReceivers().forEach((function(e){return e.track===o&&(r?i=!0:r=e),e.track===o})),i||n&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(t,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=t.getSenders();n.apply(this,arguments);var i=t.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var t=r.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!n._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());n._streams[t.id]=r,n._reverseStreams[r.id]=t,t=r}i.apply(n,[t])};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},a.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var a=r.getSenders().find((function(e){return e.track===t}));if(a)throw new DOMException("Track already exists.","InvalidAccessError");r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{};var o=r._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);r._streams[n.id]=s,r._reverseStreams[s.id]=n,r.addStream(s)}return r.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(e,[function(n){var r=u(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then((function(t){return u(e,t)}))}}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=c(e,arguments[0]),o.apply(e,arguments)):o.apply(e,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},shimPeerConnection:function(e){var t=r.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,r){var i=this,a=arguments;if(arguments.length>0&&"function"==typeof e)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||"function"!=typeof arguments[0]))return n.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var u=function(e){a[1](s(o(e)))};return n.apply(this,[u,arguments[0]])}return new Promise((function(e,t){n.apply(i,[function(t){e(s(o(t)))},t])})).then(t,r)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,r=new Promise((function(r,i){n.apply(t,[e[0],r,i])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),t.version<52&&["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){n.apply(e,[r,i,t])}))}return n.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(e){r.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&("function"==typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},483:function(e,t,n){"use strict";var r=n(3475),i=r.log;e.exports=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,a=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[i("min",n)]=r.ideal,t.optional.push(a),(a={})[i("max",n)]=r.ideal,t.optional.push(a)):(a[i("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var u,c=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?u=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(u=["front"]),u))return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return!n&&t.length&&-1!==u.indexOf("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=s.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=a(e.video),i("chrome: "+JSON.stringify(e)),r(e)}));e.video=a(e.video)}return i("chrome: "+JSON.stringify(e)),r(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};n.getUserMedia=function(e,t,r){o(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(s(e))}))}))};var u=function(e){return new Promise((function(t,r){n.getUserMedia(e,t,r)}))};if(n.mediaDevices||(n.mediaDevices={getUserMedia:u,enumerateDevices:function(){return new Promise((function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),n.mediaDevices.getUserMedia){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return o(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(s(e))}))}))}}else n.mediaDevices.getUserMedia=function(e){return u(e)};void 0===n.mediaDevices.addEventListener&&(n.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===n.mediaDevices.removeEventListener&&(n.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},1594:function(e,t,n){"use strict";var r=n(2281),i=n(3475);e.exports={shimRTCIceCandidate:function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=r.parseCandidate(e.candidate),a=Object.assign(n,i);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),r=t.revokeObjectURL.bind(t),a=new Map,o=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++o;return a.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){r(e),a.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=a.get(e)||null,s.set.apply(this,[e])}});var u=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=a.get(arguments[1])||null),u.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){var t=r.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=r.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},a=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var a=r.matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?i=parseInt(a[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},u=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;if(e._sctp=null,n(arguments[0])){var t,r=a(arguments[0]),i=o(r),c=s(arguments[0],r);t=0===i&&0===c?Number.POSITIVE_INFINITY:0===i||0===c?Math.max(i,c):Math.min(i,c);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return t}}),e._sctp=l}return u.apply(e,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=this,r=t.apply(e,arguments);return n(r,e),r},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}}},7435:function(e,t,n){"use strict";var r=n(3475),i=n(7225),a=n(6294);e.exports={shimGetUserMedia:n(2673),shimPeerConnection:function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var o=a(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new o(e)},e.RTCPeerConnection.prototype=o.prototype},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var n=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return n.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(e.navigator,t)}}}}},7225:function(e,t,n){"use strict";var r=n(3475);e.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var a="string"==typeof i;return a&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=a?i[0]:i,!!i.length}}))}},2673:function(e){"use strict";e.exports=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},4449:function(e,t,n){"use strict";var r=n(3475);e.exports={shimGetUserMedia:n(2244),shimOnTrack:function(e){"object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var t=r.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(n,r){if(t.version<38&&n&&n.iceServers){for(var i=[],a=0;a<n.iceServers.length;a++){var o=n.iceServers[a];if(o.hasOwnProperty("urls"))for(var s=0;s<o.urls.length;s++){var u={url:o.urls[s]};0===o.urls[s].indexOf("turn")&&(u.username=o.username,u.credential=o.credential),i.push(u)}else i.push(n.iceServers[a])}n.iceServers=i}return new e.mozRTCPeerConnection(n,r)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){return a.apply(this,[e||null]).then((function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)),t.version<53&&!n)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(n,r)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}},2244:function(e,t,n){"use strict";var r=n(3475),i=r.log;e.exports=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,a=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,r,a){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),i("ff37: "+JSON.stringify(e))),n.mozGetUserMedia(e,r,(function(e){a(o(e))}))};if(n.mediaDevices||(n.mediaDevices={getUserMedia:function(e){return new Promise((function(t,n){s(e,t,n)}))},addEventListener:function(){},removeEventListener:function(){}}),n.mediaDevices.enumerateDevices=n.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},t.version<41){var u=n.mediaDevices.enumerateDevices.bind(n.mediaDevices);n.mediaDevices.enumerateDevices=function(){return u().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(t.version<49){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return Promise.reject(o(e))}))}}if(!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var l=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},d=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),l(e.audio,"autoGainControl","mozAutoGainControl"),l(e.audio,"noiseSuppression","mozNoiseSuppression")),d(e)},a&&a.prototype.getSettings){var f=a.prototype.getSettings;a.prototype.getSettings=function(){var e=f.apply(this,arguments);return l(e,"mozAutoGainControl","autoGainControl"),l(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var p=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),l(e,"autoGainControl","mozAutoGainControl"),l(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}n.getUserMedia=function(e,i,a){if(t.version<44)return s(e,i,a);r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(i,a)}}},4477:function(e,t,n){"use strict";var r=n(3475);e.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(n){n.id===e&&(t=n)})),this._remoteStreams&&this._remoteStreams.forEach((function(n){n.id===e&&(t=n)})),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach((function(r){t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,r=e.getTracks();this.getSenders().forEach((function(e){-1!==r.indexOf(e.track)&&n.removeTrack(e)}))}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],a=0;a<e.iceServers.length;a++){var o=e.iceServers[a];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,i.push(o)):i.push(e.iceServers[a])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=n.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||n.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=n.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||n.addTransceiver("video")}return t.apply(n,arguments)}}}},3475:function(e){"use strict";var t=!0,n=!0;function r(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}e.exports={extractVersion:r,wrapPeerConnectionEvent:function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=a,i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return a.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(t=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(t)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){n&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=r(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=r(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=r(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=r(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},7187:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,a,o,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(a=this._events[e]))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),a.apply(this,s)}else if(r(a))for(s=Array.prototype.slice.call(arguments,1),o=(c=a.slice()).length,u=0;u<o;u++)c[u].apply(this,s);return!0},t.prototype.addListener=function(e,a){var o;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(a.listener)?a.listener:a),this._events[e]?r(this._events[e])?this._events[e].push(a):this._events[e]=[this._events[e],a]:this._events[e]=a,r(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=o;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){a=s;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},3339:function(){},2349:function(){},673:function(){},6946:function(){},2379:function(e){"use strict";e.exports=JSON.parse('["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","a\xe9roport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn","\u516c\u53f8.cn","\u7f51\u7edc.cn","\u7db2\u7d61.cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk","\u516c\u53f8.hk","\u6559\u80b2.hk","\u654e\u80b2.hk","\u653f\u5e9c.hk","\u500b\u4eba.hk","\u4e2a\ufffd\ufffd.hk","\u7b87\u4eba.hk","\u7db2\u7edc.hk","\u7f51\u7edc.hk","\u7ec4\u7e54.hk","\u7db2\u7d61.hk","\u7f51\u7d61.hk","\u7ec4\u7ec7.hk","\u7d44\u7e54.hk","\u7d44\u7ec7.hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir","\u0627\u06cc\u0631\u0627\u0646.ir","\u0627\u064a\u0631\u0627\u0646.ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-s\xfcd-tirol.it","trentin-sudtirol.it","trentin-s\xfcdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-s\xfcd-tirol.it","trentino-sudtirol.it","trentino-s\xfcdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinos\xfcd-tirol.it","trentinosudtirol.it","trentinos\xfcdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentins\xfcd-tirol.it","trentinsudtirol.it","trentins\xfcdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vall\xe9e-aoste.it","vallee-d-aoste.it","vall\xe9e-d-aoste.it","valleeaoste.it","vall\xe9eaoste.it","valleedaoste.it","vall\xe9edaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-s\xfcdtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-s\xfcdtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-s\xfcdtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl\xec.it","cesenaforli.it","cesenaforl\xec.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl\xec-cesena.it","forlicesena.it","forl\xeccesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","s\xfcdtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp","\u6803\u6728.jp","\u611b\u77e5.jp","\u611b\u5a9b.jp","\u5175\u5eab.jp","\u718a\u672c.jp","\u8328\u57ce.jp","\u5317\u6d77\u9053.jp","\u5343\u8449.jp","\u548c\u6b4c\u5c71.jp","\u9577\u5d0e.jp","\u9577\u91ce.jp","\u65b0\u6f5f.jp","\u9752\u68ee.jp","\u9759\u5ca1.jp","\u6771\u4eac.jp","\u77f3\u5ddd.jp","\u57fc\u7389.jp","\u4e09\u91cd.jp","\u4eac\u90fd.jp","\u4f50\u8cc0.jp","\u5927\u5206.jp","\u5927\u962a.jp","\u5948\u826f.jp","\u5bae\u57ce.jp","\u5bae\u5d0e.jp","\u5bcc\u5c71.jp","\u5c71\u53e3.jp","\u5c71\u5f62.jp","\u5c71\u68a8.jp","\u5ca9\u624b.jp","\u5c90\u961c.jp","\u5ca1\u5c71.jp","\u5cf6\u6839.jp","\u5e83\u5cf6.jp","\u5fb3\u5cf6.jp","\u6c96\u7e04.jp","\u6ecb\u8cc0.jp","\u795e\u5948\u5ddd.jp","\u798f\u4e95.jp","\u798f\u5ca1.jp","\u798f\u5cf6.jp","\u79cb\u7530.jp","\u7fa4\u99ac.jp","\u9999\u5ddd.jp","\u9ad8\u77e5.jp","\u9ce5\u53d6.jp","\u9e7f\u5150\u5cf6.jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunica\xe7\xf5es.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunica\xe7\xf5es.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","l\xe4ns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum","\u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd.museum","\u0438\u043a\u043e\u043c.museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","\xe5krehamn.no","algard.no","\xe5lg\xe5rd.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","br\xf8nn\xf8ysund.no","drobak.no","dr\xf8bak.no","egersund.no","fetsund.no","floro.no","flor\xf8.no","fredrikstad.no","hokksund.no","honefoss.no","h\xf8nefoss.no","jessheim.no","jorpeland.no","j\xf8rpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langev\xe5g.no","leirvik.no","mjondalen.no","mj\xf8ndalen.no","mo-i-rana.no","mosjoen.no","mosj\xf8en.no","nesoddtangen.no","orkanger.no","osoyro.no","os\xf8yro.no","raholt.no","r\xe5holt.no","sandnessjoen.no","sandnessj\xf8en.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stj\xf8rdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","\xe5fjord.no","agdenes.no","al.no","\xe5l.no","alesund.no","\xe5lesund.no","alstahaug.no","alta.no","\xe1lt\xe1.no","alaheadju.no","\xe1laheadju.no","alvdal.no","amli.no","\xe5mli.no","amot.no","\xe5mot.no","andebu.no","andoy.no","and\xf8y.no","andasuolo.no","ardal.no","\xe5rdal.no","aremark.no","arendal.no","\xe5s.no","aseral.no","\xe5seral.no","asker.no","askim.no","askvoll.no","askoy.no","ask\xf8y.no","asnes.no","\xe5snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-h\xf8land.no","austevoll.no","austrheim.no","averoy.no","aver\xf8y.no","balestrand.no","ballangen.no","balat.no","b\xe1l\xe1t.no","balsfjord.no","bahccavuotna.no","b\xe1hccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","b\xe1jddar.no","baidar.no","b\xe1id\xe1r.no","berg.no","bergen.no","berlevag.no","berlev\xe5g.no","bearalvahki.no","bearalv\xe1hki.no","bindal.no","birkenes.no","bjarkoy.no","bjark\xf8y.no","bjerkreim.no","bjugn.no","bodo.no","bod\xf8.no","badaddja.no","b\xe5d\xe5ddj\xe5.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","br\xf8nn\xf8y.no","bygland.no","bykle.no","barum.no","b\xe6rum.no","bo.telemark.no","b\xf8.telemark.no","bo.nordland.no","b\xf8.nordland.no","bievat.no","biev\xe1t.no","bomlo.no","b\xf8mlo.no","batsfjord.no","b\xe5tsfjord.no","bahcavuotna.no","b\xe1hcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyr\xf8y.no","donna.no","d\xf8nna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","even\xe1\u0161\u0161i.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finn\xf8y.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","fl\xe5.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","fr\xe6na.no","froya.no","fr\xf8ya.no","fusa.no","fyresdal.no","forde.no","f\xf8rde.no","gamvik.no","gangaviika.no","g\xe1\u014bgaviika.no","gaular.no","gausdal.no","gildeskal.no","gildesk\xe5l.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gj\xf8vik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kr\xe5anghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","h\xe1bmer.no","hapmir.no","h\xe1pmir.no","hammerfest.no","hammarfeasta.no","h\xe1mm\xe1rfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","\xe1k\u014boluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","her\xf8y.m\xf8re-og-romsdal.no","heroy.nordland.no","her\xf8y.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hob\xf8l.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holt\xe5len.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","h\xe6gebostad.no","hoyanger.no","h\xf8yanger.no","hoylandet.no","h\xf8ylandet.no","ha.no","h\xe5.no","ibestad.no","inderoy.no","inder\xf8y.no","iveland.no","jevnaker.no","jondal.no","jolster.no","j\xf8lster.no","karasjok.no","karasjohka.no","k\xe1r\xe1\u0161johka.no","karlsoy.no","galsa.no","g\xe1ls\xe1.no","karmoy.no","karm\xf8y.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","kl\xe6bu.no","kongsberg.no","kongsvinger.no","kragero.no","krager\xf8.no","kristiansand.no","kristiansund.no","krodsherad.no","kr\xf8dsherad.no","kvalsund.no","rahkkeravju.no","r\xe1hkker\xe1vju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvits\xf8y.no","kvafjord.no","kv\xe6fjord.no","giehtavuoatna.no","kvanangen.no","kv\xe6nangen.no","navuotna.no","n\xe1vuotna.no","kafjord.no","k\xe5fjord.no","gaivuotna.no","g\xe1ivuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loab\xe1t.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","lea\u014bgaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","lind\xe5s.no","lom.no","loppa.no","lahppi.no","l\xe1hppi.no","lund.no","lunner.no","luroy.no","lur\xf8y.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","l\xe6rdal.no","lodingen.no","l\xf8dingen.no","lorenskog.no","l\xf8renskog.no","loten.no","l\xf8ten.no","malvik.no","masoy.no","m\xe5s\xf8y.no","muosat.no","muos\xe1t.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","mel\xf8y.no","meraker.no","mer\xe5ker.no","moareke.no","mo\xe5reke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","m\xe5lselv.no","malatvuopmi.no","m\xe1latvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","n\xe5\xe5mesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unj\xe1rga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenj\xe1rga.no","nordre-land.no","nordreisa.no","raisa.no","r\xe1isa.no","nore-og-uvdal.no","notodden.no","naroy.no","n\xe6r\xf8y.no","notteroy.no","n\xf8tter\xf8y.no","odda.no","oksnes.no","\xf8ksnes.no","oppdal.no","oppegard.no","oppeg\xe5rd.no","orkdal.no","orland.no","\xf8rland.no","orskog.no","\xf8rskog.no","orsta.no","\xf8rsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","oster\xf8y.no","ostre-toten.no","\xf8stre-toten.no","overhalla.no","ovre-eiker.no","\xf8vre-eiker.no","oyer.no","\xf8yer.no","oygarden.no","\xf8ygarden.no","oystre-slidre.no","\xf8ystre-slidre.no","porsanger.no","porsangu.no","pors\xe1\u014bgu.no","porsgrunn.no","radoy.no","rad\xf8y.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennes\xf8y.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","ris\xf8r.no","roan.no","rollag.no","rygge.no","ralingen.no","r\xe6lingen.no","rodoy.no","r\xf8d\xf8y.no","romskog.no","r\xf8mskog.no","roros.no","r\xf8ros.no","rost.no","r\xf8st.no","royken.no","r\xf8yken.no","royrvik.no","r\xf8yrvik.no","rade.no","r\xe5de.no","salangen.no","siellak.no","saltdal.no","salat.no","s\xe1l\xe1t.no","s\xe1lat.no","samnanger.no","sande.more-og-romsdal.no","sande.m\xf8re-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sand\xf8y.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjerv\xf8y.no","skierva.no","skierv\xe1.no","skjak.no","skj\xe5k.no","skodje.no","skanland.no","sk\xe5nland.no","skanit.no","sk\xe1nit.no","smola.no","sm\xf8la.no","snillfjord.no","snasa.no","sn\xe5sa.no","snoasa.no","snaase.no","sn\xe5ase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stj\xf8rdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","s\xf8gne.no","somna.no","s\xf8mna.no","sondre-land.no","s\xf8ndre-land.no","sor-aurdal.no","s\xf8r-aurdal.no","sor-fron.no","s\xf8r-fron.no","sor-odal.no","s\xf8r-odal.no","sor-varanger.no","s\xf8r-varanger.no","matta-varjjat.no","m\xe1tta-v\xe1rjjat.no","sorfold.no","s\xf8rfold.no","sorreisa.no","s\xf8rreisa.no","sorum.no","s\xf8rum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tj\xf8me.no","tokke.no","tolga.no","torsken.no","tranoy.no","tran\xf8y.no","tromso.no","troms\xf8.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","tr\xe6na.no","trogstad.no","tr\xf8gstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysv\xe6r.no","tonsberg.no","t\xf8nsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vads\xf8.no","cahcesuolo.no","\u010d\xe1hcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard\xf8.no","varggat.no","v\xe1rgg\xe1t.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","veg\xe5rshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestv\xe5g\xf8y.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","v\xe6r\xf8y.no","vagan.no","v\xe5gan.no","voagat.no","vagsoy.no","v\xe5gs\xf8y.no","vaga.no","v\xe5g\xe5.no","valer.ostfold.no","v\xe5ler.\xf8stfold.no","valer.hedmark.no","v\xe5ler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","m\u0101ori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw","\u7db2\u8def.tw","\u7d44\u7e54.tw","\u5546\u696d.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","\u0627\u0645\u0627\u0631\u0627\u062a","\u0570\u0561\u0575","\u09ac\u09be\u0982\u09b2\u09be","\u0431\u0433","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","\u0431\u0435\u043b","\u4e2d\u56fd","\u4e2d\u570b","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","\u0645\u0635\u0631","\u0435\u044e","\u03b5\u03c5","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","\u10d2\u10d4","\u03b5\u03bb","\u9999\u6e2f","\u516c\u53f8.\u9999\u6e2f","\u6559\u80b2.\u9999\u6e2f","\u653f\u5e9c.\u9999\u6e2f","\u500b\u4eba.\u9999\u6e2f","\u7db2\u7d61.\u9999\u6e2f","\u7d44\u7e54.\u9999\u6e2f","\u0cad\u0cbe\u0cb0\u0ca4","\u0b2d\u0b3e\u0b30\u0b24","\u09ad\u09be\u09f0\u09a4","\u092d\u093e\u0930\u0924\u092e\u094d","\u092d\u093e\u0930\u094b\u0924","\u0680\u0627\u0631\u062a","\u0d2d\u0d3e\u0d30\u0d24\u0d02","\u092d\u093e\u0930\u0924","\u0628\u0627\u0631\u062a","\u0628\u06be\u0627\u0631\u062a","\u0c2d\u0c3e\u0c30\u0c24\u0c4d","\u0aad\u0abe\u0ab0\u0aa4","\u0a2d\u0a3e\u0a30\u0a24","\u09ad\u09be\u09b0\u09a4","\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe","\u0627\u06cc\u0631\u0627\u0646","\u0627\u064a\u0631\u0627\u0646","\u0639\u0631\u0627\u0642","\u0627\u0644\u0627\u0631\u062f\u0646","\ud55c\uad6d","\u049b\u0430\u0437","\u0ea5\u0eb2\u0ea7","\u0dbd\u0d82\u0d9a\u0dcf","\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8","\u0627\u0644\u0645\u063a\u0631\u0628","\u043c\u043a\u0434","\u043c\u043e\u043d","\u6fb3\u9580","\u6fb3\u95e8","\u0645\u0644\u064a\u0633\u064a\u0627","\u0639\u0645\u0627\u0646","\u067e\u0627\u06a9\u0633\u062a\u0627\u0646","\u067e\u0627\u0643\u0633\u062a\u0627\u0646","\u0641\u0644\u0633\u0637\u064a\u0646","\u0441\u0440\u0431","\u043f\u0440.\u0441\u0440\u0431","\u043e\u0440\u0433.\u0441\u0440\u0431","\u043e\u0431\u0440.\u0441\u0440\u0431","\u043e\u0434.\u0441\u0440\u0431","\u0443\u043f\u0440.\u0441\u0440\u0431","\u0430\u043a.\u0441\u0440\u0431","\u0440\u0444","\u0642\u0637\u0631","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","\u0627\u0644\u0633\u0639\u0648\u062f\u06cc\u0629","\u0627\u0644\u0633\u0639\u0648\u062f\u06cc\u06c3","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0647","\u0633\u0648\u062f\u0627\u0646","\u65b0\u52a0\u5761","\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd","\u0633\u0648\u0631\u064a\u0629","\u0633\u0648\u0631\u064a\u0627","\u0e44\u0e17\u0e22","\u0e28\u0e36\u0e01\u0e29\u0e32.\u0e44\u0e17\u0e22","\u0e18\u0e38\u0e23\u0e01\u0e34\u0e08.\u0e44\u0e17\u0e22","\u0e23\u0e31\u0e10\u0e1a\u0e32\u0e25.\u0e44\u0e17\u0e22","\u0e17\u0e2b\u0e32\u0e23.\u0e44\u0e17\u0e22","\u0e40\u0e19\u0e47\u0e15.\u0e44\u0e17\u0e22","\u0e2d\u0e07\u0e04\u0e4c\u0e01\u0e23.\u0e44\u0e17\u0e22","\u062a\u0648\u0646\u0633","\u53f0\u7063","\u53f0\u6e7e","\u81fa\u7063","\u0443\u043a\u0440","\u0627\u0644\u064a\u0645\u0646","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","\u0915\u0949\u092e","\u30bb\u30fc\u30eb","\u4f5b\u5c71","\u6148\u5584","\u96c6\u56e2","\u5728\u7ebf","\u70b9\u770b","\u0e04\u0e2d\u0e21","\u516b\u5366","\u0645\u0648\u0642\u0639","\u516c\u76ca","\u516c\u53f8","\u9999\u683c\u91cc\u62c9","\u7f51\u7ad9","\u79fb\u52a8","\u6211\u7231\u4f60","\u043c\u043e\u0441\u043a\u0432\u0430","\u043a\u0430\u0442\u043e\u043b\u0438\u043a","\u043e\u043d\u043b\u0430\u0439\u043d","\u0441\u0430\u0439\u0442","\u8054\u901a","\u05e7\u05d5\u05dd","\u65f6\u5c1a","\u5fae\u535a","\u6de1\u9a6c\u9521","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u043e\u0440\u0433","\u0928\u0947\u091f","\u30b9\u30c8\u30a2","\u30a2\u30de\u30be\u30f3","\uc0bc\uc131","\u5546\u6807","\u5546\u5e97","\u5546\u57ce","\u0434\u0435\u0442\u0438","\u30dd\u30a4\u30f3\u30c8","\u65b0\u95fb","\u5bb6\u96fb","\u0643\u0648\u0645","\u4e2d\u6587\u7f51","\u4e2d\u4fe1","\u5a31\u4e50","\u8c37\u6b4c","\u96fb\u8a0a\u76c8\u79d1","\u8d2d\u7269","\u30af\u30e9\u30a6\u30c9","\u901a\u8ca9","\u7f51\u5e97","\u0938\u0902\u0917\u0920\u0928","\u9910\u5385","\u7f51\u7edc","\u043a\u043e\u043c","\u4e9a\u9a6c\u900a","\u8bfa\u57fa\u4e9a","\u98df\u54c1","\u98de\u5229\u6d66","\u624b\u673a","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u0644\u0639\u0644\u064a\u0627\u0646","\u0627\u062a\u0635\u0627\u0644\u0627\u062a","\u0628\u0627\u0632\u0627\u0631","\u0627\u0628\u0648\u0638\u0628\u064a","\u0643\u0627\u062b\u0648\u0644\u064a\u0643","\u0647\u0645\u0631\u0627\u0647","\ub2f7\ucef4","\u653f\u5e9c","\u0634\u0628\u0643\u0629","\u0628\u064a\u062a\u0643","\u0639\u0631\u0628","\u673a\u6784","\u7ec4\u7ec7\u673a\u6784","\u5065\u5eb7","\u62db\u8058","\u0440\u0443\u0441","\u5927\u62ff","\u307f\u3093\u306a","\u30b0\u30fc\u30b0\u30eb","\u4e16\u754c","\u66f8\u7c4d","\u7f51\u5740","\ub2f7\ub137","\u30b3\u30e0","\u5929\u4e3b\u6559","\u6e38\u620f","verm\xf6gensberater","verm\xf6gensberatung","\u4f01\u4e1a","\u4fe1\u606f","\u5609\u91cc\u5927\u9152\u5e97","\u5609\u91cc","\u5e7f\u4e1c","\u653f\u52a1","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","g\xfcnstigbestellen.de","g\xfcnstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","h\xe4kkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page","\u0431\u0438\u0437.\u0440\u0443\u0441","\u043a\u043e\u043c.\u0440\u0443\u0441","\u043a\u0440\u044b\u043c.\u0440\u0443\u0441","\u043c\u0438\u0440.\u0440\u0443\u0441","\u043c\u0441\u043a.\u0440\u0443\u0441","\u043e\u0440\u0433.\u0440\u0443\u0441","\u0441\u0430\u043c\u0430\u0440\u0430.\u0440\u0443\u0441","\u0441\u043e\u0447\u0438.\u0440\u0443\u0441","\u0441\u043f\u0431.\u0440\u0443\u0441","\u044f.\u0440\u0443\u0441","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]')}},t={};function w(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,w),i.loaded=!0,i.exports}w.m=e,w.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return w.d(t,{a:t}),t},w.d=function(e,t){for(var n in t)w.o(t,n)&&!w.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},w.u=function(e){if(348===e)return"voxeet-dvwc-worker.js"},w.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},w.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},w.p="",w.b="undefined"!==typeof document?document.baseURI||self.location.href:"";var S={};return function(e,t,a){"use strict";w.d(S,{default:function(){return Up}});var u={};w.r(u),w.d(u,{VideoPresentationPause:function(){return z},VideoPresentationPlay:function(){return F},VideoPresentationSeek:function(){return U},VideoPresentationStarted:function(){return N},VideoPresentationStopped:function(){return L}});var h={};w.r(h),w.d(h,{FileConversionProgress:function(){return Y},FileConverted:function(){return q},FilePresentationStarted:function(){return B},FilePresentationStopped:function(){return W},FilePresentationUpdated:function(){return G}});var m={};w.r(m),w.d(m,{ActiveSpeakerChange:function(){return fe},BandwidthRestrictionChanged:function(){return be},ConferenceDestroyed:function(){return le},ConferenceEnded:function(){return ae},ConferenceGlobalError:function(){return oe},ConferenceGlobalTrace:function(){return se},ConferenceJoined:function(){return X},ConferenceJoining:function(){return J},ConferenceLeaving:function(){return ie},ConferenceLeft:function(){return ee},ConferenceStats:function(){return Q},ConferenceVideoFilterUpdate:function(){return ve},DvcsMetric:function(){return de},OfferCreated:function(){return te},OwnParticipantSwitched:function(){return ce},ParticipantAdded:function(){return ne},ParticipantKicked:function(){return me},ParticipantSwitched:function(){return ue},ParticipantUpdated:function(){return re},RtsStatusUpdated:function(){return _e},StreamAdded:function(){return ge},StreamRemoved:function(){return ye},StreamUpdated:function(){return ke},UpdateToken:function(){return he},UserAction:function(){return we},VideoForwardedChanged:function(){return pe}});var v={};w.r(v),w.d(v,{RecordingStatusUpdated:function(){return Se}});var x={};w.r(x),w.d(x,{ConferenceMessageReceived:function(){return xe}});var E={};w.r(E),w.d(E,{ActiveParticipants:function(){return Ne},ConferenceCreatedNotification:function(){return Ie},ConferenceEndedNotification:function(){return Re},ConferenceStatusNotification:function(){return Ae},InvitationReceived:function(){return Me},ParticipantJoinedNotification:function(){return De},ParticipantLeftNotification:function(){return Oe}});var T={};w.r(T),w.d(T,{SessionClosed:function(){return Fe},SessionOpened:function(){return Le}});var C={};w.r(C),w.d(C,{LocalVideoStarted:function(){return ze},LocalVideoStopped:function(){return Ue},LocalVideoUpdated:function(){return Ve}});var j={};w.r(j),w.d(j,{AudioUpdated:function(){return Be}});var P,M,I,R=w(7187),A=w.n(R),D=g((function e(t){y(this,e),this.type=t})),O=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e)).conferenceId=r,a.userId=i,a}return g(n)}(D),N=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.VideoPresentationStarted,e.conferenceId,e.userId)).url=e.url,r.timestamp=e.timestamp,r}return g(n,null,[{key:"fromData",value:function(e){return new n(Object.assign({},e))}}]),n}(O),L=function(e){k(n,e);var t=b(n);function n(e){return y(this,n),t.call(this,Ge.VideoPresentationStopped,e.conferenceId,e.userId)}return g(n,null,[{key:"fromData",value:function(e){return new n(Object.assign({},e))}}]),n}(O),F=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.VideoPresentationPlay,e.conferenceId,e.userId)).timestamp=e.timestamp,r}return g(n,null,[{key:"fromData",value:function(e){return new n(Object.assign({},e))}}]),n}(O),z=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.VideoPresentationPause,e.conferenceId,e.userId)).timestamp=e.timestamp,r}return g(n,null,[{key:"fromData",value:function(e){return new n(Object.assign({},e))}}]),n}(O),U=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.VideoPresentationSeek,e.conferenceId,e.userId)).timestamp=e.timestamp,r}return g(n,null,[{key:"fromData",value:function(e){return new n(Object.assign({},e))}}]),n}(O),V=g((function e(t){y(this,e),this.position=0,this.id=t})),B=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.FilePresentationStarted)).file=e,r}return g(n,null,[{key:"fromData",value:function(e){var t=new V(e.fileId);return t.imageCount=e.imageCount,t.position=e.position,t.ownerId=e.userId,new n(t)}}]),n}(D),W=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.FilePresentationStopped)).file=e,r}return g(n,null,[{key:"fromData",value:function(e){var t=new V(e.fileId);return t.ownerId=e.userId,new n(t)}}]),n}(D),G=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.FilePresentationUpdated)).file=e,r}return g(n,null,[{key:"fromData",value:function(e){var t=new V(e.fileId);return t.ownerId=e.userId,t.position=e.position,new n(t)}}]),n}(D),H=g((function e(t,n,r,i,a){y(this,e),this.userId=t,this.fileId=n,this.currentStep=r,this.stepCount=i,this.progress=a})),Y=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.FileConversionProgress)).fileConversion=e,r}return g(n,null,[{key:"fromData",value:function(e){return new n(new H(e.userId,e.fileId,e.currentStep,e.stepCount,e.progress))}}]),n}(D),Z=g((function e(t,n){y(this,e),this.id=t,this.imageCount=n})),q=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this,Ge.FileConverted)).files=[],e}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.error=e.error||"",e.files&&e.files.forEach((function(e){var n=new Z(e.fileId,e.nbImageConverted);n.name=e.filename,n.size=e.filesize,n.ownerId=e.owner,t.files.push(n)})),t}}]),n}(D),$=function(){function e(){y(this,e)}return g(e,null,[{key:"fromJoinData",value:function(t){var n=new e;return n.currentLanguage=t.currentLanguage,n.dolbyVoice="true"===t.dolbyVoice,n.liveRecording=t.liveRecording,n.mode=t.mode,n.rtcpMode=t.rtcpMode,n.stats=t.stats,n.ttl=t.ttl,n.videoCodec=t.videoCodec,n.spatialAudioStyle=t.spatialAudioStyle,n}}]),e}();!function(e){e.Regular="regular",e.Mixed="mixed"}(P||(P={}));var K=g((function e(){y(this,e)}));!function(e){e.None="none",e.SendOnly="sendonly",e.RecvOnly="recvonly",e.SendRecv="sendrecv"}(M||(M={}));var X=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceJoined)}return g(n,[{key:"isJoinedAsRTSViewer",value:function(){var e;return(null===(e=this.listenOnly)||void 0===e?void 0:e.type)===P.Mixed}}],[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e&&e.conferenceId?e.conferenceId:null,t.recordingStatus=e.recordingStatus,t.recordingParticipant=e.recordingUser,t.recordingStartTimestamp=e.startRecordTimestamp,t.parameters=$.fromJoinData(e.metadata),t.listenOnly=e.listenOnly,t}}]),n}(D),J=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.ConferenceJoining)).conferenceId=e,r}return g(n)}(D),Q=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceStats)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.stats=e.participantStats,t}}]),n}(D),ee=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceLeft)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.stateDump=e,t}}]),n}(D),te=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.OfferCreated)}return g(n,[{key:"withMaster",value:function(e){return this.master=e,this}},{key:"withUserId",value:function(e){return this.userId=e,this}},{key:"withConferenceId",value:function(e){return this.conferenceId=e,this}},{key:"withDescription",value:function(e){return this.description=e,this}},{key:"withCandidates",value:function(e){return this.candidates=e,this}},{key:"withState",value:function(e){return this.state=e,this}}],[{key:"fromData",value:function(e){return(new n).withMaster(e.master).withUserId(e.user_id).withConferenceId(e.conference_id).withDescription(e.description).withCandidates(e.candidates).withState(e.state)}}]),n}(D),ne=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantAdded)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.userId=e.user_id,t.externalId=e.externalId,t.name=e.name,t.avatarUrl=e.avatarUrl,t.status=e.status,t.metadata=e.metadata,t.participantType=e.participantType,t.audio=e.audio||!1,t.audioReceivingStopped=e.audioReceivingStopped||!1,t.video=(null==e?void 0:e.video)||!1,t}}]),n}(D),re=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantUpdated)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.userId=e.user_id,t.status=e.status,t.participantType=e.participantType,t.audio=e.audio,t.audioReceivingStopped=e.audioReceivingStopped,t.name=e.name,t.avatarUrl=e.avatarUrl,t.externalId=e.externalId,t.video=(null==e?void 0:e.video)||!1,t}},{key:"fromParticipant",value:function(e){var t=new n;return t.userId=e.id,t.status=e.status,t.participantType=e.type,t.externalId=e.info.externalId,t.name=e.info.name,t.avatarUrl=e.info.avatarUrl,t.audio=e.audioTransmitting||!1,t.video=e.videoTransmitting||!1,t}}]),n}(D),ie=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceLeaving)}return g(n)}(D),ae=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceEnded)}return g(n)}(D),oe=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,Ge.ConferenceGlobalError)).error=e,r&&(i.code=r),i}return g(n,null,[{key:"fromData",value:function(e,t){return new n(e,t)}}]),n}(D),se=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),r=t.call(this,Ge.ConferenceGlobalTrace),e.description&&(r.description=e.description),r.data=e.data,r.api=e.api,r.ts=Date.now(),r}return g(n,null,[{key:"fromData",value:function(e){return new n(e)}}]),n}(D),ue=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantSwitched)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.userId=e.user_id,t}}]),n}(D),ce=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.OwnParticipantSwitched)}return g(n)}(D),le=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceDestroyed)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conferenceId,t.conferenceAlias=e.conferenceAlias,t}}]),n}(D),de=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.DvcsMetric)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.name=e.name,t.userId=e.userId,t.value=e.value,t}}]),n}(D),fe=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this,Ge.ActiveSpeakerChange)).speakers=[],e.conferenceId="",e}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.speakers=e.activeSpeakers,t.conferenceId=e.conferenceId,t}}]),n}(D),pe=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this,Ge.VideoForwardedChanged)).videoForwardedId=[],e.conferenceId="",e}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.videoForwardedId=e.videoForwardedId,t.conferenceId=e.conferenceId,t}}]),n}(D),he=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.UpdateToken)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conferenceId,t.userId=e.userId,t.conferenceAccessToken=e.content.access_token,t}}]),n}(D),me=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantKicked)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.userId=e.userId,t.status=e.status,t.participantType=e.participantType,t.audio=e.audio,t.audioReceivingStopped=e.audioReceivingStopped,t}}]),n}(D),ve=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceVideoFilterUpdate)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.filter=e.filter,t.filterOptions=e.filterOptions?e.filterOptions:{},t}}]),n}(D),ge=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.StreamAdded)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}]),n}(D),ye=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.StreamRemoved)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}]),n}(D),ke=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.StreamUpdated)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}]),n}(D),be=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.BandwidthRestrictionChanged)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.bandwidth=null==e?void 0:e.bandwidth,t}}]),n}(D),_e=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.RtsStatusUpdated)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.status=e.status,t.streamName=e.streamName,t.streamAccountId=e.streamAccountId,t.subscribeToken=e.subscribeToken,t.conferenceId=e.conferenceId,t}}]),n}(D),we=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,Ge.UserAction)).level=e.level,r.action=e.action,r.description=e.description,r.component=e.component,r.api=e.api,r.payload=e.payload,r.timestamp=e.timestamp,r}return g(n,null,[{key:"fromData",value:function(e){return new n(e)}}]),n}(D),Se=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.RecordingStatusUpdated)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.participantId=e.user_id,t.status=e.recording_status,t.startTimestamp=e.start_record_timestamp,t}},{key:"fromJoinEvent",value:function(e){var t=new n;return t.participantId=e.recordingParticipant,t.status=e.recordingStatus,t.startTimestamp=e.recordingStartTimestamp,t}}]),n}(D),xe=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceMessageReceived)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.message=e.message,t.conferenceId=e.conference_id,t.participantId=e.user_id,t}}]),n}(D);!function(e){e.USER="user",e.SPEAKER="speaker",e.LISTENER="listener",e.DOLBYVOICE="dolbyVoice",e.PSTN="pstn",e.MIXER="mixer",e.NONE="none",e.ROBOT="robot",e.MIXER_MIX="mixer_mix"}(I||(I={}));var Ee,Te=function(e){switch(e){case"USER":default:return I.USER;case"SPEAKER":return I.SPEAKER;case"LISTENER":return I.LISTENER;case"MIXER":return I.MIXER;case"NONE":return I.NONE;case"ROBOT":return I.ROBOT;case"DOLBYVOICE":return I.DOLBYVOICE;case"MIXER_MIX":return I.MIXER_MIX}};!function(e){e.RESERVED="Reserved",e.INACTIVE="Inactive",e.DECLINE="Decline",e.CONNECTING="Connecting",e.CONNECTED="Connected",e.LEFT="Left",e.WARNING="Warning",e.ERROR="Error",e.KICKED="Kicked"}(Ee||(Ee={}));var Ce,je=function(e){switch(e){case"RESERVED":return Ee.RESERVED;case"INACTIVE":return Ee.INACTIVE;case"DECLINE":return Ee.DECLINE;case"CONNECTING":default:return Ee.CONNECTING;case"ON_AIR":case"CONNECTED":return Ee.CONNECTED;case"LEFT":return Ee.LEFT;case"WARNING":return Ee.WARNING;case"ERROR":return Ee.ERROR;case"KICKED":return Ee.KICKED}};!function(e){e.Status="status"}(Ce||(Ce={}));var Pe=function(e){k(n,e);var t=b(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CONNECTING",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USER";return y(this,n),(r=t.call(this)).info=new K,r.streams=new Array,r.audioQuality=-1,r.audioTransmitting=!1,r.videoTransmitting=!1,r._audioReceivingStopped=!1,r.id=e,r.status=je(i),r.type=Te(a),r}return g(n,[{key:"init",value:function(e){this.updateStatus(e.status),this.info=new K,this.info.name=e.name,this.info.externalId=e.externalId,this.info.avatarUrl=e.avatarUrl,this.audioTransmitting=e.audio,this._audioReceivingStopped=e.audioReceivingStopped,this.metadata=e.metadata,this.level=0,this.active=!1,this.type=Te(e.participantType),this.videoTransmitting=(null==e?void 0:e.video)||!1}},{key:"update",value:function(e){this.updateStatus(e.status),this.updateType(e.participantType),this.updateAudioReceivingStopped(e.audioReceivingStopped||!1),this.updateName(e.name),this.updateAvatarUrl(e.avatarUrl),this.updateExternalId(e.externalId),this.updateVideoTransmitting((null==e?void 0:e.video)||!1)}},{key:"updateAudioTransmitting",value:function(e){this.audioTransmitting=e||!1}},{key:"updateVideoTransmitting",value:function(e){this.videoTransmitting=e||!1}},{key:"updateAudioReceivingStopped",value:function(e){this._audioReceivingStopped=e||!1}},{key:"audioReceivingFrom",get:function(){return this.audioTransmitting&&!this._audioReceivingStopped}},{key:"audio",get:function(){return this.audioTransmitting}},{key:"updateType",value:function(e){this.type=Te(e)}},{key:"updateStatus",value:function(e){var t=this.status;this.status=je(e),t!==this.status&&this.emit(Ce.Status)}},{key:"updateName",value:function(e){this.info.name=e}},{key:"updateAvatarUrl",value:function(e){this.info.avatarUrl=e}},{key:"updateExternalId",value:function(e){this.info.externalId=e}}]),n}(R.EventEmitter),Me=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.InvitationReceived)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conferenceId,t.conferenceAlias=e.confAlias,t.conferenceToken=e.confToken,t.participant=new Pe(e.inviter.userId,"ON_AIR"),t.participant.info.name=e.inviter.nickName,t.participant.info.externalId=e.inviter.externalId,t.participant.info.avatarUrl=e.inviter.externalAvatarUrl,t}}]),n}(D),Ie=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceCreatedNotification)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t}}]),n}(D),Re=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ConferenceEndedNotification)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t}}]),n}(D),Ae=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this,Ge.ConferenceStatusNotification)).participants=new Array,e}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.confId,t.conferenceAlias=e.confAlias,t.live=e.live,e.participants.forEach((function(e){var n=new Pe(e.userId,e.status);n.info.name=e.externalName,n.info.externalId=e.externalId,t.participants.push(n)})),t}}]),n}(D),De=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantJoinedNotification)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participant=new Pe(e.participant.userId,"ON_AIR"),t.participant.info.externalId=e.participant.externalId,t.participant.info.name=e.participant.externalName,t}}]),n}(D),Oe=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.ParticipantLeftNotification)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participant=new Pe(e.participant.userId,"LEFT"),t.participant.info.externalId=e.participant.externalId,t.participant.info.name=e.participant.externalName,t}}]),n}(D),Ne=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this,Ge.ActiveParticipants)).participants=[],e.participantCount=0,e.viewerCount=0,e}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.participants=e.participants.map((function(e){var t=new Pe(e.userId,e.participantStatus,e.participantType);return t.updateName(e.externalName),t.updateExternalId(e.externalId),t})),t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participantCount=e.participantCount===e.participants.length?e.participantCount:e.participants.length,e.viewerCount&&(t.viewerCount=e.viewerCount),t}}]),n}(D),Le=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.SessionOpened)}return g(n,null,[{key:"fromData",value:function(){return new n}}]),n}(D),Fe=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.SessionClosed)}return g(n,null,[{key:"fromData",value:function(){return new n}}]),n}(D),ze=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.LocalVideoStarted)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.track=null==e?void 0:e.track,t}}]),n}(D),Ue=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.LocalVideoStopped)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.track=null==e?void 0:e.track,t}}]),n}(D),Ve=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,Ge.LocalVideoUpdated)}return g(n,null,[{key:"fromData",value:function(e){var t=new n;return t.track=null==e?void 0:e.track,t}}]),n}(D),Be=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,Ge.AudioStopped)).participant=e,a.previousAudioTransmitting=r,a.audioTransmitting=i,a}return g(n)}(_(Event)),We=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m),h),u),v),x),E),T),C),j),Ge={};Object.keys(We).forEach((function(e){return Ge[e]=e}));var He=w(5130),Ye=w.n(He),Ze=Ye()("vxt:events"),qe=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this)}return g(n,[{key:"register",value:function(e,t){var n=this;t.map((function(t){e.__proto__["on"+t]?n.on(t,e.__proto__["on"+t].bind(e)):e["on"+t]?n.on(t,e["on"+t].bind(e)):n.on(t,(function(n){return e.emit(t.toString(),n)}))}))}},{key:"send",value:function(e){!e&&Ze("Received undefined event"),e&&Ze("EventBus: "+e.type),e&&this.emit(e.type,e)}}]),n}(R.EventEmitter),$e=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m),v),h),u),x),E),T),Ke=new qe;Ke.setMaxListeners(18);var Xe,Je=Ke,Qe=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,r)).message=r,i.name=e,i}return g(n)}(_(Error)),et=function(e){k(n,e);var t=b(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,r)).message=r,o.name=e,o.peerId=i,o.underlyingError=a,o}return g(n)}(_(Error)),tt=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e.message)).message=e.message,r.name=e.name,e.constraint&&(r.constraint=e.constraint),r}return g(n,[{key:"toString",value:function(){return this.constraint?"".concat(this.name,": ").concat(this.message," '").concat(this.constraint,"'"):"".concat(this.name,": ").concat(this.message)}}]),n}(_(Error)),nt=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).message=e,r.name="MediaError",r}return g(n)}(_(Error)),rt=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,r)).message=r,i.name=e,i}return g(n)}(_(Error)),it=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,r)).message=r,i.name=e,i}return g(n)}(_(Error)),at=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,"ServerError")).name="ServerError",r.data=e.response?e.response.data:{},r.status=e.response?e.response.status:"",r.statusText=e.response?e.response.statusText:"",r.code=e.response?e.response.data.error_code:"",r.reason=e.response?e.response.data.error_reason:"",r.description=e.response?e.response.data.error_description:"",r.message=r.description,r}return g(n)}(_(Error)),ot=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="WebSocketError",r.message=e,r}return g(n)}(_(Error)),st=function(e){k(n,e);var t=b(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Your client does not support this functionality.";return y(this,n),(e=t.call(this)).name="UnsupportedError",e.message=r,e}return g(n)}(_(Error)),ut=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="VideoForwardingError",r.message=e,r}return g(n)}(_(Error)),ct=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="SpatialAudioError",r.message=e,r}return g(n)}(_(Error)),lt=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).name="VideoServiceError",r.message=e,r}return g(n)}(_(Error)),dt=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="ParameterError",r.message=e,r}return g(n)}(_(Error)),ft=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).message=e,r.name="SessionError",r}return g(n)}(_(Error)),pt=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).message="Failed to select ".concat(r," device. Reason: ").concat(e),i.name="DeviceChangeError",i}return g(n)}(_(Error)),ht=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).message=r,i.name=e,i}return g(n)}(_(Error)),mt=function(e){return new et("NotFoundError","Unable to find peer.",e)},vt=function(e){return new et("InvalidPeerOfferError","Received an offer with media description for invalid peerId: "+e)},gt=function(){return new Qe("InsufficientPermissionsError","Insufficient permissions for this operation")},yt=function(e){return new et("PeerConnectionFailedError","Peer connection has failed to connect.",e)},kt=function(){return new Qe("UninitializedError","Conference is not initialized.")},bt=function(){return new ft("Refresh token is null or undefined, please check your callback.")},_t=function(e,t){return new et("DataChannelError","Data channel connection failed. Reason: "+t,e)},wt=function(e,t){var n=t||"Video processor exception";return e&&("string"==typeof e||e instanceof String?n+=', error: "'.concat(e,'"'):(e.name&&(n+=', name: "'.concat(e.name,'"')),e.message&&(n+=', message: "'.concat(e.message,'"')))),new lt(n)},St=function(e,t){var n;switch(e){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:n="UNDEFINED"}return new tt({name:"AudioRendererError",message:"The error ".concat(n,"(").concat(e,") occured while rendering the audio. Error message: '").concat(t,"'")})},xt=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Et=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Tt=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this))._sdk=e,r}return g(n)}(R.EventEmitter),Ct=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),r=t.call(this,e),Xe.set(d(r),!1),Je.register(d(r),[Ge.ConferenceJoined,Ge.ConferenceLeft,Ge.SessionOpened,Ge.SessionClosed]),r}return g(n,[{key:"onConferenceJoined",value:function(e){this._conferenceId=e.conferenceId}},{key:"onConferenceLeft",value:function(e){this._conferenceId=null}},{key:"checkConference",value:function(){if(!this._conferenceId)throw kt()}},{key:"onSessionOpened",value:function(){xt(this,Xe,!0)}},{key:"onSessionClosed",value:function(){xt(this,Xe,!1)}},{key:"isSessionOpened",get:function(){return Et(this,Xe)}},{key:"checkSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Session is not open";if(!Et(this,Xe))throw new ft(e)}}]),n}(Tt);function jt(e){return function(t){var n=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=function(){return i(t,r)};o.prototype=t.prototype;var s=new o;return Je.register(s,e),s};return n.prototype=t.prototype,n}}Xe=new WeakMap;var Pt=w(9644),Mt=w.n(Pt),It=w(9640),Rt=w.n(It),At=w(5595),Dt=function(){function e(t,r,i,a,o,s,u,c,l,d){var f=this;y(this,e),this.getHost=u,this.map=c,this.accessToken=null,this.conferenceToken=null,this.getToken=r,this.setToken=i,this.getCurrentConferenceToken=s,this.getUserToken=a,this.getRefreshTokenCb=o,this.hashId=t,this.isTokenExpired=l,this.getLeavingCallback=d,"undefined"==typeof n.g||n.g.window||(this.cookie=null,this.cookiejar=new At.US,Mt().interceptors.request.use((function(e){return f.cookiejar.getCookies(e.url,(function(t,n){e.headers.cookie=n.join("; ")})),e})),Mt().interceptors.response.use((function(e){return e.headers["set-cookie"]instanceof Array&&e.headers["set-cookie"].forEach((function(t){var n=At.Vj.parse(t);"vxtk"===n.key&&(f.cookiejar.setCookie(n,e.config.url,(function(e,t){})),f.cookie=n.value)})),e}))),Mt().interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?(f.getLeavingCallback(),Promise.reject(e)):Promise.reject(e)})),this.inject()}return g(e,[{key:"handleRequest",value:function(e,t,n){return r=this,i=void 0,o=p().mark((function(){var r,i,a,o,s;return p().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=n&&n.data?n.data:{},i=n&&n.queryParams?n.queryParams:{},a=n&&n.headers?n.headers:{},o=this.getHost()+this.templateUri(e,n)+this.appendQueryParams(i),u.t0=this.isTokenExpired(),!u.t0){u.next=6;break}return u.next=6,this.getRefreshTokenCb();case 6:return this.accessToken=this.getToken(),this.jwtUserToken=this.getUserToken?this.getUserToken():null,this.conferenceToken=this.getCurrentConferenceToken?this.getCurrentConferenceToken():null,a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),{"Content-Type":"application/json","Voxeet-Id":this.hashId}),this.accessToken&&{Authorization:"Bearer ".concat(this.accessToken)}),this.jwtUserToken&&{"X-Token":this.jwtUserToken}),this.conferenceToken&&{"X-conf-access-token":this.conferenceToken}),{"X-Request-ID":"".concat(this.hashId,"_").concat(Date.now(),"_").concat(Math.random().toString(16).slice(2,10))}),s={method:t,headers:a,withCredentials:!0},u.abrupt("return",n&&n.keepAlive?(s.keepalive=!0,s.body=JSON.stringify(r),fetch(o,s)):(s.data=r,s.url=o,Mt()(s).then((function(e){return e})).catch((function(e){throw e.response&&114===e.response.data.error_code?gt():new at(e)}))));case 12:case"end":return u.stop()}}),o,this)})),new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,s)}u((o=o.apply(r,i||[])).next())}));var r,i,a,o}},{key:"appendQueryParams",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.length>0?"?"+t.join("&"):""}},{key:"templateUri",value:function(e,t){return e.replace(/\{([^\{\}]+)\}/g,(function(n,r){return t[r]||Rt().debug("Failed to find parameter :",r,"for uri: ",e),t[r]}))}},{key:"inject",value:function(){var e=this;this.getCookie=function(){return this.cookie};var t=function(t){e[t]=function(e){return this.handleRequest(this.map[t].uri,this.map[t].method,e)}};for(var n in this.map)t(n)}}]),e}(),Ot=function(){function e(){y(this,e)}return g(e,null,[{key:"inject",value:function(t,n,r,i,a,o,s,u){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,f=e.generateId(40);for(var p in u)c?(t[p]=new Dt(f,n,r,i,a,o,s,u[p],l,d),t.getHashId=function(){return f}):(t.prototype[p]=new Dt(f,n,r,i,a,o,s,u[p],l,d),t.prototype.getHashId=function(){return f});return t.prototype.getHashId=function(){return f},t}},{key:"byteToHex",value:function(e){return("0"+e.toString(16)).slice(-2)}},{key:"generateId",value:function(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}}]),e}(),Nt=Ot,Lt=function(){function e(){y(this,e)}return g(e,null,[{key:"getToken",value:function(){return e.accessToken}},{key:"setToken",value:function(t){e.accessToken=t}},{key:"setAccessTokenExpiration",value:function(t){e.accessTokenExpiration=t}},{key:"getJwtToken",value:function(){return e.jwtToken}},{key:"setJwtToken",value:function(t){e.jwtToken=t}},{key:"getTokenCallback",value:function(){return e.tokenCallback}},{key:"getHost",value:function(){return e.host}},{key:"getAccessTokenExpiration",value:function(){return e.accessTokenExpiration}},{key:"getLeavingCallback",value:function(){return e.leavingCallback}},{key:"isTokenExpired",value:function(){return e.accessTokenExpiration-(new Date).getTime()/1e3<0}},{key:"setRegion",value:function(t){t&&2===t.length&&"devssl"!==this.flavor&&"development"!==this.flavor?(e.host="staging"===this.flavor?"https://".concat(t,".comms.sdk.staging.dolbyio.com"):"https://".concat(t,".comms.sdk.dolby.io"),e.wsHost="staging"===this.flavor?"wss://".concat(t,".comms.sdk.staging.dolbyio.com"):"wss://".concat(t,".comms.sdk.dolby.io")):(e.host="https://comms.sdk.dolby.io",e.wsHost="wss://comms.sdk.dolby.io")}},{key:"getCurrentConferenceToken",value:function(){return e.currentConferenceToken}},{key:"setCurrentConferenceToken",value:function(t){e.currentConferenceToken=e.conferenceTokens.get(t)}},{key:"getConferenceToken",value:function(t){return e.conferenceTokens.get(t)}},{key:"setConferenceTokens",value:function(t,n){e.conferenceTokens=e.conferenceTokens.set(t,n)}},{key:"clearConferenceTokens",value:function(){e.conferenceTokens.clear()}}]),e}();Lt.conferenceTokens=new Map,Lt.host="https://comms.sdk.dolby.io",Lt.wsHost="wss://comms.sdk.dolby.io",Lt.flavor="production",Nt.inject(Lt,Lt.getToken,Lt.setToken,Lt.getJwtToken,Lt.getTokenCallback,Lt.getCurrentConferenceToken,Lt.getHost,{version:"2.0",init:{register:{method:"POST",uri:"/v1/oauth2/token"},refresh:{method:"POST",uri:"/v1/oauth2/refresh"},invalidate:{method:"POST",uri:"/v1/oauth2/invalidate"},identify:{method:"POST",uri:"/v2/users/identify"},logout:{method:"POST",uri:"/v1/users/logout"},updateParticipantInfo:{method:"POST",uri:"/v2/users/update"}},conferences:{updatePermissions:{method:"POST",uri:"/v1/conferences/{conferenceId}/permissions"},kick:{method:"POST",uri:"/v1/conferences/{conferenceId}/kick/{peerId}"},invite:{method:"POST",uri:"/v1/conferences/{conferenceId}/invite"},answer:{method:"POST",uri:"/v1/conferences/{conferenceId}/answer/{peerId}"},candidates:{method:"POST",uri:"/v1/conferences/{conferenceId}/candidates/{peerId}"},broadcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/send"},create:{method:"POST",uri:"/v1/conferences/create"},getDemo:{method:"GET",uri:"/v1/conferences/demo"},joinRoom:{method:"POST",uri:"/v1/conferences/{conferenceId}/join"},leave:{method:"POST",uri:"/v1/conferences/{conferenceId}/leave"},videoForwarding:{method:"POST",uri:"/v1/conferences/{conferenceId}/videoforwarding"},stopVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/stop"},startVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/start"},stopMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/stop"},startMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/start"},subscribe:{method:"GET",uri:"/v1/conferences/{conferenceId}/subscribe"},unsubscribe:{method:"DELETE",uri:"/v1/conferences/{conferenceId}/subscribe"},status:{method:"POST",uri:"/v1/conferences/{conferenceId}/status"},postRenegociate:{method:"POST",uri:"/v1/conferences/{conferenceId}/renegociate"},renegociate:{method:"GET",uri:"/v1/conferences/{conferenceId}/renegociate"},startRecording:{method:"POST",uri:"/v1/conferences/{conferenceId}/recording/start"},stopRecording:{method:"GET",uri:"/v1/conferences/{conferenceId}/recording/stop"},replay:{method:"POST",uri:"/v1/conferences/{conferenceId}/replay"},reserve:{method:"POST",uri:"/v1/conferences/{conferenceId}/reserve"},setMode:{method:"POST",uri:"/v1/conferences/{conferenceId}/mode"},mix:{method:"POST",uri:"/v1/conferences/{conferenceId}/mix"},download:{method:"GET",uri:"/v1/conferences/{conferenceId}/download"},mixUrl:{method:"GET",uri:"/v1/conferences/{conferenceId}/url"},wait:{method:"GET",uri:"/v1/conferences/{conferenceId}/wait"},getStats:{method:"GET",uri:"/v1/conferences/{conferenceId}/stats"},simulcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/simulcast"},error:{method:"POST",uri:"/v1/conferences/{conferenceId}/error"},audioUpdate:{method:"POST",uri:"/v1/conferences/{conferenceId}/audio/{peerId}/update"}},screen:{start:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/start"},stop:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/stop"}},fileshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/start"},update:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/update"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/stop"}},externallive:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/stop"}},hls:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/stop"}},videoshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/start"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/stop"},play:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/play"},pause:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/pause"},seek:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/seek"}},tyw:{speaker:{method:"GET",uri:"/v1/conferences/{conferenceId}/speaker"},setMetadata:{method:"POST",uri:"/v1/conferences/{conferenceId}/metadata"}},subscription:{post:{method:"POST",uri:"/v1/subscriptions"},delete:{method:"DELETE",uri:"/v1/subscriptions"}}},!0,Lt.isTokenExpired,Lt.getLeavingCallback);var Ft,zt,Ut,Vt,Bt,Wt,Gt=Lt,Ht=g((function e(t,n,r){y(this,e),this.ownerId=t,this.url=n,this.timestamp=r})),Yt=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Zt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},qt=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},$t=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.PLAYING="playing",e.PAUSED="paused",e.STOPPED="stopped"}(Bt||(Bt={})),function(e){e.Started="started",e.Stopped="stopped",e.Played="played",e.Pause="paused",e.Seek="sought"}(Wt||(Wt={}));var Kt=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Ft.set(d(i),void 0),zt.set(d(i),void 0),Ut.set(d(i),void 0),Vt.set(d(i),!1),qt(d(i),Ut,r),i.clear(),i}return g(n,[{key:"clear",value:function(){qt(this,Ft,null),qt(this,zt,Bt.STOPPED)}},{key:"start",value:function(e){return Zt(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!$t(this,Vt)){t.next=2;break}return t.abrupt("return",Promise.reject(new st("A client who joined as a listener cannot start sharing a video file.")));case 2:return t.next=4,Gt.videoshare.start({conferenceId:this._conferenceId,data:{url:e}});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stop",value:function(){return Zt(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt.videoshare.stop({conferenceId:this._conferenceId});case 2:case"end":return e.stop()}}),e,this)})))}},{key:"play",value:function(){return Zt(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt.videoshare.play({conferenceId:this._conferenceId});case 2:case"end":return e.stop()}}),e,this)})))}},{key:"pause",value:function(e){return Zt(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt.videoshare.pause({conferenceId:this._conferenceId,data:{timestamp:e}});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"seek",value:function(e){return Zt(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt.videoshare.seek({conferenceId:this._conferenceId,data:{timestamp:e}});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onVideoPresentationStarted",value:function(e){qt(this,Ft,new Ht(e.userId,e.url,e.timestamp)),$t(this,Ft).owner=$t(this,Ut).participants.get(e.userId),qt(this,zt,Bt.PLAYING),this.emit(Wt.Started,$t(this,Ft))}},{key:"onVideoPresentationStopped",value:function(e){this.clear(),this.emit(Wt.Stopped)}},{key:"onVideoPresentationPlay",value:function(e){qt(this,zt,Bt.PLAYING),$t(this,Ft).timestamp=e.timestamp,this.emit(Wt.Played,$t(this,Ft))}},{key:"onVideoPresentationPause",value:function(e){qt(this,zt,Bt.PAUSED),$t(this,Ft).timestamp=e.timestamp,this.emit(Wt.Pause,$t(this,Ft))}},{key:"onVideoPresentationSeek",value:function(e){$t(this,Ft).timestamp=e.timestamp,this.emit(Wt.Seek,$t(this,Ft))}},{key:"current",get:function(){return $t(this,Ft)}},{key:"state",get:function(){return $t(this,zt)}},{key:"onConferenceJoined",value:function(e){o(s(n.prototype),"onConferenceJoined",this).call(this,e),qt(this,Vt,!!e.listenOnly)}},{key:"onConferenceLeft",value:function(e){$t(this,Ft)&&(this.clear(),this.emit(Wt.Stopped)),o(s(n.prototype),"onConferenceLeft",this).call(this,e),qt(this,Vt,!1)}}]),n}(Ct);Ft=new WeakMap,zt=new WeakMap,Ut=new WeakMap,Vt=new WeakMap,Yt([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Kt.prototype,"start",null),Yt([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Kt.prototype,"stop",null),Yt([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Kt.prototype,"play",null),Yt([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Kt.prototype,"pause",null),Yt([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Kt.prototype,"seek",null),Kt=Yt([jt([Ge.VideoPresentationStarted,Ge.VideoPresentationStopped,Ge.VideoPresentationPlay,Ge.VideoPresentationPause,Ge.VideoPresentationSeek])],Kt);var Xt=function(){function e(){y(this,e)}return g(e,null,[{key:"getHost",value:function(){return e.host}},{key:"setRegion",value:function(t){t&&2===t.length&&"devssl"!==this.flavor&&"development"!==this.flavor?e.host="staging"===this.flavor?"https://".concat(t,".comms.sdk.staging.dolbyio.com"):"https://".concat(t,".comms.sdk.dolby.io"):e.host="https://comms.sdk.dolby.io"}}]),e}();Xt.host="https://comms.sdk.dolby.io",Xt.flavor="production",Xt.endpoints={file:{convert:{method:"POST",uri:"/v1/files/convert"},urlConvert:{method:"POST",uri:"/v1/files/urlConvert"},getImage:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}"},getThumbnail:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}/thumbnail"}}},Nt.inject(Xt,Gt.getToken,Gt.setToken,Gt.getJwtToken,Gt.getTokenCallback,(function(){}),Xt.getHost,Xt.endpoints,!0,Gt.isTokenExpired,Gt.getLeavingCallback);var Jt,Qt,en,tn,nn=Xt,rn=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},an=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},on=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},sn=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Converted="converted",e.ConversionProgress="conversionProgress",e.Started="started",e.Updated="updated",e.Stopped="stopped"}(tn||(tn={}));var un=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Jt.set(d(i),void 0),Qt.set(d(i),!1),en.set(d(i),null),on(d(i),Jt,r),i}return g(n,[{key:"convert",value:function(e){if(e.size>262144e3)throw new Error("File size exceeds 250 MB, the maximum file size.");var t=new FormData;return t.append("file",e),nn.file.convert({data:t})}},{key:"convertUrl",value:function(e,t){return nn.file.urlConvert({data:{filename:e,url:t}})}},{key:"start",value:function(e){return sn(this,Qt)?Promise.reject(new st("A client who joined as a listener cannot share a file.")):Gt.fileshare.start({conferenceId:this._conferenceId,data:{fileId:e.id,imageCount:e.imageCount}}).then((function(e){return e.data}))}},{key:"update",value:function(e){return an(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkPresentation(),t.next=3,Gt.fileshare.update({conferenceId:this._conferenceId,data:{fileId:sn(this,en).id,position:e}});case 3:return t.abrupt("return",t.sent.data);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stop",value:function(){return an(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkPresentation(),e.next=3,Gt.fileshare.stop({conferenceId:this._conferenceId,data:{fileId:sn(this,en).id}});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"image",value:function(e,t){var n=t;return n||(this.checkPresentation(),n=sn(this,en).id),Promise.resolve("".concat(nn.host,"/v1/files/").concat(n,"/converted/").concat(e,"?token=").concat(Gt.jwtToken,"&hashId=").concat(Gt.getHashId()))}},{key:"thumbnail",value:function(e,t){var n=t;return n||(this.checkPresentation(),n=sn(this,en).id),Promise.resolve("".concat(nn.host,"/v1/files/").concat(n,"/converted/").concat(e,"/thumbnail/?token=").concat(Gt.jwtToken,"&hashId=").concat(Gt.getHashId()))}},{key:"checkPresentation",value:function(){if(!sn(this,en))throw new Error("File Presentation not stated")}},{key:"onFileConverted",value:function(e){this.emit(tn.Converted,e.files[0])}},{key:"onFileConversionProgress",value:function(e){this.emit(tn.ConversionProgress,e.fileConversion)}},{key:"onFilePresentationStarted",value:function(e){on(this,en,e.file),sn(this,en).owner=sn(this,Jt).participants.get(e.file.ownerId),this.emit(tn.Started,sn(this,en))}},{key:"onFilePresentationUpdated",value:function(e){sn(this,en).position=e.file.position,this.emit(tn.Updated,sn(this,en))}},{key:"onFilePresentationStopped",value:function(e){var t=sn(this,en);on(this,en,null),this.emit(tn.Stopped,t)}},{key:"current",get:function(){return sn(this,en)}},{key:"onConferenceJoined",value:function(e){o(s(n.prototype),"onConferenceJoined",this).call(this,e),on(this,Qt,!!e.listenOnly)}},{key:"onConferenceLeft",value:function(e){if(sn(this,en)){var t=sn(this,en);on(this,en,null),this.emit(tn.Stopped,t)}o(s(n.prototype),"onConferenceLeft",this).call(this,e),on(this,Qt,!1)}}]),n}(Ct);Jt=new WeakMap,Qt=new WeakMap,en=new WeakMap,rn([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],un.prototype,"start",null),rn([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],un.prototype,"update",null),rn([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],un.prototype,"stop",null),un=rn([jt([Ge.FileConversionProgress,Ge.FileConverted,Ge.FilePresentationStarted,Ge.FilePresentationStopped,Ge.FilePresentationUpdated])],un);var cn=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ln=function(e){k(n,e);var t=b(n);function n(e){return y(this,n),t.call(this,e)}return g(n,[{key:"start",value:function(e){var t=e.uri,n=void 0===t?"":t,r=e.hls;return void 0!==r&&r?Gt.hls.start({conferenceId:this._conferenceId}):Gt.externallive.start({conferenceId:this._conferenceId,data:{uri:n}})}},{key:"stop",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).hls;return void 0!==e&&e?Gt.hls.stop({conferenceId:this._conferenceId}):Gt.externallive.stop({conferenceId:this._conferenceId})}}]),n}(Ct);cn([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ln.prototype,"start",null),cn([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ln.prototype,"stop",null);var dn,fn,pn,hn,mn,vn,gn,yn,kn,bn,_n,wn,Sn,xn,En,Tn,Cn,jn,Pn,Mn,In,Rn,An=function(e){k(n,e);var t=b(n);function n(){var e;y(this,n),e=t.call(this);try{e._isAvailable=DolbyVoice.prototype.hasOwnProperty("setTransparentMode")}catch(u){e._isAvailable=!1}return e}return g(n,[{key:"isAvailable",value:function(){return this._isAvailable}}]),n}(A()),Dn=w(2382),On=w.n(Dn),Nn=w(7160),Ln=w.n(Nn),Fn=function(){function e(){y(this,e)}return g(e,null,[{key:"parsed",get:function(){return"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.userAgent?Ln().getParser(window.navigator.userAgent):null}}]),e}();Fn.isFirefox=null!==(fn=null===(dn=Fn.parsed)||void 0===dn?void 0:dn.is("Firefox"))&&void 0!==fn&&fn,Fn.isChrome=null!==(hn=null===(pn=Fn.parsed)||void 0===pn?void 0:pn.is("Chrome"))&&void 0!==hn&&hn,Fn.isEdge=null!==(vn=null===(mn=Fn.parsed)||void 0===mn?void 0:mn.is("Microsoft Edge"))&&void 0!==vn&&vn,Fn.isSafari=null!==(yn=null===(gn=Fn.parsed)||void 0===gn?void 0:gn.is("Safari"))&&void 0!==yn&&yn,Fn.isElectron=null!==(bn=null===(kn=Fn.parsed)||void 0===kn?void 0:kn.is("Electron"))&&void 0!==bn&&bn,Fn.isExplorer=null!==(wn=null===(_n=Fn.parsed)||void 0===_n?void 0:_n.is("Internet Explorer"))&&void 0!==wn&&wn,Fn.isAndroid=null!==(xn=null===(Sn=Fn.parsed)||void 0===Sn?void 0:Sn.is("android"))&&void 0!==xn&&xn,Fn.isIOS=null!==(Tn=null===(En=Fn.parsed)||void 0===En?void 0:En.is("ios"))&&void 0!==Tn&&Tn,Fn.isDesktop="desktop"===(null===(Cn=Fn.parsed)||void 0===Cn?void 0:Cn.getPlatformType()),Fn.isMobile="mobile"===(null===(jn=Fn.parsed)||void 0===jn?void 0:jn.getPlatformType()),Fn.isWindows="windows"===(null===(Pn=Fn.parsed)||void 0===Pn?void 0:Pn.getOSName()),Fn.isMacOS="macOS"===(null===(Mn=Fn.parsed)||void 0===Mn?void 0:Mn.getOSName()),Fn.isVideoProcessingSupported=null===(In=Fn.parsed)||void 0===In?void 0:In.satisfies({desktop:{electron:">=13",chrome:">=91",edge:">=91",safari:">=16.4",firefox:">=109"}}),Fn.requiresScreenshareWorkaround=Fn.isIOS&&Fn.isSafari||Fn.isSafari&&!(null===(Rn=Fn.parsed)||void 0===Rn?void 0:Rn.satisfies({safari:">16.2"}));var zn="00000000-0000-0000-0000-000000000000",Un="undefined"!=typeof n.g&&!n.g.window,Vn=Fn.isElectron;Fn.parsed,Un?(n.g.WebSocket=w(6946),n.g.navigator=n.g.window||{},Vn?(n.g.Buffer=w(2349).Buffer,n.g.window=n.g.window||{}):(n.g.navigator.mediaDevices={},n.g.navigator.mediaDevices.enumerateDevices=function(){},n.g.MediaStream=function(){function e(){y(this,e)}return g(e,[{key:"getTracks",value:function(){return[]}},{key:"getAudioTracks",value:function(){return[]}},{key:"getVideoTracks",value:function(){return[]}}]),e}(),n.g.self=globalThis,n.g.location={href:""}),"undefined"==typeof btoa&&(n.g.btoa=function(e){return new Buffer(e).toString("base64")}),"undefined"==typeof atob&&(n.g.atob=function(e){return new Buffer(e,"base64").toString()})):On()(window,{shimChrome:!1,shimFirefox:!1,shimEdge:!0,shimSafari:!1});var Bn=new An,Wn=Un?{}:window.RTCIceCandidate||window.webkitRTCIceCandidate||window.mozRTCIceCandidate,Gn=Un?{}:window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,Hn=Un?{}:window.RTCSessionDescription||window.webkitRTCSessionDescription||window.mozRTCSessionDescription,Yn=Un?{}:window.AudioContext||window.webkitAudioContext||window.mozAudioContext,Zn=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.getUserMedia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){Zn.call(window.navigator,e,(function(e){t(e)}),(function(e){n(e)}))}))},!navigator.mediaDevices||navigator.mediaDevices.getDisplayMedia&&!Vn||(navigator.mediaDevices.getDisplayMedia=function(e){return t=void 0,n=void 0,i=p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},r=e&&e.sourceId,t.t0=window.getScreenSourceId,!t.t0){t.next=6;break}return t.next=5,window.getScreenSourceId();case 5:r=t.sent;case 6:return r&&(Fn.isElectron||Fn.isChrome?n={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxWidth:1920,maxHeight:1080}}}:Fn.isFirefox&&(n={video:{mediaSource:e.sourceId,maxWidth:1920,maxHeight:1080}})),t.abrupt("return",navigator.mediaDevices.getUserMedia(n));case 8:case"end":return t.stop()}}),t)})),new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i});var qn=Fn.isExplorer,$n=function(e,t){if(qn)e&&"VIDEO"===e.nodeName&&(e.videoRenderer&&VideoRenderer.unhandle(e),VideoRenderer.handle(e)),e.srcObject=t;else if(void 0!==(null==e?void 0:e.srcObject))if(Fn.isSafari){var n=e.srcObject&&e.srcObject.getAudioTracks(),r=t&&t.getAudioTracks();e&&e instanceof HTMLVideoElement?requestAnimationFrame((function(){e.srcObject=t})):(!n||!r||n.length!==r.length||n.length>0&&r.length>0&&n[0].id!==r[0].id)&&(e.srcObject=t)}else e.srcObject=t;else void 0!==(null==e?void 0:e.mozSrcObject)?e.mozSrcObject=t:void 0!==(null==e?void 0:e.src)?e.src=null===t?"":URL.createObjectURL(t):Rt().error("Error attaching stream to element.");return e};navigator.attachMediaStream=$n;var Kn,Xn,Jn,Qn=function(e){k(n,e);var t=b(n);function n(e){return y(this,n),t.call(this,e)}return g(n,[{key:"hasElectron",value:function(){return Bn.isAvailable()}}]),n}(Tt),er=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Camera="Camera",e.ScreenShare="ScreenShare",e.Custom="Custom",e.CustomVideo="CustomVideo"}(Xn||(Xn={})),function(e){e[e.Camera=0]="Camera",e[e.ScreenShare=1]="ScreenShare",e[e.Custom=2]="Custom"}(Jn||(Jn={}));var tr=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).type=Xn.Camera,Kn.set(d(r),[]),er(d(r),Kn).push(new nr),r}return g(n,[{key:"addTrack",value:function(e){e instanceof MediaStreamTrack?o(s(n.prototype),"addTrack",this).call(this,e):er(this,Kn).push(e)}},{key:"removeTrack",value:function(e){e instanceof MediaStreamTrack?o(s(n.prototype),"removeTrack",this).call(this,e):er(this,Kn).shift()}},{key:"getAudioTracks",value:function(){return er(this,Kn)}},{key:"getTracks",value:function(){return[].concat(c(o(s(n.prototype),"getTracks",this).call(this)),c(this.getAudioTracks()))}}]),n}(_(MediaStream));Kn=new WeakMap;var nr=function(){function e(){y(this,e),this.id="fakeAudioTrack",this.kind="audio",this.enabled=!0}return g(e,[{key:"applyConstraints",value:function(e){return Promise.resolve()}},{key:"clone",value:function(){return this}},{key:"getCapabilities",value:function(){return null}},{key:"getConstraints",value:function(){return null}},{key:"getSettings",value:function(){return null}},{key:"stop",value:function(){}},{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"dispatchEvent",value:function(e){return!0}}]),e}(),rr=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},ir=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this)}return g(n,[{key:"addPeer",value:function(e){var t=e.peerId,n=e.description,r=e.candidates,i=e.isMaster,a=e.state,o=void 0===a?"default":a,s=e.wasmEnabled;return rr(this,void 0,void 0,p().mark((function e(){var a,u,c,l=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPeerConnection(t,o,i);case 2:return a=e.sent,u=a.peer,c=a.isNew,e.next=7,this.updateMasterStream(t,o,i);case 7:return this.initAudioOutputSelection(),e.next=10,this.setRemoteDescription(t,this.getSsrc(n.sdp),n.type,n.sdp,n.oid);case 10:if(e.t0=c&&!Un&&u&&u.isMaster,!e.t0){e.next=14;break}return e.next=14,this.addMasterStream(u);case 14:return e.next=16,Promise.all(r.map((function(e){return rr(l,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.setPeerCandidate(t,e.mid,e.mline_index,e.sdp);case 2:case"end":return n.stop()}}),n,this)})))})));case 16:return e.next=18,this.createAnswer(t,o,n.oid,s);case 18:case"end":return e.stop()}}),e,this)})))}},{key:"setRemoteSdp",value:function(e,t,n,r){return rr(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.setRemoteDescription(e,this.getSsrc(t.sdp),t.type,t.sdp,t.oid,r);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"removePeer",value:function(e){this.closePeerConnection(e).catch((function(e){return console.warn("Peer connection close error",e.message)})),this.removePeerConnection(e)}},{key:"getSsrc",value:function(e){var t=/a=ssrc\:(.*?)\s/gm.exec(e);return Rt().trace("VoxeetRTC.getSsrc",t),t&&null!=t[1]?t[1]:"0"}},{key:"checkStream",value:function(e){var t=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.id);return t[1]==Jn.Camera?e.type=Xn.Camera:t[1]==Jn.ScreenShare?e.type=Xn.ScreenShare:t[1]>=Jn.Custom?(e.label=t[2],e.type=Xn.Custom):e.type=Xn.Camera,t[3]}},{key:"updateMasterStream",value:function(e,t,n){return Promise.resolve()}},{key:"sessionCreatedEvent",value:function(e,t,n,r,i,a,o){Rt().trace("VoxeetRTC.onSessionCreated",e,t,n,o),this.emit("sessionCreated",e,t,n,r,i,a,o)}},{key:"addStreamEvent",value:function(e,t){Rt().trace("VoxeetRTC.addStream",e,t),this.emit("addStream",e,t)}},{key:"updateStreamEvent",value:function(e,t){Rt().trace("VoxeetRTC.updateStream",e,t),this.emit("updateStream",e,t)}},{key:"removeStreamEvent",value:function(e){Rt().trace("VoxeetRTC.removeStream",e),this.emit("removeStream",e)}},{key:"addScreenStreamEvent",value:function(e,t){Rt().trace("VoxeetRTC.addScreenStream",e,t),this.emit("addScreenStream",e,t)}},{key:"removeScreenStreamEvent",value:function(e,t){Rt().trace("VoxeetRTC.removeScreenStream"),this.emit("removeScreenStream",e,t)}},{key:"endedScreenStreamEvent",value:function(){this.emit("endedScreenStream")}},{key:"updateScreenStreamEvent",value:function(e,t){this.emit("updateScreenStream",e,t)}},{key:"iceCandidatesGatheringCompleteEvent",value:function(e,t){this.emit("iceCandidatesGatheringComplete",e,t)}},{key:"connectionStatusEvent",value:function(e){this.emit("connectionStatus",e)}},{key:"initializeCallstats",value:function(e,t){return Promise.resolve()}},{key:"init",value:function(e){e.constraints,e.processCb,e.listenOnly,e.ownerId,e.options,Rt().error("abstract implementation init")}},{key:"release",value:function(){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt().error("abstract implementation release");case 1:case"end":return e.stop()}}),e)})))}},{key:"createPeerConnection",value:function(e,t,n){Rt().error("abstract implementation createPeerConnection")}},{key:"closePeerConnection",value:function(e){Rt().error("abstract implementation closePeerConnection")}},{key:"removePeerConnection",value:function(e){Rt().error("abstract implementation removePeerConnection")}},{key:"createAnswer",value:function(e){Rt().error("abstract implementation createAnswer")}},{key:"setRemoteDescription",value:function(e,t,n,r,i,a){Rt().error("abstract implementation setRemoteDescription")}},{key:"setPeerCandidate",value:function(e,t,n,r){Rt().error("abstract implementation setPeerCandidate")}},{key:"toggleMute",value:function(e){Rt().error("abstract implementation")}},{key:"toggleOwnMute",value:function(){Rt().error("abstract implementation")}},{key:"mutePeer",value:function(e,t){Rt().error("abstract implementation")}},{key:"getLevel",value:function(e,t){Rt().error("abstract implementation")}},{key:"isSpeaking",value:function(e,t){Rt().error("abstract implementation")}},{key:"initAudioOutputSelection",value:function(){Rt().error("abstract implementation")}},{key:"setPeerPosition",value:function(e,t,n){Rt().error("abstract implementation setPeerPosition")}},{key:"getPeerPosition",value:function(e){Rt().error("abstract implementation getPeerPosition")}},{key:"setVolume",value:function(e,t){Rt().error("abstract implementation")}},{key:"setConferenceVolume",value:function(e){Rt().error("abstract implementation")}},{key:"startVideoForPeer",value:function(e,t){Rt().error("abstract implementation")}},{key:"stopVideoForPeer",value:function(e){Rt().error("abstract implementation")}},{key:"startScreenShare",value:function(e){Rt().error("abstract implementation")}},{key:"stopScreenShare",value:function(){Rt().error("abstract implementation")}},{key:"changeRecordingDevice",value:function(){Rt().error("abstract implementation")}},{key:"selectAudioInput",value:function(e){Rt().error("abstract implementation")}},{key:"selectVideoInput",value:function(e){Rt().error("abstract implementation")}},{key:"selectAudioOutput",value:function(e){Rt().error("abstract implementation")}},{key:"getInboundRtpStats",value:function(){return Rt().warn("Abstract getInboundRtpStats"),Promise.resolve()}},{key:"configureStateDump",value:function(){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"getStateDumpConfiguration",value:function(){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(0));case 1:case"end":return e.stop()}}),e)})))}},{key:"createStateDump",value:function(e){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})))}},{key:"setTransparentMode",value:function(e){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt().error("abstract implementation setTransparentMode");case 1:case"end":return e.stop()}}),e)})))}},{key:"setComfortNoiseLevel",value:function(e){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt().error("abstract implementation setComfortNoiseLevel");case 1:case"end":return e.stop()}}),e)})))}},{key:"getComfortNoiseLevel",value:function(){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt().error("abstract implementation getComfortNoiseLevel");case 1:case"end":return e.stop()}}),e)})))}},{key:"stopRtsView",value:function(){Rt().error("abstract implementation stopRtsView")}},{key:"startRtsView",value:function(e,t,n){return rr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt().error("abstract implementation startRtsView");case 1:case"end":return e.stop()}}),e)})))}},{key:"muteOutput",value:function(e){Rt().error("abstract implementation muteOutput")}},{key:"setVideoForwarding",value:function(e){Rt().error("abstract implementation setVideoForwarding")}},{key:"removeVideoForwarding",value:function(e){Rt().error("abstract implementation removeVideoForwarding")}}]),n}(R.EventEmitter),ar=ir,or=w(673),sr=w.n(or),ur=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.call(this)).engine=null,e.ownerId=null,e.peers=[],e.isMuted=!1,e.mutedPeer=[],e.speechThreshold=.05,e.ssMsid="none",e}return g(n,[{key:"enumerateAudioDevices",value:function(e){return"input"===e?Promise.resolve(this.engine.enumerateAudioDevices()):Promise.resolve(this.engine.enumerateAudioOutputDevices())}},{key:"init",value:function(e){var t=this,n=(e.constraints,e.processCb,e.listenOnly,e.ownerId),r=e.mixing;return new Promise((function(e,i){try{t.ownerId=n,-1===r.uri.search("rtmp://")&&(r.uri=sr().join("out/",r.uri)),t.engine=new MediaEngine,r.enabled?t.engine.initMixer(r.uri):t.engine.init(),t.engine.on("sessionCreated",t.onSessionCreated.bind(t)),t.engine.on("sessionError",t.onSessionError.bind(t)),t.engine.on("streamAdded",t.onStreamAdded.bind(t)),t.engine.on("streamUpdated",t.onStreamUpdated.bind(t)),t.engine.on("streamRemoved",t.onStreamRemoved.bind(t)),t.engine.on("screenStreamAdded",t.onScreenStreamAdded.bind(t)),t.engine.on("screenStreamRemoved",t.onScreenStreamRemoved.bind(t)),e()}catch(e){i(e)}}))}},{key:"release",value:function(){this.engine&&(this.engine.release(),this.engine=null)}},{key:"onSessionCreated",value:function(e,t,r){console.log("--- session created",e,t),o(s(n.prototype),"sessionCreatedEvent",this).call(this,e,{type:t,sdp:r},null,this.ssMsid,"default")}},{key:"onSessionError",value:function(e,t){console.log("--- session error",e,t)}},{key:"onStreamAdded",value:function(e,t){console.log("--- stream added",e,t),this.addStreamEvent(e,t)}},{key:"onStreamUpdated",value:function(e,t){console.log("--- stream updated, peerId, stream"),this.updateStreamEvent(e,t)}},{key:"onStreamRemoved",value:function(e,t){console.log("--- stream removed",e),this.removeStreamEvent(e)}},{key:"onScreenStreamAdded",value:function(e,t){console.log("--- screen stream added",e),this.ssMsid=t.label(),this.addScreenStreamEvent(e,t)}},{key:"onScreenStreamRemoved",value:function(e,t){console.log("--- screen stream removed",e),this.ssMsid="none",this.removeScreenStreamEvent()}},{key:"attachMediaStream",value:function(e,t,n){var r=this;return new Promise((function(i,a){try{r.engine.attachMediaStream(e,t,n),i()}catch(e){a(e)}}))}},{key:"createPeerConnection",value:function(e,t,n){var r=this;return new Promise((function(t,i){try{r.engine.createPeerConnection(e,n),t({peer:{},isNew:!1})}catch(e){i(e)}}))}},{key:"closePeerConnection",value:function(e){var t=this;return new Promise((function(n,r){try{t.engine.closePeerConnection(e),n()}catch(e){r(e)}}))}},{key:"removePeerConnection",value:function(e){}},{key:"setRemoteDescription",value:function(e,t,n,r,i){var a=this;return new Promise((function(i,o){try{a.engine.setRemoteDescription(e,t,n,r),i()}catch(e){o(e)}}))}},{key:"setPeerCandidate",value:function(e,t,n,r){var i=this;return new Promise((function(a,o){try{i.engine.setPeerCandidate(e,t,n,r),a()}catch(e){o(e)}}))}},{key:"createAnswer",value:function(e){var t=this;return new Promise((function(n,r){try{var i=t.engine.createAnswer(e);t.engine.setLocalDescription(e,"answer",i),n()}catch(e){r(e)}}))}},{key:"startVideoForPeer",value:function(e,t){var n=this;return new Promise((function(e,r){try{console.log(t),n.engine.startVideo(),e()}catch(e){r(e)}}))}},{key:"stopVideoForPeer",value:function(e){var t=this;return new Promise((function(e,n){try{t.engine.stopVideo(),e()}catch(e){n(e)}}))}},{key:"selectAudioInput",value:function(e){var t=this;return new Promise((function(n,r){try{t.engine.selectAudioDevice(e),n()}catch(e){r(e)}}))}},{key:"selectAudioOutput",value:function(e){var t=this;return new Promise((function(n,r){try{t.engine.selectAudioOutputDevice(e),n()}catch(e){r(e)}}))}},{key:"selectVideoInput",value:function(e){var t=this;return new Promise((function(n,r){try{t.engine.selectVideoDevice(e),n()}catch(e){r(e)}}))}},{key:"getLevel",value:function(e,t){try{t(parseFloat(this.engine.getLevel(e)))}catch(e){console.error(e)}}},{key:"isSpeaking",value:function(e,t){var n=this;this.getLevel(e,(function(e){e>n.speechThreshold?t(!0):t(!1)}))}},{key:"setPeerPosition",value:function(e,t,n){var r=this;return new Promise((function(i,a){try{var o=90-180*Math.atan2(n,t)/Math.PI,s=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));o/=90,console.log(e,t,n,s,o),NaN!==s&&NaN!==o&&r.engine.setPeerPosition(e,o,s),i()}catch(e){a(e)}}))}},{key:"getPeerPosition",value:function(){return{x:0,y:0}}},{key:"toggleMute",value:function(e){var t=!1;try{e==this.ownerId?(this.isMuted=!this.isMuted,t=this.isMuted,this.engine.setMute(this.isMuted)):(this.mutedPeer.find((function(t){return t===e}))?(this.mutedPeer=this.mutedPeer.filter((function(t){return t!==e})),t=!1):(this.mutedPeer.push(e),t=!0),this.engine.setParticipantMute(e,t))}catch(e){console.error(e)}return t}},{key:"enable3DAudio",value:function(e){var t=this;return new Promise((function(n,r){try{t.engine.enable3DAudio(e),n()}catch(e){console.error(e),r(e)}}))}},{key:"hasScreenShare",value:function(){return!1}},{key:"startScreenShare",value:function(e){var t=this;return new Promise((function(e,n){try{t.engine.startScreenshare(),e()}catch(e){console.error(e),n()}}))}},{key:"stopScreenShare",value:function(){try{this.engine.stopScreenshare()}catch(u){console.error(u)}}}],[{key:"enumerateAudioDevices",value:function(e){return Promise.resolve([])}},{key:"enumerateVideoDevices",value:function(){return Promise.resolve(MediaEngine.enumerateVideoDevices())}}]),n}(ar),cr=w(6850),lr=w.n(cr);function dr(e){var t=e||!1;return(Fn.isMobile||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||!Fn.isChrome&&!Fn.isSafari&&!Fn.isFirefox&&!Fn.isEdge)&&(t=!1),t}w(1344);var fr,pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestedConstraints,n=void 0===t?{audio:!0,video:!1}:t,r=e.mixingEnabled,i=void 0!==r&&r,a=e.dolbyProcessing,o=void 0!==a&&a,s=e.dapm,u=arguments.length>1?arguments[1]:void 0;if(i)return{audio:!1,video:!1};var c=void 0!==s&&s?lr().media.dapm.constraints:o?lr().media.dolbyProcessing.constraints:lr().media.constraints;return Object.assign(Object.assign({},c),{audio:void 0===n.audio?Object.assign({},c.audio):n.audio&&Object.assign(Object.assign({},u?{}:c.audio),n.audio),video:void 0===n.video?Object.assign({},c.video):n.video&&Object.assign(Object.assign({},c.video),n.video)})},hr=function(){var e=localStorage.getItem("audioTweaks");if(!e)return null;try{return JSON.parse(e)}catch(e){return debug("Incorrect audioTweaks override format - ignoring"),null}},mr=function(e){var t=hr(),n=Object.assign(Object.assign({},t),e);return!(null==n?void 0:n.hasOwnProperty("dapmEnabled"))||!1!==n.dapmEnabled},vr=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.HD="hd",e.MD="md",e.SD="sd",e.Auto="auto"}(fr||(fr={}));var gr,yr,kr,br,_r,wr,Sr,xr,Er=3e4,Tr=function(e,t,n){var r=t+2*n+20,i=93.2-(r<160?r/4:r-120)/10;return i-=2.5*e,100*(1+.035*(i=Math.max(0,i))+7e-6*i*(i-60)*(100-i))/100},Cr=function(e){return Math.pow(10,2.069924867*Math.pow(Math.log10(e),.6250223771))},jr=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(e){var i=e.filter((function(e){return"inbound-rtp"===e.type&&"video"===e.kind})),a=t.filter((function(e){return"inbound-rtp"===e.type&&"video"===e.kind})),o=n?function(e){return"track"===e.type}:function(e){return"track"===e.type&&"video"===e.kind},s=t.filter(o);if(i.length>0&&a.length>0&&s.length>0){parseInt(a[0].packetsLost),parseInt(a[0].packetsReceived),parseInt(i[0].packetsLost),parseInt(i[0].packetsReceived);var u=(parseInt(a[0].packetsLost),parseInt(i[0].packetsLost),parseInt(a[0].timestamp)-parseInt(i[0].timestamp)),c=8*(parseInt(a[0].bytesReceived)-parseInt(i[0].bytesReceived))/(u/1e3),l=Cr(parseInt(s[0].frameHeight)*parseInt(s[0].frameWidth));c>3e4&&(c=Math.min(c,l),r=Math.log(c/Er)/Math.log(l/Er)*4+1)}}return r},Pr=function(e,t,n){var r=0;if(e){var i=e.filter((function(e){return"outbound-rtp"===e.type&&"video"===e.kind})),a=t.filter((function(e){return"outbound-rtp"===e.type&&"video"===e.kind}));if(i.length>0&&a.length>0&&n.length>0){var o=parseInt(a[0].timestamp)-parseInt(i[0].timestamp),s=8*(parseInt(a[0].bytesSent)-parseInt(i[0].bytesSent))/(o/1e3),u=Cr(parseInt(n[0].getSettings().height)*parseInt(n[0].getSettings().width));s>3e4&&(s=Math.min(s,u),r=Math.log(s/Er)/Math.log(u/Er)*4+1)}}return r},Mr=function(e){for(var t=e.split("\n").map((function(e){return e.trim()})),n=!1,r=0;r<t.length;++r)t[r].startsWith("m=")&&(n=t[r].startsWith("m=audio")),n&&(t[r].startsWith("a=sendonly")||t[r].startsWith("a=recvonly")||t[r].startsWith("a=sendrecv"))&&(t[r]="a=inactive");return t.join("\r\n")},Ir=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];y(this,e),this.stream=n,this.isLocal=r,this.audio3D=i,this.connected=!1,this.level=0,this.context=t,this.dbrange=36,this.dblimit=0,this.x=0,this.y=.5}return g(e,[{key:"connectSource",value:function(){this.source.connect(this.analyserNode)}},{key:"updateStream",value:function(e){this.stream=e,this.source.disconnect(),this.analyserNode.disconnect(),this.source=this.context.createMediaStreamSource(this.stream),this.connectSource()}},{key:"connect",value:function(){this.source=this.context.createMediaStreamSource(this.stream),this.analyserNode=new AnalyserNode(this.context,{fftSize:256,smoothingTimeConstant:1}),this.data=new Uint8Array(this.analyserNode.fftSize),this.connectSource(),this.isLocal||(this.gainNode=this.context.createGain(),this.gainNode.gain.value=0,this.audio3D?(this.stereoPanner=this.context.createPanner(),this.stereoPanner.channelCount=1,this.stereoPanner.setOrientation(0,0,0),this.stereoPanner.setPosition(this.x,0,-this.y),Fn.isFirefox&&Fn.isWindows?this.stereoPanner.panningModel="equalpower":this.stereoPanner.panningModel="HRTF",this.stereoPanner.distanceModel=cr.audioSettings.distanceModel,this.stereoPanner.refDistance=cr.audioSettings.refDistance,this.stereoPanner.maxDistance=cr.audioSettings.maxDistance,this.stereoPanner.rolloffFactor=cr.audioSettings.rollOffFactor,this.analyserNode.connect(this.stereoPanner),this.stereoPanner.connect(this.gainNode)):this.analyserNode.connect(this.gainNode),this.gainNode.connect(this.context.destination)),this.connected=!0}},{key:"disconnect",value:function(){this.isLocal||(this.audio3D&&this.stereoPanner.disconnect(),this.gainNode.disconnect(),this.context.destination.disconnect()),this.analyserNode.disconnect(),this.source.disconnect()}},{key:"update",value:function(){if(this.connected){this.analyserNode.getByteTimeDomainData(this.data);var e=this.calculateRms(this.data),t=this.toDb(e);this.level=this.db2vu(t)}else this.level=0}},{key:"calculateRms",value:function(e){var t=0;return e.forEach((function(e){var n=e-127;t+=n*n})),Math.sqrt(t/e.length)}},{key:"toDb",value:function(e){return 20*Math.log10(e)}},{key:"db2vu",value:function(e){if(e===-1/0||e<this.dblimit)return 0;var t=e/this.dbrange,n=Math.PI/2+Math.PI/2*t,r=1-Math.sin(n);return r>1?1:r}},{key:"setGain",value:function(e){!this.isLocal&&this.audio3D&&(this.gainNode.gain.value=e)}},{key:"setPosition",value:function(e,t){!this.isLocal&&this.audio3D&&(isFinite(e)&&isFinite(t)?(this.x=e,this.y=Math.max(cr.audioSettings.refDistance,Math.min(1,t)),this.stereoPanner.setPosition(this.x,0,this.y)):Rt().debug("setPosition received non finite position"))}},{key:"getLevel",value:function(){return this.level}},{key:"setLevel",value:function(e){this.level=e}}]),e}(),Rr=new(function(){function e(){y(this,e),this.level="debug",Rt().setLevel("debug")}return g(e,[{key:"trace",value:function(){var e;(e=Rt()).trace.apply(e,arguments)}},{key:"info",value:function(){var e;(e=Rt()).info.apply(e,arguments)}},{key:"debug",value:function(){var e;(e=Rt()).debug.apply(e,arguments)}},{key:"warn",value:function(){var e;(e=Rt()).warn.apply(e,arguments)}},{key:"error",value:function(){var e;(e=Rt()).error.apply(e,arguments)}},{key:"setLevel",value:function(e){this.level=e,Rt().setLevel(e)}},{key:"setConferenceId",value:function(e){}},{key:"setUserContext",value:function(e){}}]),e}()),Ar=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Dr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Or=function(){function e(t,n){y(this,e),gr.set(this,0),yr.set(this,null),Ar(this,gr,t),Ar(this,yr,n)}return g(e,[{key:"timestamp",get:function(){return Dr(this,gr)}},{key:"data",get:function(){return Dr(this,yr)}}]),e}();function Nr(e,t){return e?xr.DVWC:t?xr.DV_OPUS:xr.NON_DV_OPUS}function Lr(e,t,n){var r;if(t===xr.DVWC)r=lr().media.unprocessed.constraints.audio;else switch(e.mode){case kr.Unprocessed:r=lr().media.unprocessed.constraints.audio;break;case kr.Music:r=function(e){var t,n=lr().media.music;return("off"===(null===(t=e.modeOptions)||void 0===t?void 0:t.echoCancellation)?n.echoCancellationOff:n.default).constraints.audio}(e);break;case kr.Standard:r=function(e,t,n){var r,i,a;if(e.mode===kr.Standard&&"low"===(null===(r=e.modeOptions)||void 0===r?void 0:r.noiseReductionLevel))return lr().media.constraints.audio;if(e.mode===kr.Standard&&"high"===(null===(i=e.modeOptions)||void 0===i?void 0:i.noiseReductionLevel)||e.mode===kr.Standard&&!(null===(a=e.modeOptions)||void 0===a?void 0:a.noiseReductionLevel)){if(n)return lr().media.dapm.constraints.audio;if(t===xr.DV_OPUS)return lr().media.dolbyProcessing.constraints.audio;if(t===xr.NON_DV_OPUS)return lr().media.constraints.audio}return lr().media.constraints.audio}(e,t,n);break;default:r=lr().media.constraints.audio}return Object.assign({},r)}gr=new WeakMap,yr=new WeakMap,function(e){e.Unprocessed="unprocessed",e.Standard="standard",e.Music="music"}(kr||(kr={})),function(e){e.High="high",e.Low="low"}(br||(br={})),function(e){e.None="none",e.BrokenRobot="brokenRobot",e.Abyss="abyss",e.Helium="helium",e.StarshipCaptain="starshipCaptain",e.Feminine="feminine",e.AMRadio="amRadio",e.Interference="interference",e.Swarm="swarm",e.DarkModulation="darkModulation",e.NervousRobot="nervousRobot",e.Wobble="wobble",e.Masculine="masculine"}(_r||(_r={})),function(e){e.Default="default",e.On="on",e.Off="off"}(wr||(wr={})),function(e){e.Bitrate18k="18Kbps",e.Bitrate32k="32Kbps",e.Bitrate64k="64Kbps",e.Bitrate80k="80Kbps",e.Bitrate96k="96Kbps",e.Bitrate128k="128Kbps"}(Sr||(Sr={})),function(e){e[e.DVWC=0]="DVWC",e[e.DV_OPUS=1]="DV_OPUS",e[e.NON_DV_OPUS=2]="NON_DV_OPUS"}(xr||(xr={}));var Fr=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},zr=Ye()("vxt:rtc"),Ur=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).mediaManager=e,r.conferenceId=null,r.connection=null,r.peers=[],r.localMediaStream=null,r.sharingStream=null,r.sharingPeerConnection=null,r.audioTrack=null,r.speechThreshold=.2,r.constraints=null,r.processCb=null,r.listenOnly=!1,r.dolbyVoice=!1,r.lastStats=[],r.recentlySeenRTT=0,r.audioTags=new(function(){function e(t,n){y(this,e),this.audio3D=n,this.rtc=t,this.sinkId=null,this.playAudioPromise=null,this.conferenceVolume=cr.audioSettings.gain}return g(e,[{key:"playAudioTag",value:function(e){var t=this.getAudioTagElement(e);t&&t.play()}},{key:"createAudioTag",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.conferenceVolume;return vr(this,void 0,void 0,p().mark((function i(){var a;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!("undefined"!=typeof document&&t&&t.getAudioTracks().length>0)){i.next=14;break}if((a=document.createElement("audio")).setAttribute("id","audio-"+e),a.setAttribute("class","vxt-audio"),i.t0=this.sinkId,!i.t0){i.next=8;break}return i.next=8,a.setSinkId(this.sinkId);case 8:return a.volume=r,a.addEventListener("error",(function(e){var t;n&&n(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.error)})),document.body.appendChild(a),$n(a,t),this.playAudioPromise=a.play(),i.abrupt("return",this.playAudioPromise);case 14:return i.abrupt("return",Promise.resolve(!0));case 15:case"end":return i.stop()}}),i,this)})))}},{key:"updateAudioTag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.conferenceVolume;return vr(this,void 0,void 0,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t&&t.getAudioTracks().length>0)){r.next=14;break}if(!(i=this.getAudioTagElement(e))){r.next=12;break}if(r.t1=this.playAudioPromise,!r.t1){r.next=7;break}return r.next=7,this.playAudioPromise;case 7:i.volume=n,$n(i,t),r.t0=i.play(),r.next=13;break;case 12:r.t0=this.createAudioTag(e,t,null,n);case 13:return r.abrupt("return",r.t0);case 14:return r.abrupt("return",Promise.resolve(!0));case 15:case"end":return r.stop()}}),r,this)})))}},{key:"removeAudioTag",value:function(e){var t=this.getAudioTagElement(e);t&&t.parentNode.removeChild(t)}},{key:"removeAllAudioTags",value:function(){"undefined"!=typeof document&&document.querySelectorAll(".vxt-audio").forEach((function(e){return e.parentNode.removeChild(e)}))}},{key:"setAudioTagVolume",value:function(e,t,n){var r=this.getAudioTagElement(e);if(r&&Fn.isChrome&&this.audio3D){var i=cr.audioSettings.chromeCutOffVolume,a=Math.sqrt(Math.pow(t,2)+Math.pow(n,2)),o=4;((i*=Math.exp(-o*a))<.001||!isFinite(i))&&(i=.001),r.volume=i}}},{key:"setVolume",value:function(e,t){var n=this.getAudioTagElement(e);n&&(n.volume=t)}},{key:"setConferenceVolume",value:function(e){if(this.conferenceVolume=e,"undefined"!=typeof document){var t,n=document.querySelectorAll(".vxt-audio"),r=f(n);try{for(r.s();!(t=r.n()).done;)t.value.volume=e}catch(i){r.e(i)}finally{r.f()}}}},{key:"isMuted",value:function(e){var t=this.getAudioTagElement(e);return!!t&&0===t.volume}},{key:"muteAudioTag",value:function(e,t){var n=this.getAudioTagElement(e);if(n)if(t)n.volume=0;else if(this.audio3D){var r=this.rtc.getPeerPosition(e);this.setAudioTagVolume(e,r.x,r.y)}else n.volume=1}},{key:"toggleMute",value:function(e){var t=this.isMuted(e);return this.muteAudioTag(e,!t),!t}},{key:"setSinkId",value:function(e){return vr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sinkId=e,t.next=3,this.updateSinks();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"updateSinks",value:function(){return vr(this,void 0,void 0,p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof document){e.next=25;break}t=document.querySelectorAll(".vxt-audio"),n=f(t),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=17;break}return i=r.value,e.prev=7,e.next=10,i.setSinkId(this.sinkId);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.error(e.t0);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(3),n.e(e.t1);case 22:return e.prev=22,n.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,19,22,25],[7,12]])})))}},{key:"getAudioTagElement",value:function(e){if("undefined"!=typeof document)return document.getElementById("audio-"+e)}},{key:"restartAudioTags",value:function(){return vr(this,void 0,void 0,p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof document){e.next=21;break}t=document.querySelectorAll(".vxt-audio"),n=f(t),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=13;break}return i=r.value,e.next=9,i.pause();case 9:return e.next=11,i.play();case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))}}]),e}())(d(r),r.audio3D),r.blockedPeers=[],r.currentConstraints=null,r.bandwidth=null,r.audioTransceiver=null,r.videoTransceiver=null,r.screenAudioTransceiver=null,r.screenTransceiver=null,r.remoteScreenStream=[],r.userMediaPromise=Promise.resolve(),r.rtpStatsCache=new Or(0,null),r.rtpStatsForTelemetryCache=new Or(0,null),r.isLeavingConference=!1,r.isOutputMuted=!1,r.clonedAudioTrack=null,r}return g(n,[{key:"autoplayBlockedEvent",value:function(){zr("autoplayBlockedEvent"),this.emit("autoplayBlocked")}},{key:"playBlockedAudio",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.blockedPeers.forEach((function(e){t.peers.filter((function(t){return t.peerId===e&&!t.isMaster})).map((function(){t.audioTags&&t.audioTags.playAudioTag(e)}))})),e.next=3,this.audioContext.resume();case 3:this.blockedPeers=[];case 4:case"end":return e.stop()}}),e,this)})))}},{key:"createAudioTag",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.audioTags.createAudioTag(e,t,this.onAudioTagError.bind(this),n);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),0===this.blockedPeers.length&&this.autoplayBlockedEvent(),this.blockedPeers.push(e);case 8:case"end":return r.stop()}}),r,this,[[0,5]])})))}},{key:"updateAudioTag",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.audioTags.updateAudioTag(e,t,n);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),this.autoplayBlockedEvent(e);case 8:case"end":return r.stop()}}),r,this,[[0,5]])})))}},{key:"initAudioOutputSelection",value:function(){if(!this.mediaManager.isOutputSelectorValid&&Fn.isDesktop&&(Fn.isChrome||Fn.isEdge||Fn.isElectron)&&(this.mediaManager.selectAudioOutputDevice=this.selectAudioOutput.bind(this),Fn.isWindows)){var e=this.mediaManager.audioOutputDevices.find((function(e){return"communications"===e.deviceId}));e&&(this.selectAudioOutput(e),this.mediaManager.selectedAudioOutputDevice=e)}}},{key:"addStreamEvent",value:function(e,t){zr("addStreamEvent",e,t);var n=this.peers.find((function(t){return t.peerId===e}));n&&(n.streamAddedEmitted=!0),this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xn.Camera),this.emit("addStream",e,t)}},{key:"updateStreamEvent",value:function(e,t){zr("updateStreamEvent",e,t);var n=this.peers.find((function(t){return t.peerId===e}));n&&!n.closed&&(this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xn.Camera),this.emit("updateStream",e,t))}},{key:"removeStreamEvent",value:function(e,t){zr("removeStreamEvent",e);var n=this.peers.find((function(t){return t.peerId===e}));n&&(n.streamAddedEmitted=!1),n&&!n.isMaster&&this.audioTags.removeAudioTag(e),n&&!n.closed&&(this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xn.Camera),n.stream=null,this.emit("removeStream",e,t))}},{key:"getDefaultAudioConstraints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dolbyVoice,t=arguments.length>1?arguments[1]:void 0;if(!t){var n=pr({dolbyProcessing:e});return Fn.isWindows&&this.mediaManager.audioInputDevices.find((function(e){return"communications"===e.deviceId}))&&(n.audio.deviceId={exact:"communications"}),n.audio}var r=!1;return"function"==typeof this.isDapm&&(r=this.isDapm()),Lr(t,Nr(!1,e),r)}},{key:"updateSelectedInputAudioDevice",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaManager.getConnectedAudioInputDevices();case 2:if((t=e.sent)&&0!==t.length){e.next=5;break}return e.abrupt("return");case 5:n=null,this.localMediaStream&&(r=this.localMediaStream.getAudioTracks(),n=r.length>0&&r[0]),n?(i=n.getSettings(),(a=t.find((function(e){return e.deviceId===i.deviceId})))&&(this.mediaManager.selectedAudioInputDevice=a)):(o=null,Fn.isWindows&&(o=t.find((function(e){return"communications"===e.deviceId}))),o||(o=t.find((function(e){return"default"===e.deviceId}))),this.mediaManager.selectedAudioInputDevice=o||t[0]);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"registerLocalAudioTrackEvents",value:function(e){var t=this;e.onended=function(){return t.onAudioTrackEnded()}}},{key:"unregisterAudioTrackEvents",value:function(e){e.onended=null}},{key:"updateInternalAudioProcessing",value:function(e,t){return e}},{key:"getUserMediaWithChecks",value:function(e,t){return Fr(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zr("Get media from WebRTC with audio constraints:",null==e?void 0:e.audio),t.next=3,navigator.mediaDevices.getUserMedia(e);case 3:return n=t.sent,r=n.getAudioTracks(),t.abrupt("return",(r[0]&&(this.registerLocalAudioTrackEvents(r[0]),function(e){var t=e.getSettings();return!(!t||!("echoCancellation"in t))&&!!e.getConstraints()&&function(e,t,n){return!(t in e)||("object"!=typeof e[t]?e[t]:"exact"in e[t]?e[t].exact:"ideal"in e[t]&&e[t].ideal)}(e.getConstraints(),"echoCancellation")&&!e.getSettings().echoCancellation}(r[0])&&this.emit("error",new tt({name:"EchoCancellationError",message:"Echo Cancellation is disabled."}))),this.customAudio=!1,n));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"init",value:function(e){var t,n=e.constraints,r=e.captureMode,i=e.processCb,a=e.listenOnly,o=(e.ownerId,e.options),s=e.videoTrack,u=e.audioTrack,c=e.dolbyVoice;return Fr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.constraints=Object.assign({},n),this.initWithoutAudioConstraints=!1===(null===(t=this.constraints)||void 0===t?void 0:t.audio),this.constraints.video=!1,this.processCb=i,this.options=o,this.listenOnly=a,this.dolbyVoice=c,this.mediaManager.selectAudioInputDevice=this.selectAudioInput.bind(this),e.next=10,this.initAudioContext();case 10:if(Fn.isWindows&&this.constraints.audio&&!this.constraints.audio.deviceId&&this.mediaManager.audioInputDevices.find((function(e){return"communications"===e.deviceId}))&&(this.constraints.audio.deviceId={exact:"communications"}),!u){e.next=20;break}return this.constraints.audio=this.updateInternalAudioProcessing(this.constraints.audio,r),e.next=15,this.applyAudioProcessing(u);case 15:this.audioTrack=e.sent.audioTrack,this.localMediaStream?this.localMediaStream.addTrack(this.audioTrack):this.localMediaStream=new MediaStream([this.audioTrack]),this.customAudio=!0,e.next=32;break;case 20:if(a||!this.constraints.audio&&!this.constraints.video){e.next=32;break}return e.prev=21,this.constraints.audio=this.updateInternalAudioProcessing(this.constraints.audio,r),e.next=25,this.getUserMediaWithChecks(this.constraints,r);case 25:this.localMediaStream=e.sent,this.audioTrack=this.localMediaStream.getAudioTracks()[0],e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(21),new tt(e.t0);case 32:return s&&(this.localMediaStream?this.localMediaStream.addTrack(s):this.localMediaStream=new MediaStream([s])),e.next=35,this.updateSelectedInputAudioDevice();case 35:case"end":return e.stop()}}),e,this,[[21,29]])})))}},{key:"release",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.peers.map((function(e){t.closePeerConnection(e.peerId)})),this.peers=[],this.audioTrack&&(this.audioTrack.onended=null,this.audioTrack.onmute=null,this.audioTrack.onunmute=null,this.audioTrack.stop()),this.clonedAudioTrack&&this.clonedAudioTrack.stop(),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach((function(e){return e.stop()})),this.sharingStream&&this.stopScreenShare(),this.audioContext&&this.audioContext.close(),this.mediaManager.initSelectAudioDevice(),this.mediaManager.getComfortNoiseLevel=void 0,this.mediaManager.setComfortNoiseLevel=void 0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initAudioContext",value:function(){var e;return Fr(this,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Fn.isExplorer||(this.audioContext=new Yn(null===(e=this.options)||void 0===e?void 0:e.audioContextOptions),this.audioContext.resume(),this.audioContext.onstatechange=function(){n.checkAutoplayBlocked()});case 1:case"end":return t.stop()}}),t,this)})))}},{key:"checkAutoplayBlocked",value:function(){"suspended"===this.audioContext.state&&this.emit("autoplayBlocked")}},{key:"isPeerConnectionStable",value:function(){var e=this.peers.filter((function(e){return e.connection}));return e.length>0&&"stable"===e[0].connection.signalingState}},{key:"ensurePeer",value:function(e){var t=e.peerId,n=e.isMaster,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["peerId","isMaster"]),i=this.peers.find((function(e){return e.peerId===t}));return i||(i=Object.assign({peerId:t,connection:null,stream:null,process:null,isMaster:n},r),this.peers.push(i)),i}},{key:"createPeerConnection",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function r(){var i,a,o,s=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!1,a=this.ensurePeer({peerId:e,isMaster:n}),(o=a.connection)&&"close"===t&&(o.close(),o=null),r.t0=o,r.t0){r.next=14;break}return i=!0,lr().peerConnection.config.sdpSemantics="unified-plan",(o=new Gn(lr().peerConnection.config,lr().peerConnection.constraints)).candidates=[],a.connection=o,r.next=11,this.addConnectionListeners(a);case 11:return r.next=13,this.addTrackListeners(e,a,{x:0,y:.2},o);case 13:o.onicecandidate=function(t){t.candidate?o.candidates.push({sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,sdp:t.candidate.candidate}):s.iceCandidatesGatheringCompleteEvent(e,o.candidates)};case 14:return zr("createPeerConnection",this.peers),r.abrupt("return",{peer:a,isNew:i});case 16:case"end":return r.stop()}}),r,this)})))}},{key:"addMasterStream",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(zr("addMasterStream",e),!this.localMediaStream){t.next=7;break}return n=!e.stream,t.next=4,this.addStream(this.localMediaStream,e.connection);case 4:e.stream=this.localMediaStream,this.audioContext&&this.localMediaStream.getAudioTracks().length>0&&(e.process=new Ir(this.audioContext,this.localMediaStream,!0,this.audio3D,this.processCb),e.process.connect()),n?this.addStreamEvent(e.peerId,this.localMediaStream):this.updateStreamEvent(e.peerId,this.localMediaStream);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"addConnectionListeners",value:function(e){var t=e.peerId,n=e.connection;return Fr(this,void 0,void 0,p().mark((function e(){var r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.oniceconnectionstatechange=function(e){r.connectionStatusEvent({peerId:t,connectionStatus:e.target.iceConnectionState,signalingState:e.target.signalingState})},n.onsignalingstatechange=function(e){r.connectionStatusEvent({peerId:t,connectionStatus:e.target.iceConnectionState,signalingState:e.target.signalingState})};case 1:case"end":return e.stop()}}),e)})))}},{key:"updateMasterStream",value:function(e,t,n){if(n){if("active"===t&&this.constraints.audio)return this.startAudioForPeer(e);if("inactive"===t)return this.stopAudioForPeer(e)}return Promise.resolve()}},{key:"closePeerConnection",value:function(e){zr("closePeerConnection",e);var t=this.peers.find((function(t){return t.peerId===e}));return t&&this._closePeerConnectionForPeer(t),Promise.resolve()}},{key:"removePeerConnection",value:function(e){var t=this,n=-1,r=[];if(this.peers.filter((function(t){return t.peerId===e})).map((function(e){n=t.peers.indexOf(e)})),Fn.isSafari&&-1!==n){var i=this.peers[n],a=this.remoteScreenStream.findIndex((function(e){return e.peerId===i.peerId}));setTimeout((function(){i&&i.sharedScreen&&a>-1&&(i.sharedScreen=!1,t.removeScreenStreamEvent(i.peerId,t.remoteScreenStream[a].stream),t.remoteScreenStream.splice(a,1))}),0)}return-1!==n&&(r=this.peers.splice(n,1)),r}},{key:"hasScreenShare",value:function(){return null!==this.sharingStream}},{key:"createAnswer",value:function(e){var t,n,r,i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",u=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;return Fr(this,void 0,void 0,p().mark((function l(){var d,f,h,m;return p().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(zr("createAnswer",e,u),d=this.peers.find((function(t){return t.peerId===e})),f=void 0!==c?c:{enabled:!1},d){l.next=4;break}throw mt(e);case 4:return h=this.sharingStream?this.sharingStream.id:"none",l.prev=5,l.next=8,d.connection.createAnswer();case 8:return m=l.sent,this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.createAnswer",data:{oid:u}})),(null===(t=this.options)||void 0===t?void 0:t.preferSendMono)&&(null===(n=this.options)||void 0===n?void 0:n.preferRecvMono)||(m.sdp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t||n?e.split("\n").map((function(e){return e.includes("fmtp:111 minptime=10")&&(t&&!e.includes("sprop-stereo=1")&&(e=e.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;sprop-stereo=1")),n&&!e.includes(";stereo=1")&&(e=e.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;stereo=1"))),e})).join("\n"):e}(m.sdp,!(null===(r=this.options)||void 0===r?void 0:r.preferSendMono),!(null===(i=this.options)||void 0===i?void 0:i.preferRecvMono))),(null===(a=this.options)||void 0===a?void 0:a.audioBitrate)&&(m.sdp=function(){var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n"),n=function(e){if("string"==typeof e)switch(e.toLowerCase()){case"18kbps":return 18e3;case"64kbps":return 64e3;case"80kbps":return 8e4;case"96kbps":return 96e3;case"128kbps":return 128e3}else{if([18e3,64e3,8e4,96e3,128e3].includes(e))return e;if([18,64,80,96,128].includes(e))return 1e3*e}}(e);return t.map((function(e){return e.includes("fmtp:111 minptime=10")&&(e=e.includes("maxaveragebitrate=")?e.replace(/maxaveragebitrate=\d+/,"maxaveragebitrate="+n):e.replace("fmtp:111 minptime=10","fmtp:111 minptime=10; maxaveragebitrate="+n)),e})).join("\n")}(m.sdp,null===(o=this.options)||void 0===o?void 0:o.audioBitrate)),zr("Answer",m.sdp),l.next=15,d.connection.setLocalDescription(m);case 15:this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.setLocalDescription",data:{oid:u}})),this.sessionCreatedEvent(e,d.connection.localDescription,null,h,s,u,f),l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(5),Rr.error("webrtc","VoxeetRTCNative.createAnswer",l.t0),function(e,t){return new et("CreateAnswerError",e.message,t,e)}(l.t0,d.peerId);case 22:case"end":return l.stop()}}),l,this,[[5,19]])})))}},{key:"createOffer",value:function(e){Rr.trace("createOffer, peerId");var t=this.peers.find((function(t){return t.peerId===e}));return t?t.connection.createOffer().then((function(e){return t.connection.setLocalDescription(e)})).then((function(){zr("Offer",t.connection.localDescription)})).catch((function(e){throw e})):Promise.reject(new mt(e))}},{key:"setRemoteDescription",value:function(e,t,n,r,i,a){return Fr(this,void 0,void 0,p().mark((function t(){var a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zr("setRemoteDescription"),zr("Offer",r),this.bandwidth=function(e){var t=Fn.isFirefox?"TIAS":"AS",n=e.split("\n").map((function(e){return e.trim()})).find((function(e){return 0===e.indexOf("b=".concat(t,":"))}));if(n){var r=new RegExp(":(.*)");return Fn.isFirefox?parseInt(n.match(r)[1])/1e3:parseInt(n.match(r)[1])}}(r),this.emit("onBandwidthRestrictionChanged",this.bandwidth),t.next=6,Promise.all(this.peers.filter((function(t){return t.peerId===e})).map((function(t){return Fr(a,void 0,void 0,p().mark((function a(){return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.connection.setRemoteDescription(new Hn({type:n,sdp:r}));case 3:this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.setRemoteDescription",data:{oid:i}})),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),Rr.error("webrtc","VoxeetRTC.setRemoteDescription error: ",e,a.t0),function(e,t){return new et("RemoteDescriptionError",e.message,t,e)}(a.t0,t.peerId);case 9:case"end":return a.stop()}}),a,this,[[0,6]])})))})));case 6:Fn.requiresScreenshareWorkaround&&this.peers.filter((function(t){return t.peerId===e})).forEach((function(e){if(a.remoteScreenStream.length>0){var t=r.split("\n").map((function(e){return e.trim()})),n="";t.forEach((function(e,r){if(0===e.indexOf("a=mid:")&&(n=e),e.startsWith("a=inactive")&&n.startsWith("a=mid:screenshare")&&t[r+1].startsWith("a=msid:")){var i=/a=msid:1_screen_([a-z0-9-]+)/,a=t[r+1].match(i);if(a){var o=a[1],s=this.peers.find((function(e){return e.peerId===o&&e.hasOwnProperty("sharedScreen")&&!0===e.sharedScreen}));if(s){var u=this.remoteScreenStream.findIndex((function(e){return e.peerId===s.peerId}));u>-1&&(s.sharedScreen=!1,this.removeScreenStreamEvent(s.peerId,this.remoteScreenStream[u].stream),this.remoteScreenStream.splice(u,1))}}}}),a)}}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"setPeerCandidate",value:function(e,t,n,r){return Fr(this,void 0,void 0,p().mark((function i(){var a=this;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all(this.peers.filter((function(t){return t.peerId===e})).map((function(e){return Fr(a,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.connection.addIceCandidate(new Wn({candidate:r,sdpMLineIndex:n,sdpMid:t}));case 2:case"end":return i.stop()}}),i)})))})));case 2:case"end":return i.stop()}}),i,this)})))}},{key:"setPeerPosition",value:function(e,t,n){}},{key:"mutePeer",value:function(e,t){var n=this;this.peers.filter((function(t){return t.peerId===e})).forEach((function(e){n.setMute(t,e)}))}},{key:"toggleMute",value:function(e){var t=this,n=!1;return this.peers.filter((function(t){return t.peerId===e})).forEach((function(e){n=t.togglePeerMute(e)})),n}},{key:"isOwnMuted",value:function(){return!this.audioTrack||!this.audioTrack.enabled}},{key:"setMute",value:function(e,t){var n,r=null===(n=t.stream)||void 0===n?void 0:n.getAudioTracks();(null==r?void 0:r.length)&&r[0]&&(t.isMaster&&(e?(this.clonedAudioTrack=this.audioTrack.clone(),t.process.updateStream(new MediaStream([this.clonedAudioTrack]))):(t.process.updateStream(t.stream),this.clonedAudioTrack&&(this.clonedAudioTrack.stop(),this.clonedAudioTrack=null))),r[0].enabled=!e,this.emit("onTrackMute",e,t.isMaster?void 0:t.peerId))}},{key:"togglePeerMute",value:function(e){var t,n=null===(t=e.stream)||void 0===t?void 0:t.getAudioTracks();if(null==n?void 0:n.length)return this.setMute(n[0].enabled,e),!n[0].enabled}},{key:"muteOutput",value:function(e){var t=this;this.peers.filter((function(e){return!e.isMaster})).forEach((function(n){t.setMute(e,n)})),this.isOutputMuted=e}},{key:"setConferenceVolume",value:function(e){this.audioTags&&this.audioTags.setConferenceVolume(e)}},{key:"setVolume",value:function(e,t){var n=this.peers.find((function(t){return t.peerId===e}));if(!n)throw mt(e);n.volume=t,this.audioTags&&this.audioTags.setVolume(e,t)}},{key:"getPeerPosition",value:function(e){var t=this.peers.find((function(t){return t.peerId===e}));return t&&t.process&&this.audio3D?{x:t.process.x,y:t.process.y}:{x:0,y:.5}}},{key:"getLevel",value:function(e,t){var n=this.peers.find((function(t){return t.peerId===e}));return n?this._getProcessLevel(n).then((function(e){t(e)})):t(0)}},{key:"isSpeaking",value:function(e,t){var n=this;this.getLevel(e,(function(e){e>n.speechThreshold?t(!0):t(!1)}))}},{key:"callWithoutConcurrency",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fr(this,void 0,void 0,p().mark((function t(){var r,i,a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,this.userMediaPromise=this.userMediaPromise.then((function(){return e.call.apply(e,[a].concat(n))})).catch((function(e){r=e})),t.next=4,this.userMediaPromise;case 4:if(i=t.sent,!r){t.next=7;break}throw r;case 7:return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"stopAudioForPeer",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callWithoutConcurrency(this.stopAudioForPeerInternal,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startAudioForPeer",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.callWithoutConcurrency(this.startAudioForPeerInternal,e,t,n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})))}},{key:"stopVideoForPeer",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callWithoutConcurrency(this.stopVideoForPeerInternal,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updateLocalVideo",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callWithoutConcurrency(this.updateLocalVideoInternal,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startVideoForPeer",value:function(e,t){return Fr(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.callWithoutConcurrency(this.startVideoForPeerInternal,e,t);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"selectAudioInput",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callWithoutConcurrency(this.selectAudioInputInternal,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"selectAudioOutput",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callWithoutConcurrency(this.selectAudioOutputInternal,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopVideoForPeerInternal",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(this.peers.filter((function(t){return t.peerId===e}))),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=15;break}if(!(i=r.value).stream||!i.isMaster){t.next=13;break}if(this.localMediaStream&&0!==this.localMediaStream.getVideoTracks().length){t.next=8;break}return t.abrupt("return");case 8:return a=this.localMediaStream.getVideoTracks()[0],this.localMediaStream.removeTrack(a),t.next=12,this.removeTrack(a,i.connection,this.localMediaStream);case 12:this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null);case 13:t.next=3;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[1,17,20,23]])})))}},{key:"updateLocalVideoInternal",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.peers.find((function(e){return e.isMaster})),!this.localMediaStream){t.next=8;break}return this.videoTrack=e,this.localMediaStream.getVideoTracks().forEach((function(e){r.localMediaStream.removeTrack(e)})),t.next=6,this.onVideoTrackUpdated(n);case 6:t.next=9;break;case 8:this.localMediaStream=new MediaStream([e]),this.localMediaStream.type=Xn.Camera,n.stream=this.localMediaStream,this.addStreamEvent(n.id,this.localMediaStream);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"startVideoForPeerInternal",value:function(e,t){return Fr(this,void 0,void 0,p().mark((function n(){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=f(this.peers.filter((function(t){return t.peerId===e}))),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=30;break}if(!(a=i.value).isMaster){n.next=28;break}if(!(this.localMediaStream&&this.localMediaStream.getVideoTracks().length>0)){n.next=8;break}return n.abrupt("return");case 8:if(this.videoTrack=t,n.prev=9,!this.localMediaStream){n.next=17;break}return this.localMediaStream.addTrack(t),n.next=14,this.addTrack(t,a.connection,this.localMediaStream,"video");case 14:this.updateStreamEvent(e,this.localMediaStream),n.next=23;break;case 17:return this.localMediaStream=new MediaStream([t]),this.localMediaStream.type=Xn.Camera,a.stream=this.localMediaStream,n.next=22,this.addStream(this.localMediaStream,a.connection);case 22:this.addStreamEvent(e,this.localMediaStream);case 23:n.next=28;break;case 25:throw n.prev=25,n.t0=n.catch(9),new tt(n.t0);case 28:n.next=3;break;case 30:n.next=35;break;case 32:n.prev=32,n.t1=n.catch(1),r.e(n.t1);case 35:return n.prev=35,r.f(),n.finish(35);case 38:case"end":return n.stop()}}),n,this,[[1,32,35,38],[9,25]])})))}},{key:"stopAudioForPeerInternal",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(this.peers.filter((function(t){return t.peerId===e}))),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=21;break}if(!(i=r.value).stream||!i.isMaster){t.next=19;break}if(this.localMediaStream&&0!==this.localMediaStream.getAudioTracks().length){t.next=8;break}throw new nt("Already stopped");case 8:return a=this.audioTrack,this.unregisterAudioTrackEvents(a),a.stop(),a.enabled=!1,this.originalTrack&&this.originalTrack.stop(),t.next=15,this.removeTrack(a,i.connection,this.localMediaStream);case 15:this.localMediaStream.removeTrack(a),this.customAudio=!1,this.audioContext&&i.process&&i.process.disconnect(),this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null);case 19:t.next=3;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),n.e(t.t0);case 26:return t.prev=26,n.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,this,[[1,23,26,29]])})))}},{key:"startAudioForPeerInternal",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function r(){var i,a,o,s,u;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=f(this.peers.filter((function(t){return t.peerId===e}))),r.prev=1,i.s();case 3:if((a=i.n()).done){r.next=53;break}if(!(o=a.value).isMaster){r.next=51;break}if(!(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)){r.next=8;break}throw new nt("Already started");case 8:if(r.prev=8,s=null,!(t instanceof MediaStreamTrack)){r.next=19;break}return this.updateInternalAudioProcessing(this.constraints.audio,n),r.next=14,this.applyAudioProcessing(t);case 14:this.audioTrack=r.sent.audioTrack,this.customAudio=!0,s=new MediaStream([this.audioTrack]),r.next=28;break;case 19:return u=JSON.parse(JSON.stringify(this.constraints)),this.initWithoutAudioConstraints&&(u.audio=!1),u.video=!1,t?u.audio=this.constraints.audio=t:u.audio||(u.audio=this.constraints.audio=this.getDefaultAudioConstraints(this.dolbyVoice,n)),u.audio=this.updateInternalAudioProcessing(u.audio,n),r.next=26,this.getUserMediaWithChecks(u,n);case 26:s=r.sent,this.audioTrack=s.getAudioTracks()[0];case 28:if(this.clonedAudioTrack&&(this.clonedAudioTrack=this.audioTrack.clone(),this.audioTrack.enabled=!1),!this.localMediaStream){r.next=36;break}return this.localMediaStream.addTrack(this.audioTrack),r.next=33,this.addTrack(this.audioTrack,o.connection,this.localMediaStream,"audio");case 33:this.updateStreamEvent(e,this.localMediaStream),r.next=42;break;case 36:return this.localMediaStream=s,this.localMediaStream.type=Xn.Camera,o.stream=s,r.next=41,this.addStream(this.localMediaStream,o.connection);case 41:this.addStreamEvent(e,this.localMediaStream);case 42:return r.next=44,this.updateSelectedInputAudioDevice();case 44:return this.audioContext&&(this.clonedAudioTrack?(o.process=new Ir(this.audioContext,new MediaStream([this.clonedAudioTrack]),!0,this.audio3D),o.process.connect()):(o.process=new Ir(this.audioContext,this.localMediaStream,!0,this.audio3D),o.process.connect())),r.abrupt("return",this.audioTrack);case 48:throw r.prev=48,r.t0=r.catch(8),new tt(r.t0);case 51:r.next=3;break;case 53:r.next=58;break;case 55:r.prev=55,r.t1=r.catch(1),i.e(r.t1);case 58:return r.prev=58,i.f(),r.finish(58);case 61:case"end":return r.stop()}}),r,this,[[1,55,58,61],[8,48]])})))}},{key:"getAudioTrackSettings",value:function(){return this.audioTrack.getSettings()}},{key:"updateAudioProcessing",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.customAudio){t.next=25;break}n=f(this.peers.filter((function(e){return!0===e.isMaster}))),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=17;break}return i=r.value,"object"==typeof this.constraints.audio&&(delete this.constraints.audio.autoGainControl,delete this.constraints.audio.googAutoGainControl,delete this.constraints.audio.noiseSuppression),this.audioTrack&&(a=this.getAudioTrackSettings())&&a.deviceId&&(e.deviceId={exact:a.deviceId}),t.next=9,this.updateAudioTrack(e);case 9:if(o=t.sent){t.next=12;break}return t.abrupt("return");case 12:return this.audioTrack=o.getAudioTracks()[0],t.next=15,this.onAudioTrackUpdated(i);case 15:t.next=4;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(2),n.e(t.t0);case 22:return t.prev=22,n.f(),t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[2,19,22,25]])})))}},{key:"preserveAudioConstraintsSettings",value:function(e){this.constraints.audio=e}},{key:"updateAudioTrack",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Fr(this,void 0,void 0,p().mark((function n(){var r,i,a,o,s;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="object"==typeof this.constraints.audio?this.constraints.audio:this.getDefaultAudioConstraints(),i=Object.assign(Object.assign({},r),e),t&&(this.constraints.audio=i),this.localMediaStream&&0!==this.localMediaStream.getAudioTracks().length){n.next=3;break}return n.abrupt("return");case 3:return a=this.audioTrack.enabled,this.audioTrack.enabled=!1,this.unregisterAudioTrackEvents(this.audioTrack),this.audioTrack.stop(),this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]),n.prev=5,s={audio:i,video:!1},n.next=9,this.getUserMediaWithChecks(s);case 9:o=n.sent,this.constraints.audio=i,n.next=16;break;case 13:throw n.prev=13,n.t0=n.catch(5),n.t0;case 16:if(n.t1=Fn.isSafari&&i.hasOwnProperty("echoCancellation")&&!i.echoCancellation,!n.t1){n.next=20;break}return n.next=20,this.restartAudioElemets();case 20:return o.getAudioTracks()[0].enabled=a,n.abrupt("return",o);case 22:case"end":return n.stop()}}),n,this,[[5,13]])})))}},{key:"onAudioTrackUpdated",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.localMediaStream.addTrack(this.audioTrack),t.next=3,this.replaceTrack(this.audioTrack,e.connection);case 3:this.audioContext&&e.process&&(this.audioTrack.enabled?e.process.updateStream(this.localMediaStream):(this.clonedAudioTrack=this.audioTrack.clone(),this.clonedAudioTrack.enabled=!0,e.process.updateStream(new MediaStream([this.clonedAudioTrack])))),this.updateStreamEvent(e.peerId,e.stream);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onVideoTrackUpdated",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.localMediaStream.addTrack(this.videoTrack),t.next=3,this.replaceTrack(this.videoTrack,e.connection,this.localMediaStream);case 3:this.updateStreamEvent(e.peerId,e.stream);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getDefaultMicrophone",value:function(){var e,t,n=null===(t=null===(e=this.constraints)||void 0===e?void 0:e.audio)||void 0===t?void 0:t.deviceId;return n||(Fn.isWindows&&this.mediaManager.audioInputDevices.find((function(e){return"communications"===e.deviceId}))?n="communications":this.mediaManager.audioInputDevices.find((function(e){return"default"===e.deviceId}))?n="default":this.mediaManager.audioInputDevices.length&&(n=this.mediaManager.audioInputDevices[0].deviceId)),n}},{key:"restartInputAudio",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.customAudio){e.next=2;break}return e.abrupt("return");case 2:return t=this.getDefaultMicrophone(),e.next=5,this.selectAudioInput(t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"onAudioTrackEnded",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.audioTrack.getSettings().groupId,e.next=3,this.mediaManager.getConnectedAudioInputDevices();case 3:if(e.t0=e.sent.find((function(e){return e.groupId===t})),!e.t0){e.next=6;break}this.emit("onTrackEnded",new tt({name:"TrackEndedError",message:"Audio track has unexpectedly ended."})),this.restartInputAudio();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"selectAudioInputInternal",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r,i,a,o=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(this.peers.filter((function(e){return!0===e.isMaster}))),t.prev=1,i=p().mark((function t(){var n,i,a,s,u,c,l,d;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.value,t.next=3,o.updateAudioTrack({deviceId:{exact:e.deviceId}});case 3:if((i=t.sent)&&i.type!==Xn.ScreenShare){t.next=6;break}return t.abrupt("return",{v:void 0});case 6:if(a=i.getAudioTracks()[0],!((s=a.getSettings()).deviceId!==e.deviceId||s.groupId&&s.groupId!==e.groupId)){t.next=22;break}return t.next=11,o.mediaManager.getConnectedAudioInputDevices();case 11:if(u=t.sent.find((function(t){return e.groupId===t.groupId&&t.deviceId!==s.deviceId})),!u){t.next=22;break}return c=a.enabled,a.stop(),(l=Object.assign(Object.assign({},o.constraints),{video:!1})).audio.deviceId=u.deviceId,t.next=19,o.getUserMediaWithChecks(l);case 19:i=t.sent,(a=i.getAudioTracks()[0]).enabled=c;case 22:if(!Fn.isSafari){t.next=29;break}if(d=a.clone(),o.audioTrack=d,i.active&&"live"===o.audioTrack.readyState){t.next=26;break}throw new nt("Failed to start input audio track");case 26:d.onended=function(){return Fr(o,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zr("Failed to start device, restarting...",e),t.next=3,this.selectAudioInput(e);case 3:case"end":return t.stop()}}),t,this)})))},setTimeout((function(){d.onended=null}),45e3),a.stop(),t.next=30;break;case 29:o.audioTrack=a;case 30:return o.registerLocalAudioTrackEvents(o.audioTrack),o.customAudio=!1,t.next=34,o.onAudioTrackUpdated(n);case 34:case"end":return t.stop()}}),t)})),n.s();case 4:if((r=n.n()).done){t.next=11;break}return t.delegateYield(i(),"t0",6);case 6:if(!(a=t.t0)){t.next=9;break}return t.abrupt("return",a.v);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(1),n.e(t.t1);case 16:return t.prev=16,n.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])})))}},{key:"selectAudioOutputInternal",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.deviceId)||!this.audioTags){t.next=20;break}r=f(this.peers.filter((function(e){return!0===e.isMaster}))),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=12;break}return i.value,t.next=9,this.audioTags.setSinkId(n);case 9:return t.abrupt("return",Promise.resolve());case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),r.e(t.t0);case 17:return t.prev=17,r.f(),t.finish(17);case 20:return t.abrupt("return",Promise.reject(new Error("Unavailable")));case 21:case"end":return t.stop()}}),t,this,[[3,14,17,20]])})))}},{key:"startScreenShare",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sharingStream){t.next=4;break}t.t0=Promise.reject(new Error("Unable to start more than one screen share at a time.")),t.next=10;break;case 4:return Fn.isChrome||Fn.isEdge?e.hasOwnProperty("audio")&&!0!==e.audio||(e.audio={echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}):e.audio&&(console.warn("Screen-share with audio is not supported on this browser."),e.audio=!1),t.next=7,navigator.mediaDevices.getDisplayMedia(e);case 7:this.sharingStream=t.sent,this.sharingStream.type=Xn.ScreenShare,t.t0=Promise.resolve(this.sharingStream);case 10:return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"releaseScreenShare",value:function(){this.sharingStream&&this.sharingStream.getVideoTracks().length>0&&(this.sharingStream.getVideoTracks()[0].onended=null,this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream.getAudioTracks()[0].onended=null,this.sharingStream.getAudioTracks()[0].stop(),this.sharingStream=null)}},{key:"addMasterScreenStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audioshare",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"screenshare";return Fr(this,void 0,void 0,p().mark((function r(){var i,a=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.peers.find((function(e){return e.isMaster})),r.t0=i&&e,!r.t0){r.next=7;break}return r.next=5,this.addScreenStream(e,i.connection,t,n);case 5:this.sharingStream.getVideoTracks()[0].onended=function(e){a.endedScreenStreamEvent()},this.addScreenStreamEvent(i.peerId,this.sharingStream);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"changeScreenShare",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sharingStream){t.next=21;break}return this.sharingStream.getVideoTracks()[0].onended=null,t.next=4,Promise.all(this.peers.filter((function(e){return e.isMaster})).map((function(e){return Fr(r,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.removeScreenStream(this.sharingStream,e.connection);case 2:case"end":return t.stop()}}),t,this)})))})));case 4:return this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream=null,t.prev=6,t.next=9,navigator.mediaDevices.getDisplayMedia({video:!0,sourceId:e});case 9:if(n=t.sent,t.t0=this.sharingStream!==n,!t.t0){t.next=15;break}return this.sharingStream=n,t.next=15,Promise.all(this.peers.filter((function(e){return e.isMaster})).map((function(e){return Fr(r,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.sharingStream,!t.t0){t.next=6;break}return t.next=4,this.addScreenStream(this.sharingStream,e.connection);case 4:this.sharingStream.getVideoTracks()[0].onended=function(e){n.endedScreenStreamEvent()},this.updateScreenStreamEvent(e.peerId,this.sharingStream);case 6:case"end":return t.stop()}}),t,this)})))})));case 15:return t.abrupt("return",this.sharingStream);case 18:throw t.prev=18,t.t1=t.catch(6),new tt(t.t1);case 21:case"end":return t.stop()}}),t,this,[[6,18]])})))}},{key:"stopScreenShare",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.sharingStream,!e.t0){e.next=7;break}return this.sharingStream.getVideoTracks()[0].onended=null,e.next=5,Promise.all(this.peers.filter((function(e){return e.isMaster})).map((function(e){return Fr(t,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.removeScreenStream(this.sharingStream,e.connection);case 2:case"end":return t.stop()}}),t,this)})))})));case 5:return e.next=7,Promise.all(this.peers.filter((function(e){return e.isMaster})).map((function(e){return Fr(t,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.removeScreenStreamEvent(e.peerId,this.sharingStream),this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream.getAudioTracks().length>0&&this.sharingStream.getAudioTracks()[0].stop(),this.sharingStream=null;case 1:case"end":return t.stop()}}),t,this)})))})));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"changeRecordingDevice",value:function(){getUserMedia(constraints,(function(e){}))}},{key:"_getRtcForTrack",value:function(e,t){return Fn.isChrome?e.getStats().then((function(e){return c(e.values()).filter((function(e){return"track"===e.type&&e.trackIdentifier===t.id}))})).then((function(e){return e[0].audioLevel})):e.getStats(t).then((function(e){return e.ssrc&&e.ssrc.audioInputLevel?e.ssrc.audioInputLevel:e.ssrc.audioOutputLevel}))}},{key:"_getRtcLevel",value:function(e,t){return e.stream?this._getRtcForTrack(e.connection,e.stream.getAudioTracks()[0]).then((function(e){return(20*Math.log10(e)+70)/80})).catch((function(e){return 0})):Promise.resolve(0)}},{key:"_getProcessLevel",value:function(e){var t=0;return e.process&&(e.process.update(),t=e.process.getLevel()),Promise.resolve(t)}},{key:"_getStats",value:function(e,t){return e.getStats(t)}},{key:"getInboundRtpStats",value:function(){var e=this;return new Promise((function(t,n){var r={bytesReceived:0,packetsReceived:0};e.peers.filter((function(e){return!e.isMaster})).map((function(e){e.connection.getStats().then((function(e){e.forEach((function(e){"inbound-rtp"===e.type&&(r.bytesReceived+=e.bytesReceived,r.packetsReceived+=e.packetsReceived)})),t(r)}))}))}))}},{key:"setVideoForwarding",value:function(e){var t,n=this.ensurePeer({peerId:e,isMaster:!1,forwarded:!0});n.forwarded=!0,(null===(t=n.cachedVideoTracks)||void 0===t?void 0:t.length)&&(n.stream?(n.cachedVideoTracks.forEach((function(e){n.stream.addTrack(e)})),n.streamAddedEmitted?this.updateStreamEvent(e,n.stream):this.addStreamEvent(e,n.stream)):(n.stream=new MediaStream(n.cachedVideoTracks),this.addStreamEvent(e,n.stream))),n.cachedVideoTracks=[]}},{key:"removeVideoForwarding",value:function(e){var t,n=this.ensurePeer({peerId:e,isMaster:!1});n.forwarded=!1;var r=null===(t=n.stream)||void 0===t?void 0:t.getVideoTracks();n.cachedVideoTracks=r,(null==r?void 0:r.length)&&(n.stream&&r.forEach((function(e){n.stream.removeTrack(e)})),n.stream.getTracks().length>0?this.updateStreamEvent(e,n.stream):this.removeStreamEvent(e,n.stream))}},{key:"handleIncomingMediaStream",value:function(e,t){if(!e.forwarded&&e.peerId!==zn){var n=t.getVideoTracks();if(null==n?void 0:n.length)return e.cachedVideoTracks=n,e.cachedVideoTracks.forEach((function(e){t.removeTrack(e)})),void(e.stream=t)}e.peerId!==zn&&this.dolbyVoice&&!t.getVideoTracks().length&&t.getAudioTracks().length||t.getTracks().length&&(e.streamAddedEmitted?this.updateStreamEvent(e.peerId,t):this.addStreamEvent(e.peerId,t)),e.stream=t}},{key:"addFakeAudio",value:function(e){var t=this.peers.find((function(t){return t.peerId===e}));t||(t=this.ensurePeer({peerId:e,isMaster:!1,forwarded:!1})),t.audioTransmitting=!0,t.stream?t.stream.getTracks().length||(t.stream=new tr(t.stream),t.streamAddedEmitted?this.updateStreamEvent(e,t.stream):this.addStreamEvent(e,t.stream)):(t.stream=new tr(new MediaStream),this.addStreamEvent(e,t.stream))}},{key:"removeFakeAudio",value:function(e){var t=this.peers.find((function(t){return t.peerId===e}));if((null==t?void 0:t.stream)&&0!==t.stream.getAudioTracks().length){t.audioTransmitting=!1;var n=t.stream.getAudioTracks().filter((function(e){return e instanceof nr}));n.length&&(n.forEach((function(e){t.stream.removeTrack(e)})),t.stream.getTracks().length>0?this.updateStreamEvent(e,t.stream):this.removeStreamEvent(e,t.stream))}}},{key:"getRTCPeerConnections",value:function(){return this.peers.filter((function(e){return e.connection})).map((function(e){return e.connection}))}},{key:"getRtpStats",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),e.t0=this.rtpStatsCache.timestamp+500<t,!e.t0){e.next=9;break}return e.t1=Or,e.t2=t,e.next=7,this.getLocalRtpStats();case 7:e.t3=e.sent,this.rtpStatsCache=new e.t1(e.t2,e.t3);case 9:return e.abrupt("return",this.rtpStatsCache.data);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getLocalRtpStats",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,s,u,d,h,m,v,g,y,k,b,_,w,S,x;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.peers.find((function(e){return e.isMaster})),e.next=3,this.getRtpStatsForTelemetry();case 3:if(n=e.sent,r=null==n?void 0:n.metrics,t){i=r.get(t.peerId).filter((function(e){return"candidate-pair"===e.type})),a=f(r);try{for(a.s();!(o=a.n()).done;)s=l(o.value,2),u=s[0],d=s[1],h=0,m=0,u===t.peerId?(v=d.filter((function(e){return("remote-inbound-rtp"===e.type||"inbound-rtp"===e.type)&&"audio"===e.kind})),g=d.filter((function(e){return"outbound-rtp"===e.type&&"audio"===e.kind})),y=[],this.lastStats[u]&&(y=this.lastStats[u].filter((function(e){return"outbound-rtp"===e.type&&"audio"===e.kind}))),v.length>0&&g.length>0&&y.length>0&&g[0].bytesSent>y[0].bytesSent&&(k=(k=i[0].currentRoundTripTime?i[0].currentRoundTripTime:v[0].roundTripTime)||this.recentlySeenRTT,this.recentlySeenRTT=k,b=parseFloat(v[0].packetsLost)/parseFloat(g[0].packetsSent),h=Tr(parseFloat(100*b),1e3*parseFloat(k),1e3*parseFloat(v[0].jitter))),this.localMediaStream&&(_=this.localMediaStream.getVideoTracks(),m=Pr(this.lastStats[u],d,_))):(w=d.filter((function(e){return"inbound-rtp"===e.type&&"audio"===e.kind})),w.length>0&&i.length>0&&(S=parseFloat(w[0].packetsLost)/parseFloat(w[0].packetsReceived),h=Tr(parseFloat(100*S),1e3*parseFloat(i[0].currentRoundTripTime),1e3*parseFloat(w[0].jitter))),x=this.peers.findIndex((function(e){return e.peerId===zn}))>-1,m=jr(this.lastStats[u],d,x)),this.lastStats[u]=c(d),r.set(u,[].concat(c(d),[{id:"Scores",audio:h,video:m}]))}catch(p){a.e(p)}finally{a.f()}}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getRemoteScreenStreamInfo",value:function(e){var t=null,n=null,r=null;return e&&(t=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.id)[3],n=e.id,r=e.getTracks().map((function(e){return e.id}))),[t,n,r]}},{key:"getRemoteStats",value:function(e,t){var n=this,r=new Map,i=e.getReceivers(),a=new Map(i.map((function(e){return[e.track.id,e.getSynchronizationSources().map((function(e){return e.source}))]})));return this.peers.forEach((function(e){var i=e.stream,o=e.peerId,s=e.isMaster;if(i&&!s){var u=n.remoteScreenStream.findIndex((function(e){return e.peerId===o})),d=u>-1?n.remoteScreenStream[u].stream:null,f=function(e,t){var n=[].concat(c(e.getAudioTracks()),c(e.getVideoTracks()));return t&&n.push.apply(n,c(t.getTracks())),n}(i,d),p=n.getRemoteScreenStreamInfo(d),h=l(p,3),m=(h[0],h[1]),v=h[2],g=f.flatMap((function(e){if(!function(e,t,n){return e.find((function(e){var r;return"inbound-rtp"===e.type&&(null===(r=t.get(n))||void 0===r?void 0:r.includes(e.ssrc))}))}(t,a,e.id))return[];var n=function(e,t){var n=null;return e.some((function(e){return"track"===e.type}))?(n=e.find((function(e){return"track"===e.type&&e.trackIdentifier===t.id}))).kind=t.kind:n={type:"track",id:t.id,kind:t.kind,trackIdentifier:t.id},n}(t,e),r=function(e,t,n){var r=e.find((function(e){return"inbound-rtp"===e.type&&t.get(n.trackIdentifier).includes(e.ssrc)}));return r.trackId=n.id,r}(t,a,n),o=function(e,t,n,r,i){return e.some((function(e){return"stream"===e.type}))?e.find((function(e){return"stream"===e.type&&e.trackIds.includes(n.id)})):r&&r.includes(n.trackIdentifier)?{type:"stream",id:i,streamIdentifier:i,trackIds:[n.id]}:{type:"stream",id:t.id,streamIdentifier:t.id,trackIds:[n.id]}}(t,i,n,v,m);return[r,n,o]}));r.set(o,g)}})),r}},{key:"getLocalScreenShareInfo",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.screenTransceiver&&null!=this.screenTransceiver.sender&&null!=this.screenTransceiver.sender.track){e.next=2;break}return e.abrupt("return",[null,null]);case 2:return e.t0=c,e.next=5,this.screenTransceiver.sender.getStats();case 5:return e.t1=e.sent.values(),t=(0,e.t0)(e.t1).filter((function(e){return"outbound-rtp"===e.type})),e.abrupt("return",t[0]?[t[0].ssrc,this.screenTransceiver.sender.track.id]:[null,null]);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addContentTypeToScreenShareOutboundRtpStats",value:function(e,t,n){t&&n&&e.filter((function(e){return"outbound-rtp"===e.type})).forEach((function(e){e.ssrc===t&&(e.hasOwnProperty("contentType")||(e.contentType="screenshare"),e.hasOwnProperty("trackId")||(e.trackId=n))}))}},{key:"getRtpStatsForTelemetry",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),e.t0=this.rtpStatsForTelemetryCache.timestamp+500<t,!e.t0){e.next=9;break}return e.t1=Or,e.t2=t,e.next=7,this.getLocalRtpStatsForTelemetry();case 7:e.t3=e.sent,this.rtpStatsForTelemetryCache=new e.t1(e.t2,e.t3);case 9:return e.abrupt("return",Object.assign({},this.rtpStatsForTelemetryCache.data));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getLocalRtpStatsForTelemetry",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,s,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.peers.find((function(e){return e.isMaster})),n={metrics:new Map},t){e.next=3;break}return e.abrupt("return",n);case 3:if(t.connection){e.next=5;break}return e.abrupt("return",(n.metrics.set(t.peerId,[]),n));case 5:return e.next=7,t.connection.getStats(null);case 7:return r=e.sent,r=c(r.values()),e.next=11,this.getLocalScreenShareInfo();case 11:return i=e.sent,a=l(i,2),o=a[0],s=a[1],u=[],e.abrupt("return",(r.filter((function(e){return"media-source"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type&&e.localId||"candidate-pair"===e.type||"track"===e.type&&!1===e.remoteSource})).forEach((function(e){u.push(e)})),u.forEach((function(e){!e.hasOwnProperty("kind")&&e.hasOwnProperty("mediaType")&&(e.kind=e.mediaType)})),this.addContentTypeToScreenShareOutboundRtpStats(u,o,s),n.metrics.set(t.peerId,u),n.metrics=new Map([].concat(c(n.metrics),c(this.getRemoteStats(t.connection,r)))),n));case 17:case"end":return e.stop()}}),e,this)})))}},{key:"_closePeerConnectionForPeer",value:function(e){if(e.process&&e.process.disconnect(),e&&e.stream&&(this.removeStreamEvent(e.peerId,e.stream),e.stream=null),e.connection&&"closed"!==e.connection.signalingState){if(this.screenTransceiver&&"inactive"!==this.screenTransceiver.currentDirection){var t=new MediaStream;t.type=Xn.ScreenShare,this.removeScreenStreamEvent(e.peerId,t),this.screenTransceiver.sender.track&&this.screenTransceiver.sender.track.stop()}e.connection.close()}e&&(e.close=!0)}},{key:"onRemoveTrack",value:function(e,t){var n,r;if(zr("stream onRemoveTrack",t),-1!==t.currentTarget.id.search("screen_"))this.removeScreenStream(e,t.target);else{var i=this.peers.find((function(t){return t.peerId===e}));if(!t.target.getTracks().length)return this.dolbyVoice&&(null==i?void 0:i.audioTransmitting)?(i.stream=new tr(new MediaStream),void this.updateStreamEvent(e,i.stream)):void this.removeStreamEvent(e,t.target);if(this.dolbyVoice&&(null==i?void 0:i.audioTransmitting)&&(null===(n=t.target)||void 0===n?void 0:n.getVideoTracks().length)&&!(null===(r=t.target)||void 0===r?void 0:r.getAudioTracks().length))return void(i.stream=new tr(t.target));this.updateStreamEvent(e,t.target)}}},{key:"onScreenRemoveTrack",value:function(e,t){if(!t.target.getTracks().length){var n=this.peers.find((function(t){return t.peerId===e}));n&&(n.sharedScreen=!1),zr("stream onScreenRemoveTrack",t),t.target.type=Xn.ScreenShare;var r=this.remoteScreenStream.findIndex((function(t){return t.peerId===e}));r>-1&&(this.removeScreenStreamEvent(e,this.remoteScreenStream[r].stream),this.remoteScreenStream.splice(r,1))}}},{key:"addStream",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn.Camera;return Fr(this,void 0,void 0,p().mark((function r(){var i,a,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(zr("addStream",t.getTransceivers(),t.getSenders()),n==Jn.Camera?(this.audioTransceiver=t.getTransceivers().find((function(e){return"audio"===e.mid})),this.videoTransceiver=t.getTransceivers().find((function(e){return"video"===e.mid})),i=this.audioTransceiver,a=this.videoTransceiver):(i=t.getTransceivers().find((function(e){return e.mid==="audio".concat(n)})),a=t.getTransceivers().find((function(e){return e.mid==="video".concat(n)}))),i&&e.getAudioTracks().length>0&&!this.wasm&&this.addTrack(e.getAudioTracks()[0],t,null),!(a&&(e.getVideoTracks().length>0&&this.addTrack(e.getVideoTracks()[0],t,null),this.options&&this.options.simulcast))){r.next=14;break}return r.prev=1,(o=a.sender.getParameters()).encodings||(o.encodings=[{rid:"l",active:!0},{rid:"m",active:!0},{rid:"h",active:!0}]),o.encodings[0]&&(o.encodings[0].scaleResolutionDownBy=4,o.encodings[0].maxBitrate=2e5,o.encodings[0].maxFramerate=20),o.encodings[1]&&(o.encodings[1].scaleResolutionDownBy=2,o.encodings[1].maxBitrate=7e5,o.encodings[1].maxFramerate=25),o.encodings[2]&&(o.encodings[2].scaleResolutionDownBy=1,o.encodings[2].maxBitrate=24e5,o.encodings[2].maxFramerate=25),r.next=9,a.sender.setParameters(o);case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),console.error("Simulcast can't be activated"),zr("simulcast error",r.t0);case 14:case"end":return r.stop()}}),r,this,[[1,11]])})))}},{key:"setDirection",value:function(e,t){e.setDirection?e.setDirection(t):e.direction=t}},{key:"addScreenStream",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audioshare",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"screenshare";return Fr(this,void 0,void 0,p().mark((function i(){var a=this;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all(t.getTransceivers().map((function(t){return Fr(a,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.mid!==r){i.next=7;break}return this.screenTransceiver=t,this.setDirection(t,"sendonly"),i.next=5,t.sender.replaceTrack(e.getVideoTracks()[0]);case 5:i.next=13;break;case 7:if(i.t0=t.mid===n,!i.t0){i.next=13;break}return this.screenAudioTransceiver=t,this.setDirection(t,"sendonly"),i.next=13,t.sender.replaceTrack(e.getAudioTracks()[0]);case 13:case"end":return i.stop()}}),i,this)})))})));case 2:case"end":return i.stop()}}),i)})))}},{key:"removeScreenStream",value:function(e,t){return Fr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.screenAudioTransceiver,!e.t0){e.next=5;break}return this.setDirection(this.screenAudioTransceiver,"recvonly"),e.next=5,this.screenAudioTransceiver.sender.replaceTrack(null);case 5:if(e.t1=this.screenTransceiver,!e.t1){e.next=10;break}return this.setDirection(this.screenTransceiver,"recvonly"),e.next=10,this.screenTransceiver.sender.replaceTrack(null);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"addTrack",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.getTransceivers().map((function(t){return Fr(r,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.mid!==e.kind){n.next=6;break}return this.setDirection(t,"audio"===t.mid?"sendrecv":"sendonly"),n.next=4,t.sender.replaceTrack(e);case 4:r={track:{readyState:null==e?void 0:e.readyState,kind:null==e?void 0:e.kind,enabled:null==e?void 0:e.enabled,id:null==e?void 0:e.id}},this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.addTrack",data:r}));case 6:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return n.stop()}}),n)})))}},{key:"removeTrack",value:function(e,t,n){return Fr(this,void 0,void 0,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.getTransceivers().map((function(t){return Fr(r,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.mid!==e.kind){n.next=6;break}return this.setDirection(t,"audio"===t.mid?"recvonly":"inactive"),n.next=4,t.sender.replaceTrack(null);case 4:r={track:{readyState:null==e?void 0:e.readyState,kind:null==e?void 0:e.kind,enabled:null==e?void 0:e.enabled,id:null==e?void 0:e.id}},this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.removeTrack",data:r}));case 6:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return n.stop()}}),n)})))}},{key:"replaceTrack",value:function(e,t){return Fr(this,void 0,void 0,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.getTransceivers().map((function(t){return Fr(r,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.mid!==e.kind){n.next=5;break}return n.next=3,t.sender.replaceTrack(e);case 3:r={track:{readyState:null==e?void 0:e.readyState,kind:null==e?void 0:e.kind,enabled:null==e?void 0:e.enabled,id:null==e?void 0:e.id}},this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.replaceTrack",data:r}));case 5:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return n.stop()}}),n)})))}},{key:"onAudioTagError",value:function(e){return Fr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.emit("error",St(null==e?void 0:e.code,null==e?void 0:e.message)),t.t0=Fn.isAndroid,!t.t0){t.next=6;break}return this.audioTags.removeAllAudioTags(),t.next=6,this.callWithoutConcurrency(this.restartAllAudioTrackInstances);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"restartAllAudioTrackInstances",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f(this.peers),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=25;break}if(!(r=n.value).connection){e.next=23;break}return i=r.connection.remoteDescription,a=new Hn({type:i.type,sdp:Mr(i.sdp)}),e.prev=7,e.next=10,r.connection.setRemoteDescription(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.error("webrtc","VoxeetRTC.restartAllAudioTrackInstances error: ",r.peerId,e.t0);case 15:return e.prev=15,e.next=18,r.connection.setRemoteDescription(i);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),console.error("webrtc","VoxeetRTC.restartAllAudioTrackInstances error: ",r.peerId,e.t1);case 23:e.next=3;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(1),t.e(e.t2);case 30:return e.prev=30,t.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[1,27,30,33],[7,12],[15,20]])})))}},{key:"updateOptions",value:function(e){this.options=Object.assign(Object.assign({},this.options),e)}},{key:"restartAudioElemets",value:function(){return Fr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.audioTags,!e.t0){e.next=4;break}return e.next=4,this.audioTags.restartAudioTags();case 4:case"end":return e.stop()}}),e,this)})))}}]),n}(ar),Vr=w(1665);function Br(){var e;return"undefined"!=typeof document&&(e=function(){var e,t;if(e=document.currentScript)t=e.src.split("?")[0];else{var n=document.getElementsByTagName("script");if(!n||0===n.length)return;if(n[n.length-1].src.includes("voxeet-sdk.js"))t=n[n.length-1].src.split("?")[0];else{var r=Array.from(n).find((function(e){return e.src.includes("voxeet-sdk.js")}));r&&(t=r.src.split("?")[0])}}if(t)return t.split("/").slice(0,-1).join("/")+"/"}()),e?e||"/":"//"}var Wr=Br();function Gr(){return Wr}function Hr(e){return Wr+e+"?"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"f06517665ddec3cd5f3405002f5bb81c")}var Yr,Zr=function(){function e(){y(this,e)}return g(e,null,[{key:"wasmFileUrl",get:function(){return Hr("dapm_impl.wasm","2febc590a084ffcb3bb2bfb2b8da4a15")}},{key:"dnrLibraryFileUrl",get:function(){return Hr("dvdnr.wasm","3fce421b27d87403287e7d94e770f57e")}},{key:"dnrModelFileUrl",get:function(){return Hr("audio_dnr.bin","3fce421b27d87403287e7d94e770f57e")}}]),e}(),qr=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},$r=Ye()("vxt:rtc:uplan:dapm"),Kr=function(){function e(){y(this,e),this.dapm=null,this.dapmProcessing=null,this.processSettings={aceMode:Vr.AceMode.STANDARD,agc:!1,noiseSuppression:!0},this.noProcessSettings={aceMode:Vr.AceMode.PASSTHROUGH,agc:!1,noiseSuppression:!1},this.voicefontOnlySettings={aceMode:Vr.AceMode.VOICEFONT_ONLY,agc:!1,noiseSuppression:!1},this.audioLoggingLength=0,this.aceConfiguration=this.processSettings,this.voiceFont="none",this.streamProcessor=null,this.streamGenerator=null,this.streamTransformer=null,this.abortController=null}return g(e,[{key:"loadDapmModule",value:function(t){return qr(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=this.dapm,n.t0){n.next=7;break}return n.next=5,Vr.getDapm({wasmFilePath:t});case 5:this.dapm=n.sent,this.dapm.registerLoggerCallback(e.onDapmLog);case 7:n.next=12;break;case 9:return n.prev=9,n.t1=n.catch(0),n.abrupt("return",($r(n.t1),!1));case 12:return n.abrupt("return",!0);case 13:case"end":return n.stop()}}),n,this,[[0,9]])})))}},{key:"init",value:function(e,t,n){return qr(this,void 0,void 0,p().mark((function r(){var i,a,o,s,u,c,l=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.loadDapmModule(e);case 3:if(r.sent){r.next=5;break}return r.abrupt("return",{initialized:!1,reason:"fetch"});case 5:return a=function(e){switch(e){case 16e3:return Vr.SampleRate._16kHz;case 32e3:return Vr.SampleRate._32kHz;case 48e3:return Vr.SampleRate._48kHz;default:throw new Error("Bad sample_rate :"+e)}},o=(i=function(){return l.aceConfiguration.aceMode===Vr.AceMode.STANDARD&&!0===l.aceConfiguration.noiseSuppression})()?Zr.dnrLibraryFileUrl:"",s=i()?Zr.dnrModelFileUrl:"",u=a(t.sampleRate),$r("DAPM (",Vr.getVersion(),") create in ace mode: ",this.aceConfiguration.aceMode,"[standard/passthrough/voicefont_only]"),c=$r.enabled||!1,r.next=11,this.dapm.createAudioProcessing({sample_rate:u,num_channels:t.channelCount,input_scaling:1,enable_audio_logging:!0,audio_logging_length:0,mode:this.aceConfiguration.aceMode,dnr_lib_path:o,dnr_model_path:s,access_token:Gt.accessToken,log_severity:c?Vr.LogSeverity.DEBUG:Vr.LogSeverity.INFO},n,null);case 11:this.dapmProcessing=r.sent,null!=this.aceConfiguration.agc&&($r("DAPM set agc: ",this.aceConfiguration.agc,"[true/false]"),this.dapmProcessing.setAgcEnable(this.aceConfiguration.agc)),this.aceConfiguration.aceMode==Vr.AceMode.STANDARD&&null!=this.aceConfiguration.noiseSuppression?($r("DAPM set noise suppression: ",this.aceConfiguration.noiseSuppression,"[true/false]"),this.dapmProcessing.setNoiseSupressionEnable(this.aceConfiguration.noiseSuppression)):$r("DAPM noise suppression: false (AceMode not supporting NS)"),null!=this.voiceFont&&($r("DAPM use voice font: ",this.voiceFont),this.dapmProcessing.setVoiceFont(this.voiceFont)),r.next=20;break;case 17:return r.prev=17,r.t0=r.catch(0),r.abrupt("return",(console.warn(r.t0),{initialized:!1,reason:r.t0}));case 20:return r.abrupt("return",{initialized:!0});case 21:case"end":return r.stop()}}),r,this,[[0,17]])})))}},{key:"reset",value:function(){this.dapm&&this.dapmProcessing&&(this.dapm.clean(),this.dapmProcessing=null)}},{key:"getProcessedTrack",value:function(e){return qr(this,void 0,void 0,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Fn.isChrome||Fn.isEdge){t.next=2;break}return t.abrupt("return",e);case 2:return this.streamProcessor=new MediaStreamTrackProcessor(e),this.streamGeneratorClass=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).baseTrack=r,i}return g(n,[{key:"getCapabilities",value:function(){return this.baseTrack.getCapabilities()}},{key:"getSettings",value:function(){return this.baseTrack.getSettings()}},{key:"getConstraints",value:function(){return this.baseTrack.getConstraints()}},{key:"applyConstraints",value:function(){return this.baseTrack.applyConstraints()}}]),n}(MediaStreamTrackGenerator),this.streamGenerator&&this.streamGenerator.stop(),this.streamGenerator=new this.streamGeneratorClass("audio",e),n=this.streamProcessor.readable,r=this.streamGenerator.writable,this.streamTransformer=new TransformStream({transform:this.dapmTransformer()}),this.abortController=new AbortController,i=this.abortController.signal,t.abrupt("return",(n.pipeThrough(this.streamTransformer,{signal:i}).pipeTo(r).catch((function(e){n.cancel(e),r.abort(e)})),this.streamGenerator));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"dapmTransformer",value:function(){var e=this;return function(t,n){n.enqueue(new AudioData({format:"f32-planar",sampleRate:t.sampleRate,numberOfFrames:t.numberOfFrames,numberOfChannels:t.numberOfChannels,timestamp:t.timestamp,data:e.dapmProcessing.process(t)}))}}},{key:"getStateDump",value:function(e){var t=Vr.StateDumpMode.STANDARD;return("boolean"==typeof e&&e||"object"==typeof e&&e.hasOwnProperty("liteMode")&&e.liteMode)&&(t=Vr.StateDumpMode.LITE),this.dapmProcessing.getStateDump(t)}},{key:"setAudioLoggingLength",value:function(e){this.dapmProcessing.setAudioLoggingLength(e),this.audioLoggingLength=e}},{key:"updateAudioProcessing",value:function(e){var t,n,r=void 0!==(null===(t=e.modeOptions)||void 0===t?void 0:t.noiseReductionLevel)?e.modeOptions.noiseReductionLevel:br.High;this.voiceFont=void 0!==(null===(n=e.modeOptions)||void 0===n?void 0:n.voiceFont)?e.modeOptions.voiceFont:"none",this.aceConfiguration=this.captureModeToAceMode(e,r)}},{key:"captureModeToAceMode",value:function(e,t){if(e&&e.mode)switch(e.mode){case kr.Unprocessed:case kr.Music:return this.noProcessSettings;case kr.Standard:switch(t){case br.Low:return this.voicefontOnlySettings;default:case br.High:return this.processSettings}}throw new Error("Failed to convert audio processing options to DAPM options")}},{key:"enableNoiseSuppression",value:function(e){this.dapmProcessing&&this.dapmProcessing.setNoiseSupressionEnable(e)&&(this.aceConfiguration.noiseSuppression=e),$r("DAPM NS update aceConfiguration: ",this.aceConfiguration)}},{key:"getDvcStats",value:function(){return qr(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.abrupt("return",(this.dapmProcessing&&(t.inputAudioStats=this.dapmProcessing.getStats()),t));case 2:case"end":return e.stop()}}),e,this)})))}}],[{key:"onDapmLog",value:function(e,t,n,r){var i="".concat(e," ").concat(n,": (line: ").concat(r,"): ").concat(t);switch(e){case Vr.LogSeverity.DEBUG:Rr.debug(i);break;case Vr.LogSeverity.INFO:Rr.info(i);break;case Vr.LogSeverity.WARNING:Rr.warn(i);break;case Vr.LogSeverity.ERROR:Rr.error(i);break;default:Rr.info(i)}}}]),e}(),Xr=Kr;!function(e){e["N/A"]="N/A",e.NONE="NONE",e.FETCHED="FETCHED",e.FAILED="FAILED",e.FETCHING="FETCHING"}(Yr||(Yr={}));var Jr=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Qr=Ye()("vxt:rtc:uplan"),ei="DAPM_WASM_FILE_FETCHED",ti=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).originalTrack=null,r.dapmEnabled=!1,r.shouldDapmBeUsed=!1,r.dapmAudioProcess=null,r.mediaManager.getComfortNoiseLevel=function(){return Promise.reject(new Error("not supported"))},r.mediaManager.setComfortNoiseLevel=function(e){return Promise.reject(new Error("not supported"))},r}return g(n,[{key:"init",value:function(e){var t=this,r=e.constraints,i=e.captureMode,a=e.processCb,u=e.listenOnly,c=e.ownerId,l=e.options,d=e.videoTrack,f=e.audioTrack,h=e.dolbyVoice,m=Object.create(null,{init:{get:function(){return o(s(n.prototype),"init",t)}}});return Jr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dapmEnabled=mr(null==l?void 0:l.audioTweaks),this.shouldDapmBeUsed=(Fn.isChrome||Fn.isEdge)&&this.dapmEnabled,Qr("Dapm",this.shouldDapmBeUsed?"will":"will not","be used. Details: [(chrome || edge) && dapm_enabled]: ",Fn.isChrome,Fn.isEdge,this.dapmEnabled),this.shouldDapmBeUsed?this.dapmAudioProcess?Qr("dapm already inited"):this.dapmWasmFileStatus=Yr.NONE:this.dapmWasmFileStatus=Yr["N/A"],e.next=6,m.init.call(this,{constraints:r,captureMode:i,processCb:a,listenOnly:u,ownerId:c,options:l,videoTrack:d,audioTrack:f,dolbyVoice:h});case 6:case"end":return e.stop()}}),e,this)})))}},{key:"release",value:function(){var e=this,t=Object.create(null,{release:{get:function(){return o(s(n.prototype),"release",e)}}});return Jr(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dapmAudioProcess&&this.dapmAudioProcess.reset(),this.originalTrack&&this.originalTrack.stop(),t.release.call(this);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onAddTrack",value:function(e,t,n){if(Qr("stream onAddTrack",n),n.track&&"audio"===n.track.kind){var r=this.getPeerPosition(e);this.audioContext&&(t.process?t.process.updateStream(n.target):(t.process=new Ir(this.audioContext,n.target,!1,this.audio3D),t.process.connect())),this.setPeerPosition(e,r.x,r.y)}this.updateStreamEvent(e,n.target)}},{key:"addStreamEvent",value:function(e,t){var r=this;o(s(n.prototype),"addStreamEvent",this).call(this,e,t),this.peers.findIndex((function(e){return e.peerId===zn}))>-1?this.peers.filter((function(t){return t.peerId===e&&!t.isMaster&&t.peerId===zn})).forEach((function(){return Jr(r,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.callWithoutConcurrency(this.createAudioTag,e,t);case 2:case"end":return n.stop()}}),n,this)})))})):this.peers.filter((function(t){return t.peerId===e&&!t.isMaster})).forEach((function(n){return Jr(r,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.callWithoutConcurrency(this.createAudioTag,e,t,n.volume);case 2:case"end":return r.stop()}}),r,this)})))}))}},{key:"isDapm",value:function(){return this.shouldDapmBeUsed}},{key:"isDapmEnabled",value:function(){return this.dapmEnabled}},{key:"getAudioTrackSettings",value:function(){return null!=this.originalTrack?this.originalTrack.getSettings():o(s(n.prototype),"getAudioTrackSettings",this).call(this)}},{key:"modifyConstraintsForFailedDapm",value:function(e,t){return Lr(t,Nr(!1,this.dolbyVoice),!1)}},{key:"updateInternalAudioProcessing",value:function(e,t){var n;return t&&this.shouldDapmBeUsed?this.dapmWasmFileStatus==Yr.FAILED?this.modifyConstraintsForFailedDapm(e,t):(this.dapmAudioProcess||this.dapmWasmFileStatus!=Yr.NONE||(this.dapmAudioProcess=new Xr),null===(n=this.dapmAudioProcess)||void 0===n||n.updateAudioProcessing(t),e):e}},{key:"getUserMediaWithChecks",value:function(e,t){var r,i=this,a=Object.create(null,{getUserMediaWithChecks:{get:function(){return o(s(n.prototype),"getUserMediaWithChecks",i)}}});return Jr(this,void 0,void 0,p().mark((function n(){var i,o,s,u,c;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=null,o=this.dapmWasmFileStatus==Yr.FETCHED,n.t0=this.dapmWasmFileStatus==Yr.NONE&&this.dapmAudioProcess,!n.t0){n.next=9;break}return this.dapmWasmFileStatus=Yr.FETCHING,n.next=6,null===(r=this.dapmAudioProcess)||void 0===r?void 0:r.loadDapmModule(Zr.wasmFileUrl);case 6:o=n.sent,this.dapmWasmFileStatus=o?Yr.FETCHED:Yr.FAILED,this.emit(ei);case 9:return o||(e.audio=this.updateInternalAudioProcessing(e.audio,t)),n.next=12,a.getUserMediaWithChecks.call(this,e);case 12:if(i=n.sent,!o){n.next=29;break}return n.next=16,this.applyAudioProcessing(i.getAudioTracks()[0]);case 16:if(s=n.sent,u=s.audioTrack,!s.dapmFailed){n.next=28;break}return c=i.getAudioTracks()[0],this.unregisterAudioTrackEvents(c),c.stop(),c.enabled=!1,e.audio=this.updateInternalAudioProcessing(e.audio,t),n.next=27,a.getUserMediaWithChecks.call(this,e);case 27:u=n.sent.getAudioTracks()[0];case 28:i.removeTrack(i.getAudioTracks()[0]),i.addTrack(u);case 29:return n.abrupt("return",i);case 30:case"end":return n.stop()}}),n,this)})))}},{key:"applyAudioProcessing",value:function(e){var t,n;return Jr(this,void 0,void 0,p().mark((function r(){var i,a,o,s,u;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(e){switch(e){case Vr.DnrStatus.NOT_CONFIGURED:case Vr.DnrStatus.CONFIGURED_DISABLED:this.dnrEvent(!1);break;case Vr.DnrStatus.CONFIGURED_ENABLED:this.dnrEvent(!0)}}.bind(this),!this.shouldDapmBeUsed||this.dapmWasmFileStatus===Yr.FAILED){r.next=18;break}return this.originalTrack=e,a=this.originalTrack.getSettings(),this.dapmAudioProcess||(this.dapmAudioProcess=new Xr),r.next=7,this.dapmAudioProcess.init(Zr.wasmFileUrl,a,i);case 7:if(o=r.sent,s=o.initialized,u=o.reason,s){r.next=12;break}return r.abrupt("return",(null===(n=null===(t=this.dapmAudioProcess)||void 0===t?void 0:t.release)||void 0===n||n.call(t),this.dapmAudioProcess=null,this.originalTrack=null,"fetch"===u?this.dapmWasmFileStatus=Yr.FAILED:u instanceof Error&&(this.dapmWasmFileStatus=Yr.FETCHED),Qr("Dapm creation failed"),this.emit(ei),{audioTrack:e,dapmFailed:!0}));case 12:return this.dapmWasmFileStatus=Yr.FETCHED,this.emit(ei),Qr("Dapm is ready"),r.next=17,this.dapmAudioProcess.getProcessedTrack(this.originalTrack);case 17:e=r.sent;case 18:return r.abrupt("return",{audioTrack:e,dapmFailed:!1});case 19:case"end":return r.stop()}}),r,this)})))}},{key:"getDapmWasmFileStatus",value:function(){return this.dapmWasmFileStatus}},{key:"awaitDapmReady",value:function(e){var t=this;return new Promise((function(n,r){null==e||e.addEventListener("abort",(function(){return r("aborted")})),(null==e?void 0:e.aborted)&&r("aborted"),t.isDapm()&&t.dapmWasmFileStatus!==Yr["N/A"]&&t.dapmWasmFileStatus!==Yr.FAILED?t.dapmWasmFileStatus===Yr.FETCHED?n(!0):t.dapmWasmFileStatus===Yr.NONE||t.dapmWasmFileStatus===Yr.FETCHING?(Qr("await DAPM wasm file"),t.once(ei,(function(){return n(t.dapmWasmFileStatus===Yr.FETCHED)}))):r("unknown dapm file status"):n(!1)}))}},{key:"updateAudioProcessing",value:function(e,t){var r=this,i=Object.create(null,{updateAudioProcessing:{get:function(){return o(s(n.prototype),"updateAudioProcessing",r)}}});return Jr(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.updateInternalAudioProcessing(e,t),!this.customAudio||!this.originalTrack){n.next=12;break}return n.next=4,this.applyAudioProcessing(this.originalTrack);case 4:if(this.audioTrack=n.sent.audioTrack,n.t0=this.dapmAudioProcess,!n.t0){n.next=10;break}return this.localMediaStream&&this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]),n.next=10,this.onAudioTrackUpdated(this.peers.find((function(e){return e.isMaster})));case 10:n.next=14;break;case 12:return n.next=14,i.updateAudioProcessing.call(this,e);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"updateAudioTrack",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Object.create(null,{updateAudioTrack:{get:function(){return o(s(n.prototype),"updateAudioTrack",t)}}});return Jr(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.originalTrack&&this.originalTrack.stop(),t.next=3,i.updateAudioTrack.call(this,e,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"updateStreamEvent",value:function(e,t){var r=this;o(s(n.prototype),"updateStreamEvent",this).call(this,e,t),this.peers.findIndex((function(e){return e.peerId===zn}))>-1?this.peers.filter((function(t){return t.peerId===e&&!t.isMaster&&t.peerId===zn})).forEach((function(){return Jr(r,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.callWithoutConcurrency(this.updateAudioTag,e,t);case 2:case"end":return n.stop()}}),n,this)})))})):this.peers.filter((function(t){return t.peerId===e&&!t.isMaster})).forEach((function(n){return Jr(r,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.callWithoutConcurrency(this.updateAudioTag,e,t,n.volume);case 2:case"end":return r.stop()}}),r,this)})))}))}},{key:"configureStateDump",value:function(e){if(!this.shouldDapmBeUsed||!this.dapmAudioProcess)throw new st("Configuring state dumps is unsupported in current configuration");this.dapmAudioProcess.setAudioLoggingLength(e)}},{key:"createStateDump",value:function(e){if(!this.shouldDapmBeUsed||!this.dapmAudioProcess)throw new st("Creating state dumps is unsupported in current configuration");var t=this.dapmAudioProcess.getStateDump(e);return t.component="dapm",t}},{key:"dnrEvent",value:function(e){this.emit("onDnrStatusChange",e)}},{key:"addTrackListeners",value:function(e,t,n,r){return Jr(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.ontrack=function(e){var n=e.streams[0];if(n){var r=t.checkStream(n),i=t.ensurePeer({peerId:r,isMaster:!1});if(i.closed=!1,-1===e.streams[0].id.search("screen_"))e.streams[0].getAudioTracks().length>0&&(t.audioContext&&(i.process?i.process.updateStream(e.streams[0]):(i.process=new Ir(t.audioContext,e.streams[0],!1,t.audio3D,t.conferenceGain),i.process.connect())),e.streams[0].getAudioTracks()[0].enabled=!t.isOutputMuted),e.streams[0].onremovetrack=function(e){return t.onRemoveTrack(r,e)},t.handleIncomingMediaStream(i,e.streams[0]);else{e.streams[0].onremovetrack=function(e){return t.onScreenRemoveTrack(r,e)};var a=e.streams[0];a.type=Xn.ScreenShare,t.remoteScreenStream.push({stream:a,peerId:r}),setTimeout((function(){i.sharedScreen&&!0===i.sharedScreen?t.updateScreenStreamEvent(r,e.streams[0]):(t.addScreenStreamEvent(r,e.streams[0]),i.sharedScreen=!0)}),1)}}};case 1:case"end":return e.stop()}}),e)})))}},{key:"getLocalRtpStatsForTelemetry",value:function(){var e=this,t=Object.create(null,{getLocalRtpStatsForTelemetry:{get:function(){return o(s(n.prototype),"getLocalRtpStatsForTelemetry",e)}}});return Jr(this,void 0,void 0,p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLocalRtpStatsForTelemetry.call(this);case 2:if(n=e.sent,e.t0=this.dapmAudioProcess,!e.t0){e.next=8;break}return e.next=7,this.dapmAudioProcess.getDvcStats();case 7:n.dvcStats=e.sent;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})))}}]),n}(Ur),ni=function(){function e(){y(this,e)}return g(e,null,[{key:"create",value:function(e){return Un?new ur:new ti(e)}},{key:"sdpSemantics",value:function(){return"unified-plan"}},{key:"sdpVersion",value:function(){return"SDP_V6"}},{key:"createDvwcOptions",value:function(e,t){return Fn.isDesktop&&(Fn.isChrome||Fn.isEdge)&&e&&t&&t.enabled?"boolean"==typeof e?t:Object.assign(t,e):null}}]),e}(),ri=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Ye()("vxt:rtc:electron");var ii=function(){function e(t){y(this,e),this.audioContext=t,this.oscillator=null,this.fakeAudioSendStream=null}return g(e,[{key:"release",value:function(){this.stopFakeAudioSendStreamTrack()}},{key:"addMasterStream",value:function(e,t,n){return ri(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=t,r.t0){r.next=4;break}return r.next=4,this.addFakeAudioSendStreamTrack(e.connection,t,n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"addStream",value:function(e,t,n){return ri(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=e.getAudioTracks().length,r.t0){r.next=4;break}return r.next=4,this.addFakeAudioSendStreamTrack(t,e,n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"addTrack",value:function(e,t,n,r){return ri(this,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.removeFakeAudioSendStreamTrack(e,t,n,r);case 2:case"end":return i.stop()}}),i,this)})))}},{key:"removeTrack",value:function(e,t,n){return ri(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.addFakeAudioSendStreamTrack(e,t,n);case 2:case"end":return r.stop()}}),r,this)})))}},{key:"addFakeAudioSendStreamTrack",value:function(e,t,n){return ri(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.dvc().setListenerMode(!0),r.next=3,n(this.startFakeAudioSendStreamTrack(),e,t);case 3:case"end":return r.stop()}}),r,this)})))}},{key:"removeFakeAudioSendStreamTrack",value:function(e,t,n,r){return ri(this,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r(e,t,n);case 2:this.stopFakeAudioSendStreamTrack(),t.dvc().setListenerMode(!1),e.enabled=!1,e.enabled=!0;case 6:case"end":return i.stop()}}),i,this)})))}},{key:"startFakeAudioSendStreamTrack",value:function(){return this.fakeAudioSendStream||(this.oscillator=this.audioContext.createOscillator(),this.fakeAudioSendStream=this.audioContext.createMediaStreamDestination(),this.oscillator.connect(this.fakeAudioSendStream),this.oscillator.start()),this.fakeAudioSendStream.stream.getAudioTracks()[0]}},{key:"stopFakeAudioSendStreamTrack",value:function(){this.fakeAudioSendStream&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null,this.fakeAudioSendStream=null)}}]),e}(),ai=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).engine=null,r.dvcConference=null,r.dvc=null,r.dvc2FakeAudioTrackHelper=null,r}return g(n,[{key:"db2vu",value:function(e){if(e===-1/0||e<-100)return 0;if(e>=0)return 1;var t=e/100,n=Math.PI/2+Math.PI/2*t,r=1-Math.cos(n);return r>1?1:r}},{key:"addPeer",value:function(e){var t=this,r=e.peerId,i=e.description,a=e.candidates,u=e.isMaster,c=e.state,l=void 0===c?"default":c,d=Object.create(null,{addPeer:{get:function(){return o(s(n.prototype),"addPeer",t)}}});return ri(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.addPeer.call(this,{peerId:r,description:i,candidates:a,isMaster:u,state:l});case 2:t=this.peers.find((function(e){return e.peerId===r})),t&&t.isMaster&&(this.dvcConference=t.connection.dvc(),this.dvcConference.setConferenceDisconnectedErrorCallback(this.conferenceDisconnectedErrorCallback.bind(this)),this.dvc=new DolbyVoice,this.dvc.setFatalErrorCallback(this.fatalErrorCallback.bind(this)),this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"configureStateDump",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;return ri(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.dvc){t.next=2;break}throw kt();case 2:return t.abrupt("return",(n.throwIfNotSupported(this.dvc,"setAudioLoggingLength"),this.dvc.setAudioLoggingLength(e)));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getStateDumpConfiguration",value:function(){return ri(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dvc){e.next=2;break}throw kt();case 2:return e.abrupt("return",(n.throwIfNotSupported(this.dvc,"getAudioLoggingLength"),this.dvc.getAudioLoggingLength()));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"createStateDump",value:function(e){return ri(this,void 0,void 0,p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.dvcConference){t.next=2;break}throw kt();case 2:return n.throwIfNotSupported(this.dvcConference,"createStateDump"),t.next=5,this.createStateDumpBuffer(e);case 5:return r=t.sent,t.abrupt("return",{type:"zip",content:new Blob([r])});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"createStateDumpBuffer",value:function(e){return ri(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",this.dvcConference.createStateDump());case 2:return t.next=4,this.getStateDumpConfiguration();case 4:if(n=t.sent,t.t0=0!=n,!t.t0){t.next=9;break}return t.next=9,this.configureStateDump(0);case 9:return t.next=11,this.dvcConference.createStateDump();case 11:if(r=t.sent,t.t1=0!=n,!t.t1){t.next=16;break}return t.next=16,this.configureStateDump(n);case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,this)})))}},{key:"getLevel",value:function(e,t){var n=this.peers.find((function(t){return t.peerId===e}));n&&n.isMaster?t(0):n&&!n.isMaster?this.dvcConference.getTalkingLevels().then((function(n){var r=n.find((function(t){return t.clientId.split("@")[0]===e}));t(r.talkingLevel)})).catch((function(e){return t(0)})):t(0)}},{key:"setRemoteDescription",value:function(e,t,r,i,a){var u=this,c=Object.create(null,{setRemoteDescription:{get:function(){return o(s(n.prototype),"setRemoteDescription",u)}}});return ri(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.setRemoteDescription.call(this,e,t,r,i,null,a);case 2:(function(e,t,n){var r=function(e){return e.split("m=").slice(1).map((function(e){return"m="+e}))}(e),i=r.find((function(e){return function(e,t){var n=function(e){var t=/^a=mid:(.*)$/m.exec(e);return!t||t.length<2?null:t[1]}(e);return!!n&&"audio"===n}(e)}));return!!i&&RegExp("^a=rtpmap:.*DVC-2.*$","m").test(i)})(i)&&!this.dvc2FakeAudioTrackHelper&&(this.dvc2FakeAudioTrackHelper=new ii(this.audioContext));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"addMasterStream",value:function(e){var t=this,r=Object.create(null,{addMasterStream:{get:function(){return o(s(n.prototype),"addMasterStream",t)}},addTrack:{get:function(){return o(s(n.prototype),"addTrack",t)}}});return ri(this,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.addMasterStream.call(this,e);case 2:if(!this.dvc2FakeAudioTrackHelper){t.next=4;break}return t.abrupt("return",this.dvc2FakeAudioTrackHelper.addMasterStream(e,this.localMediaStream,(function(e,t,i){return ri(n,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.addTrack.call(this,e,t,i));case 1:case"end":return n.stop()}}),n,this)})))})));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"addStream",value:function(e,t){var r=this,i=Object.create(null,{addStream:{get:function(){return o(s(n.prototype),"addStream",r)}},addTrack:{get:function(){return o(s(n.prototype),"addTrack",r)}}});return ri(this,void 0,void 0,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.addStream.call(this,e,t);case 2:if(!this.dvc2FakeAudioTrackHelper){n.next=4;break}return n.abrupt("return",this.dvc2FakeAudioTrackHelper.addStream(e,t,(function(e,t,n){return ri(r,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i.addTrack.call(this,e,t,n));case 1:case"end":return r.stop()}}),r,this)})))})));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"addTrack",value:function(e,t,r){var i=this,a=Object.create(null,{addTrack:{get:function(){return o(s(n.prototype),"addTrack",i)}}});return ri(this,void 0,void 0,p().mark((function n(){var i=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.dvc2FakeAudioTrackHelper||"audio"!==e.kind){n.next=2;break}return n.abrupt("return",this.dvc2FakeAudioTrackHelper.addTrack(e,t,r,(function(e,t,n){return ri(i,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.addTrack.call(this,e,t,n));case 1:case"end":return r.stop()}}),r,this)})))})));case 2:return n.next=4,a.addTrack.call(this,e,t,r);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"removeTrack",value:function(e,t,r){var i=this,a=Object.create(null,{replaceTrack:{get:function(){return o(s(n.prototype),"replaceTrack",i)}},removeTrack:{get:function(){return o(s(n.prototype),"removeTrack",i)}}});return ri(this,void 0,void 0,p().mark((function n(){var i=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.dvc2FakeAudioTrackHelper||"audio"!==e.kind){n.next=2;break}return n.abrupt("return",this.dvc2FakeAudioTrackHelper.removeTrack(t,r,(function(e,t,n){return ri(i,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.replaceTrack.call(this,e,t,n));case 1:case"end":return r.stop()}}),r,this)})))})));case 2:return n.next=4,a.removeTrack.call(this,e,t,r);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"release",value:function(){o(s(n.prototype),"release",this).call(this),this.dvcConference&&this.dvcConference.setConferenceDisconnectedErrorCallback(null),this.dvc=null,this.dvcConference=null,this.dvc2FakeAudioTrackHelper&&this.dvc2FakeAudioTrackHelper.release()}},{key:"setTransparentMode",value:function(e){this.dvc.setTransparentMode(e)}},{key:"setComfortNoiseLevel",value:function(e){return this.dvc.setComfortNoise(e)}},{key:"getComfortNoiseLevel",value:function(){return this.dvc.getComfortNoise()}},{key:"conferenceDisconnectedErrorCallback",value:function(e){this.emit("error",new ht("ConferenceDisconnectedError",e))}},{key:"fatalErrorCallback",value:function(){this.dvc=null,this.dvcConference=null,this.emit("error",new ht("FatalError","DolbyVoice process has crashed, please reload your app."))}},{key:"addFakePeer",value:function(e){this.ensurePeer({peerId:e,isMaster:!1})}}],[{key:"throwIfNotSupported",value:function(e,t){if(!(t in e))throw new st("'".concat(t,"' is unsupported by ").concat(e.constructor.name," object. Please try the latest NDS version."))}}]),n}(ti);function oi(e,t){if(!t)return e;var n=t.customPath;return n?n():e}var si=function(){function e(){y(this,e)}return g(e,null,[{key:"dnrLibraryFileUrl",get:function(){return Hr("dvdnr.wasm","3fce421b27d87403287e7d94e770f57e")}},{key:"mainModelUrl",get:function(){var e="audio_dnr.bin";return{name:e,fileUrl:Hr(e,"3fce421b27d87403287e7d94e770f57e")}}},{key:"sideModelsUrls",get:function(){return[]}}]),e}(),ui=w(4590),ci=w.n(ui),li=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},di=!1,fi=function(){function e(t,n,r,i){y(this,e),this.audioPort=t,this.audioContext=n,this.enableInput=r.enableInput,this.config=r,this.reportCallback=i,di||(this.workletModuleLoaded=this.fetchWorkletScript())}return g(e,[{key:"fetchWorkletScript",value:function(){var e=this,t=Hr(ci());return fetch(t).then((function(e){return e.text()})).then((function(t){var n=new Blob([t],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(n);return e.audioContext.audioWorklet.addModule(r).finally((function(){return URL.revokeObjectURL(r)}))})).then(di=!0)}},{key:"createWorklet",value:function(){"undefined"!=typeof window&&(this.audioNode=new window.AudioWorkletNode(this.audioContext,"dvwc-worklet",{outputChannelCount:[2],processorOptions:Object.assign({namespaces:localStorage.getItem("debug")},this.config)}))}},{key:"createAudioNode",value:function(){return li(this,void 0,void 0,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioNode){e.next=17;break}return e.next=3,this.workletModuleLoaded;case 3:if(!this.audioNode){e.next=5;break}return e.abrupt("return");case 5:e.prev=5,this.createWorklet(),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(5),e.next=13,this.fetchWorkletScript();case 13:this.createWorklet();case 14:this.audioNode.port.onmessage=function(e){return n.reportCallback(e.data)},t={audioPort:this.audioPort},this.audioNode.port.postMessage(t,[this.audioPort]);case 17:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"freeAudioResources",value:function(){this.audioNode.port.postMessage({action:"stop"}),this.audioNode&&this.audioNode.disconnect(),this.audioNode=null}}]),e}(),pi=function(){function e(t){y(this,e);var n=URL.createObjectURL(new Blob(["importScripts(".concat(JSON.stringify(t.toString()),");")],{type:"application/javascript"}));this.worker=new Worker(n),URL.revokeObjectURL(n)}return g(e,[{key:"getWorker",value:function(){return this.worker}}]),e}();self.location.href,Object.freeze([1,5,3]);var hi=Object.freeze({FEC_BITRATE_6P4:"FEC_BITRATE_6P4",FEC_BITRATE_8P0:"FEC_BITRATE_8P0",FEC_BITRATE_9P6:"FEC_BITRATE_9P6",FEC_BITRATE_11P2:"FEC_BITRATE_11P2",FEC_BITRATE_12P8:"FEC_BITRATE_12P8",FEC_BITRATE_14P4:"FEC_BITRATE_14P4",FEC_BITRATE_16P0:"FEC_BITRATE_16P0",FEC_BITRATE_17P6:"FEC_BITRATE_17P6",FEC_BITRATE_19P2:"FEC_BITRATE_19P2",FEC_BITRATE_20P8:"FEC_BITRATE_20P8",FEC_BITRATE_22P4:"FEC_BITRATE_22P4",FEC_BITRATE_24P0:"FEC_BITRATE_24P0"}),mi=(Object.freeze({COMFORT_NOISE_DEFAULT:"COMFORT_NOISE_DEFAULT",COMFORT_NOISE_MEDIUM:"COMFORT_NOISE_MEDIUM",COMFORT_NOISE_LOW:"COMFORT_NOISE_LOW",COMFORT_NOISE_OFF:"COMFORT_NOISE_OFF"}),Object.freeze({ALARM_SEVERITY_GREEN:"green",ALARM_SEVERITY_AMBER:"amber",ALARM_SEVERITY_RED:"red"}),Object.freeze({LOG_NONE:"NONE",LOG_CRITICAL:"CRITICAL",LOG_ERROR:"ERROR",LOG_WARNING:"WARNING",LOG_INFO:"INFO",LOG_DEBUG:"DEBUG"})),vi=(Object.freeze((r(e={},mi.LOG_NONE,1),r(e,mi.LOG_CRITICAL,8),r(e,mi.LOG_ERROR,16),r(e,mi.LOG_WARNING,32),r(e,mi.LOG_INFO,128),r(e,mi.LOG_DEBUG,512),e)),Object.freeze({CONNECTION_STATUS_PENDING:"CONNECTION_STATUS_PENDING",CONNECTION_STATUS_CONNECTING:"CONNECTION_STATUS_CONNECTING",CONNECTION_STATUS_CONNECTED:"CONNECTION_STATUS_CONNECTED",CONNECTION_STATUS_FAILED:"CONNECTION_STATUS_FAILED",CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK",CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK",CONNECTION_STATUS_CONNECTED_DEGRADED:"CONNECTION_STATUS_CONNECTED_DEGRADED"}),Object.freeze({OUTPUT_DEVICE_TYPE_SPEAKERS:"OUTPUT_DEVICE_TYPE_SPEAKERS",OUTPUT_DEVICE_TYPE_HEADPHONES:"OUTPUT_DEVICE_TYPE_HEADPHONES"}),Object.freeze({CAPTURE_MODE_PERSONAL:"CAPTURE_MODE_PERSONAL",CAPTURE_MODE_GROUP:"CAPTURE_MODE_GROUP",CAPTURE_MODE_TRANSPARENT:"CAPTURE_MODE_TRANSPARENT",CAPTURE_MODE_UNIVERSAL:"CAPTURE_MODE_UNIVERSAL",CAPTURE_MODE_MUSIC:"CAPTURE_MODE_MUSIC"}),Object.freeze({DEFAULT:"Default",ON:"On",OFF:"Off"}),Object.freeze({ON:"On",OFF:"Off"}),Object.freeze({DEFAULT:"None",MASCULINE:"Masculine",FEMININE:"Feminine",HELIUM:"Helium",DARKMODULATION:"DarkModulation",BROKENROBOT:"BrokenRobot",INTERFERENCE:"Interference",ABYSS:"Abyss",WOBBLE:"Wobble",STARSHIPCAPTAIN:"StarshipCaptain",NERVOUSROBOT:"NervousRobot",SWARM:"Swarm",AMRADIO:"AMRadio"}));Object.freeze((r(t={},vi.DEFAULT,0),r(t,vi.MASCULINE,1),r(t,vi.FEMININE,2),r(t,vi.HELIUM,3),r(t,vi.DARKMODULATION,4),r(t,vi.BROKENROBOT,5),r(t,vi.INTERFERENCE,6),r(t,vi.ABYSS,7),r(t,vi.WOBBLE,8),r(t,vi.STARSHIPCAPTAIN,9),r(t,vi.NERVOUSROBOT,10),r(t,vi.SWARM,11),r(t,vi.AMRADIO,12),t)),Object.freeze({STATE_DUMP_MODE_NORMAL:"STATE_DUMP_MODE_NORMAL",STATE_DUMP_MODE_LITE:"STATE_DUMP_MODE_LITE"}),Error,Error,Error,Error,Error,Object.freeze({API:"API",JS:"JS"}),Object.freeze({VERSION_INFO:"JS001",WASM_LOAD_ERROR:"JS002",WASM_LOG_INIT_ERROR:"JS003",WASM_LOG_ERROR:"JS004",WASM_ASYNC_ERROR:"JS005",WASM_DNR_LOAD_ERROR:"JS006",API_ENTRY:"API01",API_EXIT:"API02",API_THROW:"API03"});var gi=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},yi=Ye()("vxt:rtc:dolbyvoice"),ki=function(e){return new Qe("DolbyVoiceError",e)},bi=function(){function e(){y(this,e),this.micClipping=e.Severity.unknown,this.networkDownlink=e.Severity.unknown,this.networkUplink=e.Severity.unknown,this.noiseLevel=e.Severity.unknown}return g(e,[{key:"update",value:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=e.Severity[t[n]])}}]),e}();bi.Severity=Object.freeze({green:0,amber:1,red:2,unknown:3});var _i,wi,Si,xi,Ei,Ti=function(){function e(t){y(this,e),this.worker=t,this.requests={}}return g(e,[{key:"request",value:function(e,t,n){return gi(this,void 0,void 0,p().mark((function r(){var i=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(this.requests[e]||(this.requests[e]=[]),new Promise((function(r,a){i.requests[e].push({resolve:r,reject:a}),n?i.worker.postMessage({type:e+"-request",data:t},n):i.worker.postMessage({type:e+"-request",data:t})}))));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"handleResponse",value:function(e,t){if(this.requests[e]){var n=this.requests[e].shift();n&&(t.error?n.reject(ki(t.error)):n.resolve(t.result))}}}]),e}(),Ci=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).worker=null,r.workerAsyncCall=null,r.audioChannel=null,r.initResolve=null,r.initReject=null,r.audio=null,r.dvcAudioMuted=!1,r.ragAlarms=new bi,r.haveSession=!1,r.debugDvwc=Ye()("vxt:rtc:dvwc"),r.workerLoadResolve=null,r.workerLoadReject=null,r.pendingLevelCallbacks=null,r.cachedLevels=null,r.cachedAudioMode=null,r.cachedEchoCancellation=null,r.cachedComfortNoiseLevel=null,r.stopSessionResolve=null,r.stopSessionReject=null,r.onConnectionStatus=null,r}return g(n,[{key:"stopSession",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.haveSession){e.next=3;break}return t=new Promise((function(e,t){n.stopSessionReject=t,n.stopSessionResolve=e})),e.abrupt("return",(this.worker.postMessage({type:"leave"}),t));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"resolveStopSession",value:function(){this.haveSession=!1,this.stopSessionResolve?(this.stopSessionResolve(),this.stopSessionResolve=null,this.stopSessionReject=null):this.handleUnexpectedLeave()}},{key:"rejectStopSession",value:function(e){this.haveSession=!1,this.stopSessionReject?(this.stopSessionReject(ki(e)),this.stopSessionResolve=null,this.stopSessionReject=null):this.onSessionStopped()}},{key:"release",value:function(){var e=this,t=Object.create(null,{release:{get:function(){return o(s(n.prototype),"release",e)}}});return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stopSession();case 2:return e.next=4,this.onSessionStopped();case 4:return e.next=6,t.release.call(this);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"setClientRotation",value:function(e,t,n){this.worker.postMessage({type:"set-client-rotation",yaw:e,pitch:t,roll:n})}},{key:"onSessionStopped",value:function(){return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),e.t0=this.worker,!e.t0){e.next=6;break}return e.next=5,this.workerAsyncCall.request("release");case 5:this.worker.terminate();case 6:this.stopDataFlow();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"handleUnexpectedLeave",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStateDump(!0);case 2:t=e.sent,this.emit("sessionEnded",t),this.release();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"_closePeerConnectionForPeer",value:function(e){e.audioConnection&&"closed"!==e.connection.audioConnection&&e.audioConnection.close(),o(s(n.prototype),"_closePeerConnectionForPeer",this).call(this,e)}},{key:"addPeer",value:function(e){var t=this,r=e.peerId,i=e.description,a=e.candidates,u=e.wasmDescription,c=e.wasmCandidates,l=e.isMaster,d=e.state,f=void 0===d?"default":d,h=Object.create(null,{addPeer:{get:function(){return o(s(n.prototype),"addPeer",t)}}});return gi(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={enabled:!0},e.prev=1,!u&&(null==i?void 0:i.oid)&&-1!==(null==i?void 0:i.oid.search("WASM"))&&(u=i,c=a,i=null,a=null),e.t0=i,!e.t0){e.next=7;break}return e.next=7,h.addPeer.call(this,{peerId:r,description:i,candidates:a,isMaster:l,state:f,wasmEnabled:t});case 7:if(e.t1=u,!e.t1){e.next=11;break}return e.next=11,this.addPeerWasm({peerId:r,description:u,candidates:c,isMaster:l,state:f});case 11:e.next=16;break;case 13:throw e.prev=13,e.t2=e.catch(1),Rr.error("webrtc","VoxeetRTCDolbyVoice.addPeer error: ",r,e.t2),e.t2;case 16:case"end":return e.stop()}}),e,this,[[1,13]])})))}},{key:"addPeerWasm",value:function(e){var t=e.peerId,n=e.description,r=e.candidates,i=e.isMaster,a=e.state;return gi(this,void 0,void 0,p().mark((function e(){var o=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPeerConnectionWasm(t,i,a);case 2:return e.next=4,this.setRemoteDescriptionWasm(t,this.getSsrc(n.sdp),n.type,n.sdp,n.oid);case 4:if(e.t0=r,!e.t0){e.next=8;break}return e.next=8,Promise.all(r.map((function(e){return gi(o,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.setPeerCandidateWasm(t,e.mid,e.mline_index,e.sdp);case 2:case"end":return n.stop()}}),n,this)})))})));case 8:return e.next=10,this.createAnswerWasm(t,a,n.oid);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"ensurePeer",value:function(e){var t=e.peerId,r=e.isMaster;return o(s(n.prototype),"ensurePeer",this).call(this,{peerId:t,isMaster:r,closed:!1})}},{key:"createPeerConnectionWasm",value:function(e,t,n){return gi(this,void 0,void 0,p().mark((function r(){var i,a,o,s,u=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=this.ensurePeer({peerId:e,isMaster:t}),(a=i.audioConnection)&&"close"===n&&(yi("Reconnecting data channel"),this.dataChannel&&((o=this.dataChannel).onopen=function(){},o.onclose=function(){},o.onerror=function(e){},o.onmessage=function(e){},o.close(),this.dataChannel=null),a&&(a.close(),a=null,i.audioConnection=null)),a||((s=lr().peerConnection.config).sdpSemantics="unified-plan",delete s.bundlePolicy,(a=new Gn(s,lr().peerConnection.constraints)).candidates=new Array,a.onicecandidate=function(t){t.candidate?a.candidates.push({sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,sdp:t.candidate.candidate}):u.iceCandidatesGatheringCompleteEvent(e,a.candidates)},yi("createPeerConnection",e," for Data Channel"),i.audioConnection=a,this.dataChannel?yi("createPeerConnection","Failed to create datachannel for peer ",e," for Data Channel"):(this.dataChannel=i.audioConnection.createDataChannel("DVC",{maxRetransmits:0,negotiated:!1,ordered:!1,id:0}),this.dataChannel.binaryType="arraybuffer",this.addDataChannelListeners(this.dataChannel,e),this.addConnectionListeners(i)));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"setPeerCandidateWasm",value:function(e,t,n,r){return gi(this,void 0,void 0,p().mark((function i(){var a=this;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all(this.peers.filter((function(t){return t.peerId===e})).map((function(e){return gi(a,void 0,void 0,p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.audioConnection.addIceCandidate(new Wn({candidate:r,sdpMLineIndex:n,sdpMid:t}));case 2:case"end":return i.stop()}}),i)})))})));case 2:case"end":return i.stop()}}),i,this)})))}},{key:"setRemoteDescriptionWasm",value:function(e,t,n,r,i,a){return gi(this,void 0,void 0,p().mark((function t(){var a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return yi("setRemoteDescriptionWasm"),yi("Offer",r),t.next=4,Promise.all(this.peers.filter((function(t){return t.peerId===e})).map((function(t){return gi(a,void 0,void 0,p().mark((function a(){return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.audioConnection.setRemoteDescription(new Hn({type:n,sdp:r}));case 3:this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.setRemoteDescriptionWasm",data:{oid:i}})),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),Rr.error("webrtc","VoxeetRTCDolbyVoice.setRemoteDescriptionWasm error: ",e,a.t0),RemoteDescriptionError(a.t0,t.peerId);case 9:case"end":return a.stop()}}),a,this,[[0,6]])})))})));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"createAnswer",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,a=Object.create(null,{createAnswer:{get:function(){return o(s(n.prototype),"createAnswer",t)}}});return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.createAnswer.call(this,e,r,i,{enabled:!0,audio:!(this.listenOnly||!this.isInputAudio())});case 1:case"end":return t.stop()}}),t,this)})))}},{key:"createAnswerWasm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;return gi(this,void 0,void 0,p().mark((function r(){var i,a,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(yi("createAnswerWasm",e,n),this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.createAnswerWasm",data:{oid:n}})),i=this.peers.find((function(t){return t.peerId===e})),i){r.next=4;break}throw mt(e);case 4:return r.prev=4,r.next=7,i.audioConnection.createAnswer();case 7:return a=r.sent,yi("Answer",a.sdp),r.next=11,i.audioConnection.setLocalDescription(a);case 11:this.emit("traceRtcEvent",We.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.setLocalDescriptionWasm",data:{oid:n}})),o={enabled:!0,audio:!(this.listenOnly||!this.isInputAudio())},this.sessionCreatedEvent(e,i.audioConnection.localDescription,null,"none",t,n,o),r.next=19;break;case 16:throw r.prev=16,r.t0=r.catch(4),Rr.error("webrtc","VoxeetRTCDolbyVoice.createAnswerWasm",r.t0),CreateAnswerError(r.t0,i.peerId);case 19:case"end":return r.stop()}}),r,this,[[4,16]])})))}},{key:"addMasterStream",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(yi("addMasterStream",e),!this.localMediaStream){t.next=6;break}return n=!e.stream,t.next=4,this.addStream(this.localMediaStream,e.connection);case 4:e.stream=this.localMediaStream,n?this.addStreamEvent(e.peerId,this.localMediaStream):this.updateStreamEvent(e.peerId,this.localMediaStream);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"addTrackListeners",value:function(e,t,n,r){return gi(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.ontrack=function(e){var n=e.streams[0];if(n){var r=t.checkStream(n),i=t.ensurePeer({peerId:r,isMaster:!1});if(i.closed=!1,-1===e.streams[0].id.search("screen_"))e.streams[0].onremovetrack=function(e){return t.onRemoveTrack(r,e)},t.handleIncomingMediaStream(i,e.streams[0]);else{e.streams[0].onremovetrack=function(e){return t.onScreenRemoveTrack(r,e)};var a=e.streams[0];a.type=Xn.ScreenShare,t.remoteScreenStream.push({stream:a,peerId:r}),setTimeout((function(){i.sharedScreen&&!0===i.sharedScreen?t.updateScreenStreamEvent(r,e.streams[0]):(t.addScreenStreamEvent(r,e.streams[0]),i.sharedScreen=!0)}),1)}}},r.onremovestream=function(e){yi("onremovestream",e),e.stream.id.search("screen_")};case 1:case"end":return e.stop()}}),e)})))}},{key:"startScreenShare",value:function(e){return e.audio&&console.warn("Screen-share with audio is not supported in Dolby Voice conferences for participants who use the Dolby Voice Codec. Sharing will be continued without audio."),e.audio=!1,o(s(n.prototype),"startScreenShare",this).call(this,e)}},{key:"_startInputAudio",value:function(e){return this.worker.postMessage({type:"start-input-audio",inputAudioConfig:e}),this.cachedAudioMode&&this.setCaptureMode(this.cachedAudioMode),this.cachedEchoCancellation&&this.setEchoCancellation(this.cachedEchoCancellation),this.audio.startInputAudio(this.localMediaStream)}},{key:"_createInputAudioConfig",value:function(e){var t="inputAudioConfig"in this.wasm?this.wasm.inputAudioConfig:{typingNoiseSuppression:!0};return(null==e?void 0:e.hasOwnProperty("refBulkGainDb"))&&(t.refBulkGainDb=e.refBulkGainDb),t}},{key:"getDefaultAudioConstraints",value:function(){var e=o(s(n.prototype),"getDefaultAudioConstraints",this).call(this);return e.autoGainControl=!1,e.googAutoGainControl=!1,e.echoCancellation=!1,e.noiseSuppression=!1,e}},{key:"initDvwcAudio",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n,r,i,a,o,s,u;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new MessageChannel,r=hr(),i=Object.assign(Object.assign(Object.assign({},{outputQueueMs:30,crossFadeMs:10,rampMs:50}),r),this.options.audioTweaks),a=1.5*this.audioContext.baseLatency,i.outputQueueMs<a&&(i.outputQueueMs=a),i.hasOwnProperty("enableOutputChange")?this.enableOutputChange=i.enableOutputChange:this.enableOutputChange=!0,this.audio=new(function(){function t(e,n,r){var i=this;if(y(this,t),this.audioContext=n,!this.audioContext.audioWorklet)throw new rt("NotSupportedError","This operation is not supported on this browser");this.impl=new fi(e,this.audioContext,r,(function(e){return i.collectAudioReport(e)})),this.audioReport=this.initialAudioReport(),this.enableOutputChange=r.enableOutputChange}return g(t,[{key:"audioNode",get:function(){return this.impl.audioNode||null}},{key:"createAudioNode",value:function(){return this.impl.createAudioNode()}},{key:"startInputAudio",value:function(e){return li(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.mediaStreamSource=this.audioContext.createMediaStreamSource(e),t.next=4,this.createAudioNode();case 4:n.connect(this.audioNode),Rr.info("webrtc","DvcAudio.startInputAudio","Input started"),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),Rr.error("webrtc","DvcAudio.startInputAudio",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"freeInputAudioResources",value:function(){this.mediaStreamSource&&this.mediaStreamSource.disconnect(),this.mediaStreamSource=null}},{key:"freeAudioResources",value:function(){this.impl.freeAudioResources(),this.audioContext=null}},{key:"stopInputAudio",value:function(){try{this.freeInputAudioResources(),Rr.info("webrtc","DvcAudio.stopInputAudio","Input destroyed")}catch(e){Rr.error("webrtc","DvcAudio.stopInputAudio",e)}}},{key:"startOutputAudio",value:function(){return li(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createAudioNode();case 3:return t=this.enableOutputChange?this.audioContext.createMediaStreamDestination():this.audioContext.destination,e.abrupt("return",(this.audioNode.connect(t),Rr.info("webrtc","DvcAudio.startOutputAudio","Output started"),t.stream));case 7:throw e.prev=7,e.t0=e.catch(0),Rr.error("webrtc","DvcAudio.startOutputAudio",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"stopOutputAudio",value:function(){try{this.freeAudioResources(),Rr.info("webrtc","DvcAudio.stopOutputAudio","Output destroyed")}catch(e){Rr.error("webrtc","DvcAudio.stopOutputAudio",e)}}},{key:"initialAudioReport",value:function(){return{outputBuffer:{overrun:{have:!1,times:0,longestTicks:0,sumTicksDuration:0},underrun:{have:!1,times:0,longestTicks:0,sumTicksDuration:0}}}}},{key:"collectAudioReport",value:function(e){if("output-buffer-condition"===e.type){var t;switch(e.condition){case"overrun":t=this.audioReport.outputBuffer.overrun;break;case"underrun":t=this.audioReport.outputBuffer.underrun;break;default:return}switch(e.event){case"start":t.have=!0;break;case"end":t.have=!1,t.times++,e.count>t.longestTicks&&(t.longestTicks=e.count),t.sumTicksDuration+=e.count;break;default:return}}}},{key:"createAudioReport",value:function(){var e=structuredClone(this.audioReport),t=this.audioReport.outputBuffer;return t.overrun.times=0,t.overrun.longestTicks=0,t.overrun.sumTicksDuration=0,t.underrun.times=0,t.underrun.longestTicks=0,t.underrun.sumTicksDuration=0,e}}]),t}())(n.port1,this.audioContext,{enableInput:Boolean(this.localMediaStream),outputQueueMs:i.outputQueueMs,crossFadeMs:i.crossFadeMs,rampMs:i.rampMs,enableOutputChange:this.enableOutputChange}),o={debug:this.debugDvwc.enabled||!1,namespaces:localStorage.getItem("debug"),audioPort:n.port2,sampleRate:this.audio.audioContext.sampleRate,outputAudioConfig:"outputAudioConfig"in this.wasm?this.wasm.outputAudioConfig:{},dnrConfig:(null==i?void 0:i.hasOwnProperty("dnrEnabled"))&&!1===i.dnrEnabled?null:{libraryUrl:si.dnrLibraryFileUrl,mainModel:si.mainModelUrl,sideModels:si.sideModelsUrls},urlPrefix:Gr(),osIsWindows:Fn.isWindows},t.next=5,this.workerAsyncCall.request(e,o,[n.port2]);case 5:if(s=this._createInputAudioConfig(i),t.t0=!this.listenOnly&&this.constraints.audio&&this.isInputAudio(),!t.t0){t.next=14;break}return t.next=10,this._startInputAudio(s);case 10:if(t.t1=this.cachedAudioMode,!t.t1){t.next=14;break}return t.next=14,this.setCaptureMode(this.cachedAudioMode);case 14:return t.next=16,this.audio.startOutputAudio();case 16:if(u=t.sent,t.t2=this.cachedComfortNoiseLevel,!t.t2){t.next=21;break}return t.next=21,this.setComfortNoiseLevel(this.cachedComfortNoiseLevel);case 21:if(t.t3=this.enableOutputChange,!t.t3){t.next=25;break}return t.next=25,this.createAudioElement(u);case 25:case"end":return t.stop()}}),t,this)})))}},{key:"init",value:function(e){var t=this,r=e.constraints,i=e.processCb,a=e.listenOnly,u=e.ownerId,c=e.options,l=e.dvwc,d=e.videoTrack,f=e.audioTrack,h=e.dolbyVoice,m=e.captureMode,v=Object.create(null,{init:{get:function(){return o(s(n.prototype),"init",t)}}});return gi(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign(Object.assign({},r),{audio:!!r.audio&&Object.assign(Object.assign({},r.audio),{autoGainControl:!1,googAutoGainControl:!1,echoCancellation:!1,noiseSuppression:!1})}),c.audioContextOptions={sampleRate:48e3},e.next=4,v.init.call(this,{constraints:t,processCb:i,listenOnly:a,ownerId:u,options:c,videoTrack:d,audioTrack:f,dolbyVoice:h});case 4:return e.next=6,this.initDvwc(l);case 6:if(this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this),e.t0=m,!e.t0){e.next=12;break}return e.next=12,this.setCaptureMode(m);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"initDvwc",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n,r,i,a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||this.worker){t.next=22;break}return t.prev=1,n=new Promise((function(e,t){a.workerLoadResolve=e,a.workerLoadReject=t})),this.wasm=e,r=new oi(new URL(w.p+w.u(348),w.b),{name:"worker",customPath:function(){return new URL(Hr("voxeet-dvwc-worker.js"))}}),i=new pi(r),this.worker=i.getWorker(),this.workerAsyncCall=new Ti(this.worker),this.worker.onmessage=function(e){return a.onWorkerMessage(e.data)},this.worker.onerror=function(){a.workerLoadReject({message:"Unable to load DVWC worker file"})},t.next=11,n;case 11:return t.next=13,this.initDvwcAudio("init");case 13:this.ensurePeer({peerId:zn,isMaster:null}),t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(1),yi("Dvwc init failed: reason ".concat(t.t0)),t.next=21,this.release();case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,this,[[1,16]])})))}},{key:"handleDvwcLog",value:function(e){this.debugDvwc("Log: ".concat(e.timestamp.toISOString()," ").concat(e.level.padStart(10," ")," ").concat(e.component," ").concat(e.msgId," ").concat(e.message,"\n"))}},{key:"onWorkerMessage",value:function(e){switch(e.type){case"worker-loaded":this.workerLoadResolve&&this.workerLoadResolve();break;case"packet":this.sendPacket(e.packet);break;case"session-stopped":this.resolveStopSession();break;case"session-stop-rejected":this.rejectStopSession(e.reason);break;case"log":this.handleDvwcLog(e.entry);break;case"alarms":this.onAlarms(e.alarms);break;case"input-level":this.onAudioLevel(e.level);break;case"talkers":this.onTalkers(e.levels);break;case"status":this.onConnectionStatus(e.status);break;case"output-buffer-condition":this.onAudioReport(e);break;case"callback-gap-detected":this.onCallbackGapDetected();break;case"no-op":break;default:var t=e.type.match(/(.*)-response/);t&&this.workerAsyncCall.handleResponse(t[1],e)}}},{key:"restartAudio",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.callWithoutConcurrency((function(){return gi(t,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.restartAudioInternal();case 2:case"end":return e.stop()}}),e,this)})))})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"restartAudioInternal",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerAsyncCall.request("release");case 2:if(t=!1,this.customAudio||(this.audioTrack&&(t=this.audioTrack.enabled,this.audioTrack.stop()),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach((function(e){return e.stop()}))),this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),this.listenOnly||!this.constraints.audio||!this.isInputAudio()||this.customAudio){e.next=8;break}return e.next=6,this.getUserMediaWithChecks(Object.assign(Object.assign({},this.constraints),{video:!1}));case 6:n=e.sent,this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]),this.audioTrack=n.getAudioTracks()[0],this.audioTrack.enabled=t,this.localMediaStream.addTrack(this.audioTrack);case 8:return e.next=10,this.initDvwcAudio("reconnect-audio");case 10:case"end":return e.stop()}}),e,this)})))}},{key:"onCallbackGapDetected",value:function(){return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.isLeavingConference,e.t0){e.next=4;break}return e.next=4,this.restartAudio();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onDeviceChanged",value:function(){return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.restartAudio();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onAudioElementError",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.emit("error",St(null==e?void 0:e.code,null==e?void 0:e.message));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"createAudioElement",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e&&e.getAudioTracks().length>0,!t.t0){t.next=7;break}return this.audioElement||(this.audioElement=new Audio,this.audioElement.addEventListener("error",(function(e){var t;return n.onAudioElementError(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.error)}))),this.conferenceVolume&&(this.audioElement.volume=this.conferenceVolume),$n(this.audioElement,e),t.next=7,this.audioElement.play();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"addDataChannelListeners",value:function(e,t){var n=this;e.onopen=function(){return n.startDataFlow(e)},e.onclose=function(){return n.stopDataFlow()},e.onerror=function(e){e.error&&e.error.message&&"Protocol Violation"==e.error.message?(Rr.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror reconnecting datachannel ",e.error),n.emit("reconnect",_t(t,e.error?e.error.message:void 0))):(Rr.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror",e.error),n.emit("error",_t(t,e.error?e.error.message:void 0)),n.handleUnexpectedLeave())}}},{key:"addConnectionListeners",value:function(e){var t=this,n=e.peerId,r=e.connection;this.onConnectionStatus=function(e){e.startsWith("FAILED")&&t.emit("error",function(e){return new et("MediaServerConnectionError","Connnection to media server has failed",e)}(n))},r.oniceconnectionstatechange=function(e){t.connectionStatusEvent({peerId:n,connectionStatus:e.target.iceConnectionState,signalingState:e.target.signalingState})},r.onsignalingstatechange=function(e){t.connectionStatusEvent({peerId:n,connectionStatus:e.target.iceConnectionState,signalingState:e.target.signalingState})}}},{key:"startDataFlow",value:function(e){if(!this.haveSession){var t={type:"join"};"object"==typeof this.wasm&&"sessionConfig"in this.wasm?t.sessionConfig=this.wasm.sessionConfig:t.sessionConfig={};var n=hr();t.sessionConfig.networkProbingConfig=(null==n?void 0:n.hasOwnProperty("networkProbingConfig"))?n.networkProbingConfig:{gapLength:0,burstLength:20},t.sessionConfig.fec=(null==n?void 0:n.hasOwnProperty("fec"))?n.fec:{delay:0,bitrate:hi.FEC_BITRATE_16P0,dynamicThresholds:[1],dynamicDecay:60},this.worker.postMessage(t),this.haveSession=!0}e.onmessage=this.receiveDataChannelPacket.bind(this)}},{key:"sendPacket",value:function(e){var t=this.dataChannel;t&&"open"===t.readyState&&t.send(e)}},{key:"stopDataFlow",value:function(){try{if(this.dataChannel){var e=this.dataChannel;this.dataChannel=null,e.close()}}catch(u){console.log(u)}}},{key:"renegociate",value:function(e){var t=e.peerId,n=e.description,r=e.candidates;return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.addPeerWasm({peerId:t,description:n,candidates:r,isMaster:!0,state:"close"});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),Rr.error("webrtc","VoxeetRTCDolbyVoice.renegociate: ",t,e.t0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))}},{key:"receiveDataChannelPacket",value:function(e){var t=e.data;this.worker.postMessage({type:"packet",packet:t},[t])}},{key:"mutePeer",value:function(e,t){var n=this;this.peers.filter((function(t){return t.peerId===e})).map((function(r){r.isMaster?n.haveSession?(n.dvcAudioMuted=t,"sessionConfig"in n.wasm||(n.wasm.sessionConfig={}),n.wasm.sessionConfig.inputMute=t,n.worker.postMessage({type:"input-mute",mute:n.dvcAudioMuted})):n.audioTrack&&(n.audioTrack.enabled=!t):(r.process&&r.process.mute(t),n.audioTags&&n.audioTags.muteAudioTag(e,t))}))}},{key:"muteOutput",value:function(e){this.enableOutputChange?this.audioElement.muted=e:this.worker.postMessage({type:"set-output-mute",isMuted:e})}},{key:"toggleMute",value:function(e){var t=this,n=!1;return this.peers.filter((function(t){return t.peerId===e})).map((function(r){if(r.isMaster)n=t.toggleOwnMute();else if(r.process&&(n=r.process.toggleMute()),t.audioTags){var i=t.audioTags.toggleMute(e);t.audio3D||(n=i)}})),n}},{key:"isOwnMuted",value:function(){return this.haveSession?this.dvcAudioMuted:!this.audioTrack.enabled}},{key:"toggleOwnMute",value:function(){return this.haveSession?(this.dvcAudioMuted=!this.dvcAudioMuted,this.worker.postMessage({type:"input-mute",mute:this.dvcAudioMuted}),this.dvcAudioMuted):(this.audioTrack.enabled=!this.audioTrack.enabled,!this.audioTrack.enabled)}},{key:"setVolume",value:function(e,t){throw new st}},{key:"db2vu",value:function(e){if(e===-1/0||e<-100)return 0;if(e>=0)return 1;var t=e/100,n=Math.PI/2+Math.PI/2*t,r=1-Math.cos(n);return r>1?1:r}},{key:"getLevel",value:function(e,t){var n=this;this.worker||t(0);var r=this.peers.find((function(t){return t.peerId===e}));if(r&&r.isMaster)this.audioLevelCallback=function(e){var r=n.db2vu(e);t(r)},this.worker.postMessage({type:"get-input-level"});else if(this.cachedLevels)t(this.cachedLevels.get(e)||0);else{this.pendingLevelCallbacks||(this.pendingLevelCallbacks=new Map,this.worker.postMessage({type:"get-talkers"}));var i=this.pendingLevelCallbacks.get(e);i?i.push(t):this.pendingLevelCallbacks.set(e,[t])}}},{key:"onAlarms",value:function(e){this.ragAlarms.update(e)}},{key:"onAudioLevel",value:function(e){if(this.audioLevelCallback){var t=this.audioLevelCallback;this.audioLevelCallback=null,t(e)}}},{key:"onTalkers",value:function(e){var t=this;this.cachedLevels=new Map;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.id.split("@")[0],o=i.level;this.cachedLevels.set(a,o)}}catch(y){r.e(y)}finally{r.f()}var s,u=f(this.pendingLevelCallbacks);try{for(u.s();!(s=u.n()).done;){var c,d=l(s.value,2),p=d[0],h=d[1],m=this.cachedLevels.get(p)||0,v=f(h);try{for(v.s();!(c=v.n()).done;){var g=c.value;try{g(m)}catch(e){}}}catch(y){v.e(y)}finally{v.f()}}}catch(y){u.e(y)}finally{u.f()}this.pendingLevelCallbacks=null,setTimeout((function(){return t.cachedLevels=null}),100)}},{key:"isSpeaking",value:function(e,t){var n=this;this.getLevel(e,(function(e){e>n.speechThreshold?t(!0):t(!1)}))}},{key:"isInputAudio",value:function(){return this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0}},{key:"onAudioReport",value:function(e){this.audio&&this.audio.collectAudioReport(e)}},{key:"stopAudioForPeerInternal",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(this.peers.filter((function(t){return t.peerId===e}))),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=12;break}if(!(i=r.value).stream||!i.isMaster){t.next=10;break}if(this.isInputAudio()){t.next=8;break}throw new nt("Already stopped");case 8:(a=this.audioTrack).stop(),this.audio&&this.audio.stopInputAudio(),this.worker&&this.worker.postMessage({type:"stop-input-audio"}),this.localMediaStream.removeTrack(a),this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null);case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[1,14,17,20]])})))}},{key:"startAudioForPeerInternal",value:function(e,t){return gi(this,void 0,void 0,p().mark((function n(){var r,i,a,o,s;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=f(this.peers.filter((function(t){return t.peerId===e}))),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=49;break}if(!(a=i.value).isMaster){n.next=47;break}if(!(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)){n.next=8;break}throw new nt("Already started");case 8:if(n.prev=8,o=null,!(t instanceof MediaStreamTrack)){n.next=14;break}this.audioTrack=t,o=new MediaStream([t]),this.customAudio=!0,n.next=21;break;case 14:return(s=JSON.parse(JSON.stringify(this.constraints))).video=!1,t?s.audio=this.constraints.audio=t:s.audio||(s.audio=this.constraints.audio=this.getDefaultAudioConstraints()),n.next=19,this.getUserMediaWithChecks(s);case 19:o=n.sent,this.audioTrack=o.getAudioTracks()[0];case 21:if(!this.localMediaStream){n.next=32;break}if(this.localMediaStream.addTrack(this.audioTrack),!this.worker){n.next=27;break}this.audio&&this._startInputAudio(),n.next=29;break;case 27:return n.next=29,this.addTrack(this.audioTrack,a.audioConnection,this.localMediaStream,"audio");case 29:this.updateStreamEvent(e,this.localMediaStream),n.next=39;break;case 32:return this.localMediaStream=o,this.localMediaStream.type=Xn.Camera,a.stream=o,this.worker&&this.audio&&this._startInputAudio(),n.next=38,this.addStream(this.localMediaStream,a.audioConnection);case 38:this.addStreamEvent(e,this.localMediaStream);case 39:return n.next=41,this.updateSelectedInputAudioDevice();case 41:return n.abrupt("return",this.audioTrack);case 44:throw n.prev=44,n.t0=n.catch(8),new tt(n.t0);case 47:n.next=3;break;case 49:n.next=54;break;case 51:n.prev=51,n.t1=n.catch(1),r.e(n.t1);case 54:return n.prev=54,r.f(),n.finish(54);case 57:case"end":return n.stop()}}),n,this,[[1,51,54,57],[8,44]])})))}},{key:"selectAudioInput",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(this.peers.filter((function(e){return!0===e.isMaster}))),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=17;break}return i=r.value,"object"!=typeof this.constraints.audio&&(this.constraints.audio=this.getDefaultAudioConstraints()),this.constraints=Object.assign(Object.assign({},this.constraints),{audio:Object.assign(Object.assign({},this.constraints.audio),{deviceId:{exact:e.deviceId}})}),t.prev=6,t.next=9,this.onDeviceChanged();case 9:this.localMediaStream&&this.updateStreamEvent(i.peerId,this.localMediaStream),t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(6),t.t0;case 15:t.next=3;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(1),n.e(t.t1);case 22:return t.prev=22,n.f(),t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[1,19,22,25],[6,12]])})))}},{key:"selectAudioOutput",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.deviceId,this.enableOutputChange){t.next=3;break}throw new st;case 3:if(!n||!this.audioElement){t.next=9;break}return t.next=6,this.audioElement.setSinkId(n);case 6:return t.next=8,this.onDeviceChanged();case 8:return t.abrupt("return",void t.sent);case 9:throw new Error("Unavailable");case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getLocalRtpStats",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,s,u,d,h,m,v,g,y,k,b,_,w,S,x,E,T,C;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.peers.find((function(e){return e.isMaster})),e.next=3,this.getRtpStatsForTelemetry();case 3:if(n=e.sent,r=null==n?void 0:n.metrics,t){i=r.get(t.peerId).filter((function(e){return"candidate-pair"===e.type})),a=n.dvcStats?n.dvcStats:{},o=f(r);try{for(o.s();!(s=o.n()).done;)u=l(s.value,2),d=u[0],h=u[1],m=0,v=0,d===t.peerId?(g=h.filter((function(e){return("remote-inbound-rtp"===e.type||"inbound-rtp"===e.type)&&"audio"===e.kind})),y=h.filter((function(e){return"outbound-rtp"===e.type&&"audio"===e.kind})),k=[],this.lastStats[d]&&(k=this.lastStats[d].filter((function(e){return"outbound-rtp"===e.type&&"audio"===e.kind}))),a.length>0?(b=parseFloat(a[0].uplinkPacketLossCount)/parseFloat(a[0].uplinkPacketCount),m=Tr(parseFloat(100*b),parseFloat(a[0].roundTripTime),parseFloat(a[0].uplinkJitter))):g.length>0&&y.length>0&&k.length>0&&y[0].bytesSent>k[0].bytesSent&&(_=(_=i[0].currentRoundTripTime?i[0].currentRoundTripTime:g[0].roundTripTime)||this.recentlySeenRTT,this.recentlySeenRTT=_,w=parseFloat(g[0].packetsLost)/parseFloat(y[0].packetsSent),m=Tr(parseFloat(100*w),1e3*parseFloat(_),1e3*parseFloat(g[0].jitter))),this.localMediaStream&&(S=this.localMediaStream.getVideoTracks(),v=Pr(this.lastStats[d],h,S))):(x=h.filter((function(e){return"inbound-rtp"===e.type&&"audio"===e.kind})),a.length>0?(E=parseFloat(a[0].downlinkPacketLossCount)/parseFloat(a[0].downlinkPacketCount),m=Tr(parseFloat(100*E),parseFloat(a[0].roundTripTime),parseFloat(a[0].downlinkJitter))):x.length>0&&i.length>0&&(T=parseFloat(x[0].packetsLost)/parseFloat(x[0].packetsReceived),m=Tr(parseFloat(100*T),1e3*parseFloat(i[0].currentRoundTripTime),1e3*parseFloat(x[0].jitter))),C=this.peers.findIndex((function(e){return e.peerId===zn}))>-1,v=jr(this.lastStats[d],h,C)),this.lastStats[d]=c(h),r.set(d,[].concat(c(h),[{id:"Scores",audio:m,video:v}]))}catch(p){o.e(p)}finally{o.f()}}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getDvcStats",value:function(){return this.workerAsyncCall.request("stats")}},{key:"getRagAlarms",value:function(){return this.ragAlarms}},{key:"getLocalRtpStatsForTelemetry",value:function(){return gi(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,s,u,l,d,f,h,m,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.peers.find((function(e){return e.isMaster})),n={metrics:new Map},!t){e.next=24;break}return e.next=4,t.connection.getStats(null);case 4:if(r=e.sent,!t.audioConnection){e.next=11;break}return e.next=8,t.audioConnection.getStats(null);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=[];case 12:if(i=e.t0,r=c(r.values()),i=c(i.values()),a=[],r.filter((function(e){return"media-source"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type&&e.localId||"candidate-pair"===e.type||"track"===e.type&&!1===e.remoteSource})).forEach((function(e){a.push(e)})),i.filter((function(e){return"data-channel"==e.type||"candidate-pair"===e.type||"transport"===e.type})).forEach((function(e){a.push(e)})),a.forEach((function(e){!e.hasOwnProperty("kind")&&e.hasOwnProperty("mediaType")&&(e.kind=e.mediaType)})),n.metrics.set(t.peerId,a),Fn.isChrome?r.filter((function(e){return"stream"===e.type})).forEach((function(e){var t=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.streamIdentifier);if(t&&t[3]){var i=new Array;i.push(e),e.trackIds.forEach((function(e){r.filter((function(t){return t.id==e||t.trackId==e})).forEach((function(e){return i.push(e)}))})),n.metrics.get(t[3])&&i.push.apply(i,c(n.metrics.get(t[3]))),n.metrics.set(t[3],i)}else Rr.error("webrtc","VoxeetRTCNative.getLocalRtpStatsForTelemetry","Unable to found peer for stream telemetry")})):this.peers.forEach((function(e){var t=e.stream,i=e.peerId;if(t){var a=[].concat(c(t.getAudioTracks()),c(t.getVideoTracks())).flatMap((function(e){return r.filter((function(t){return t.trackIdentifier===e.id}))})),o=a.flatMap((function(e){return r.filter((function(t){return t.trackId===e.id&&"inbound-rtp"===t.type}))})),s=[].concat(c(a),c(o)),u=[];n.metrics.get(i)&&u.push.apply(u,c(n.metrics.get(i))),n.metrics.set(i,[].concat(c(s),u))}})),n.metrics.set(zn,[]),!this.worker){e.next=21;break}return e.next=18,this.getDvcStats();case 18:o=e.sent,s=this.getRagAlarms(),n.dvcStats=o,n.ragAlarms=s,o&&(u={ssrc:2,trackId:"",mediaType:"audio",packetsSent:o.uplinkPacketCount,bytesSent:o.uplinkPayloadBytes,retransmittedPacketsSent:0,retransmittedBytesSent:0,type:"outbound-rtp"},l={ssrc:2,kind:"audio",packetLost:o.uplinkPacketLossCount,jitter:.001*o.uplinkJitter,roundTripTime:o.roundTripTime,type:"remote-inbound-rtp"},d={kind:"audio",audioLevel:o.outputLevel,totalAudioEnergy:o.totalAudioEnergy,totalSamplesDuration:o.totalSamplesDuration,type:"media-source"},n.metrics.set(t.peerId,n.metrics.get(t.peerId).concat(Object.assign({id:"RTCOutboundRTPAudioStream_2"},u)).concat(Object.assign({id:"RTCRemoteInboundRTPAudioStream_2"},l)).concat(Object.assign({id:"RTCAudioSource_2"},d))),f={audioLevel:o.outputLevel,bytesReceived:o.downlinkPayloadBytes,jitter:.001*o.downlinkJitter,mediaType:"audio",packetsLost:o.downlinkPacketLossCount,packetsReceived:o.downlinkPacketCount,ssrc:2,trackId:"RTCMediaStreamTrack_receiver_1",transportId:"RTCTransport_audio_1",type:"inbound-rtp"},h={type:"track",kind:"audio",audioLevel:o.outputLevel},n.metrics.set(zn,[Object.assign({id:"RTCInboundRTPAudioStream_2"},f),Object.assign({id:"RTCMediaStreamTrack_receiver_1"},h)]));case 21:this.audio&&(m=this.audio.createAudioReport(),v={type:"audio",bufferIsOverrun:m.outputBuffer.overrun.have,bufferOverrunTimes:m.outputBuffer.overrun.times,bufferOverrunMaxLength:m.outputBuffer.overrun.longestTicks,bufferOverrunDuration:m.outputBuffer.overrun.sumTicksDuration,bufferIsUnderrun:m.outputBuffer.underrun.have,bufferUnderrunTimes:m.outputBuffer.underrun.times,bufferUnderrunMaxLength:m.outputBuffer.underrun.longestTicks,bufferUnderrunDuration:m.outputBuffer.underrun.sumTicksDuration},n.metrics.set(zn,n.metrics.get(zn).concat(Object.assign({id:"WebAudioStats"},v)))),g=this.getRemoteStats(t.connection,r),n.metrics=new Map([].concat(c(g),c(n.metrics)));case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,this)})))}},{key:"createStateDump",value:function(e){return this.workerAsyncCall.request("state-dump",{liteMode:e})}},{key:"configureStateDump",value:function(e){this.worker.postMessage({type:"audio-logging-length",length:e})}},{key:"setTransparentMode",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.workerAsyncCall.request("set-transparent-mode",{transparent:e});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getCaptureMode",value:function(){return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerAsyncCall.request("get-capture-mode");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=this.cachedAudioMode;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"setCaptureMode",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cachedAudioMode=e,t.next=3,this.workerAsyncCall.request("set-capture-mode",e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setEchoCancellation",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cachedEchoCancellation=e,t.next=3,this.workerAsyncCall.request("set-echo-cancellation",e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setComfortNoiseLevel",value:function(e){return gi(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cachedComfortNoiseLevel=e,t.next=3,this.workerAsyncCall.request("set-comfort-noise",{level:e});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getComfortNoiseLevel",value:function(){return gi(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.workerAsyncCall.request("get-comfort-noise"));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setConferenceVolume",value:function(e){this.conferenceVolume=e,this.audioElement&&(this.audioElement.volume=e)}}]),n}(Ur),ji=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Pi=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Mi=g((function e(t,n,r){y(this,e),this.resolve=t,this.reject=n,this.fn=r}));_i=new WeakMap,wi=new WeakMap,Si=new WeakMap,xi=new WeakMap,function(e){e.LastSpeaker="lastSpeakerStrategy",e.ClosestUser="closestUserStrategy"}(Ei||(Ei={}));var Ii=g((function e(t,n){y(this,e),this.userId=t,this.streamIndex=n})),Ri=w(7806),Ai=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Di=Ye()("vxt:rtc:millicast"),Oi=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).autoReconnect=!0,r.millicastView=null,r.peerId=null,r.stream=null,r.liveStreamActive=!1,Ri.Logger.setLevel((null==Di?void 0:Di.enabled)?Ri.Logger.DEBUG:Ri.Logger.WARN),r}return g(n,[{key:"release",value:function(){var e=this,t=Object.create(null,{release:{get:function(){return o(s(n.prototype),"release",e)}}});return Ai(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopRtsView(),e.next=3,t.release.call(this);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"stopRtsView",value:function(){this.millicastView&&(this.millicastView.removeAllListeners(),this.millicastView.stop(),this.millicastView=null,this.removePeer(this.peerId),this.peerId=null,this.stream=null,this.liveStreamActive=!1)}},{key:"startRtsView",value:function(e,t,n){return Ai(this,void 0,void 0,p().mark((function r(){var i,a,o=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.stopRtsView(),Ri.Director.setEndpoint("https://director.millicast.com"),this.millicastView=new Ri.View(e,(function(){return Ri.Director.getSubscriber(e,t,n)}),null,this.autoReconnect),this.millicastView.on("broadcastEvent",(function(e){o.onBroadcastEvent(e).catch((function(e){o.emit("error",e)}))})),this.millicastView.on("track",(function(e){o.onTrack(e).catch((function(e){o.emit("error",e)}))})),i={disableVideo:!1,disableAudio:!1,peerConfig:Object.assign(Object.assign({},lr().peerConnection.config),{sdpSemantics:"unified-plan"})},r.next=4,this.millicastView.connect(i);case 4:if(a=this.peers.find((function(e){return e.isMaster})),r.t0=a&&a.connection!==this.millicastView.webRTCPeer.getRTCPeer(),!r.t0){r.next=10;break}return a.connection=this.millicastView.webRTCPeer.getRTCPeer(),r.next=10,this.addConnectionListeners(a);case 10:Di("RTS Viewer connected");case 11:case"end":return r.stop()}}),r,this)})))}},{key:"selectSimulcastLayer",value:function(e){return Ai(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.millicastView){t.next=2;break}throw new Error("Viewer service is not available");case 2:return n=function(e){var t;switch(e){case fr.SD:t="l";break;case fr.MD:t="m";break;case fr.HD:t="h"}return t}(e),t.next=5,this.millicastView.select({encodingId:n});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onTrack",value:function(e){return Ai(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Di("Got Millicast stream",e),this.stream=e.streams[0],this.stream.getAudioTracks()[0].enabled=!this.isOutputMuted,t.t0=this.liveStreamActive,!t.t0){t.next=7;break}return t.next=7,this.addStream(this.stream);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"onBroadcastEvent",value:function(e){return Ai(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Di("Got Millicast event",e),!this.liveStreamActive){t.next=5;break}"active"!==e.name&&(this.liveStreamActive=!1,this.stream&&this.removeStream(this.stream)),t.next=12;break;case 5:if(t.t0="active"==e.name,!t.t0){t.next=12;break}if(this.liveStreamActive=!0,t.t1=this.stream,!t.t1){t.next=12;break}return t.next=12,this.addStream(this.stream);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"addStream",value:function(e){return Ai(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Di("addStream",e),this.peerId||(this.peerId=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))),n=this.ensurePeer({peerId:this.peerId,isMaster:!1}),e.onremovetrack=function(e){return r.onRemoveTrack(r.peerId,e)},!n.stream){t.next=10;break}return Di("addStream->updateStreamEvent",e),this.updateStreamEvent(this.peerId,e),t.next=8,this.callWithoutConcurrency(this.updateAudioTag,this.peerId,e);case 8:t.next=15;break;case 10:return n.stream=e,Di("addStream->addStreamEvent",e),this.addStreamEvent(this.peerId,e),t.next=15,this.callWithoutConcurrency(this.createAudioTag,this.peerId,e);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"removeStream",value:function(e){Di("removeStream",e);var t=this.peerId;t&&(this.ensurePeer({peerId:t,isMaster:!1}),Di("removeStream->removeStreamEvent",e),this.removeStreamEvent(t,e))}}]),n}(Ur),Ni=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="TimeoutError",r.message=e,r}return g(n)}(_(Error)),Li=new Ni("Timeout occurred"),Fi=36e5,zi=2*Fi;function Ui(e,t,n){var r;return Promise.race([new Promise((function(e,i){r=setTimeout((function(){return i(function(e){return e?new Ni("Timeout occurred in: ".concat(e)):Li}(n))}),t)})),e.then((function(e){return clearTimeout(r),e}))])}var Vi,Bi,Wi,Gi,Hi,Yi,Zi,qi,$i,Ki,Xi,Ji,Qi,ea,ta,na,ra,ia,aa,oa,sa,ua,ca,la,da,fa,pa,ha,ma,va=(r(a={},kr.Standard,{audioBitrate:Sr.Bitrate32k,preferSendMono:!0}),r(a,kr.Music,{audioBitrate:Sr.Bitrate96k,preferSendMono:!0}),r(a,kr.Unprocessed,{audioBitrate:Sr.Bitrate128k,preferSendMono:!1}),a),ga=va.standard.audioBitrate,ya=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},ka=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},ba=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},_a=Ye()("vxt:conference");!function(e){e[e.PSTN_QUALITY=0]="PSTN_QUALITY",e[e.ULTRA_LOW=1]="ULTRA_LOW",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA_HIGH=3]="ULTRA_HIGH"}(ma||(ma={})),Vi=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,Gi=new WeakMap,Hi=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,qi=new WeakMap,$i=new WeakMap,Ki=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Qi=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap,ia=new WeakMap,aa=new WeakMap,oa=new WeakMap,sa=new WeakMap,ua=new WeakMap,ca=new WeakMap,la=new WeakMap,da=new WeakMap,fa=new WeakMap,pa=new WeakMap,ha=new WeakMap;var wa,Sa,xa,Ea,Ta,Ca,ja,Pa,Ma,Ia,Ra,Aa,Da=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Oa=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Created="created",e.Joined="joined",e.Ended="ended",e.Left="left",e.Destroyed="destroyed",e.Error="error"}(Ra||(Ra={})),function(e){e.Invite="INVITE",e.UpdatePermissions="UPDATE_PERMISSIONS",e.Kick="KICK",e.Join="JOIN",e.SendAudio="SEND_AUDIO",e.SendVideo="SEND_VIDEO",e.ShareScreen="SHARE_SCREEN",e.ShareVideo="SHARE_VIDEO",e.ShareFile="SHARE_FILE",e.SendMessage="SEND_MESSAGE",e.Record="RECORD",e.Stream="STREAM"}(Aa||(Aa={}));var Na=function(){function e(t){y(this,e),wa.set(this,void 0),Sa.set(this,void 0),xa.set(this,void 0),Ea.set(this,void 0),Ta.set(this,void 0),Ca.set(this,void 0),ja.set(this,void 0),Pa.set(this,void 0),Ma.set(this,void 0),Ia.set(this,void 0),Da(this,wa,t),Da(this,Ma,new Set(Object.values(Aa)))}return g(e,[{key:"id",get:function(){return Oa(this,wa)},set:function(e){Da(this,wa,e)}},{key:"alias",get:function(){return Oa(this,Sa)},set:function(e){Da(this,Sa,e)}},{key:"isNew",get:function(){return Oa(this,xa)},set:function(e){Da(this,xa,e)}},{key:"isProtected",get:function(){return Oa(this,Ea)},set:function(e){Da(this,Ea,e)}},{key:"isAudioOnly",get:function(){return Oa(this,Ta)},set:function(e){Da(this,Ta,e)}},{key:"pinCode",get:function(){return Oa(this,Ca)},set:function(e){Da(this,Ca,e)}},{key:"status",get:function(){return Oa(this,ja)},set:function(e){Da(this,ja,e)}},{key:"params",get:function(){return Oa(this,Pa)},set:function(e){Da(this,Pa,e)}},{key:"participants",get:function(){return Oa(this,Ia).call(this)}},{key:"participantsGetter",set:function(e){Da(this,Ia,e)}},{key:"permissions",get:function(){return Oa(this,Ma)},set:function(e){Da(this,Ma,e)}}],[{key:"fromCreateData",value:function(t){var n=new e(t.conferenceId);return n.status=Ra.Created,n.alias=t.conferenceAlias,n.pinCode=t.conferencePincode,n.isNew=t.isNew,n.isProtected=t.isProtected,n.isAudioOnly=t.isAudioOnly,n.params=new $,n.params.dolbyVoice=t.isDolbyVoice,t.isProtected&&(n.permissions=new Set),n}}]),e}();function La(e){this.message=e}wa=new WeakMap,Sa=new WeakMap,xa=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,ja=new WeakMap,Pa=new WeakMap,Ma=new WeakMap,Ia=new WeakMap,La.prototype=new Error,La.prototype.name="InvalidCharacterError";var Fa="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new La("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function za(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Fa(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Fa(t)}}function Ua(e){this.message=e}Ua.prototype=new Error,Ua.prototype.name="InvalidTokenError";var Va,Ba=function(e,t){if("string"!=typeof e)throw new Ua("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(za(e.split(".")[n]))}catch(e){throw new Ua("Invalid token specified: "+e.message)}};!function(e){e.Disabled="disabled",e.Individual="individual",e.Shared="shared"}(Va||(Va={}));var Wa,Ga,Ha,Ya,Za,qa,$a,Ka,Xa,Ja,Qa,eo=function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},to=function(e){return e*(180/Math.PI)},no=function(e){return e*(Math.PI/180)},ro=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},io=function(e,t){return{x:0===e.scale.x?0:t.x/e.scale.x,y:0===e.scale.y?0:t.y/e.scale.y,z:0===e.scale.z?0:t.z/e.scale.z}},ao=function(e,t){return{x:ro(t,e.right),y:ro(t,e.up),z:ro(t,e.forward)}},oo=function(e){if(0!==e.forward.x&&1!==Math.abs(e.forward.x)||0!==e.forward.y&&1!==Math.abs(e.forward.y)||0!==e.forward.z&&1!==Math.abs(e.forward.z)||Math.abs(e.forward.x)+Math.abs(e.forward.y)+Math.abs(e.forward.z)!=1)throw new dt("SpatialEnvironment::forward must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.forward));if(0!==e.up.x&&1!==Math.abs(e.up.x)||0!==e.up.y&&1!==Math.abs(e.up.y)||0!==e.up.z&&1!==Math.abs(e.up.z)||Math.abs(e.up.x)+Math.abs(e.up.y)+Math.abs(e.up.z)!=1)throw new dt("SpatialEnvironment::up must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.up));if(0!==e.right.x&&1!==Math.abs(e.right.x)||0!==e.right.y&&1!==Math.abs(e.right.y)||0!==e.right.z&&1!==Math.abs(e.right.z)||Math.abs(e.right.x)+Math.abs(e.right.y)+Math.abs(e.right.z)!=1)throw new dt("SpatialEnvironment::right must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.right));if(0!==ro(e.forward,e.up))throw new dt("SpatialEnvironment::forward and SpatialEnvironment::up parameters must be orthogonal vectors");if(0!==ro(e.forward,e.right))throw new dt("SpatialEnvironment::forward and SpatialEnvironment::right parameters must be orthogonal vectors");if(0!==ro(e.right,e.up))throw new dt("SpatialEnvironment::right and SpatialEnvironment::up parameters must be orthogonal vectors");if(e.scale.x<=0)throw new dt("Scale.x must be a positive non-zero number");if(e.scale.y<=0)throw new dt("Scale.y must be a positive non-zero number");if(e.scale.z<=0)throw new dt("Scale.z must be a positive non-zero number");return!0},so=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},uo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},co=function(){function e(t,n){y(this,e),Wa.set(this,void 0),Ga.set(this,void 0),Ha.set(this,void 0),Ya.set(this,void 0),Za.set(this,{}),qa.set(this,{}),$a.set(this,!1),Ka.set(this,void 0),Xa.set(this,void 0),Ja.set(this,void 0),Qa.set(this,void 0),so(this,Wa,{x:0,y:0,z:0}),so(this,Ga,{x:0,y:0,z:0}),so(this,Ya,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),so(this,Ka,t),so(this,Ja,n),so(this,Xa,{})}return g(e,[{key:"release",value:function(){uo(this,Qa)&&clearTimeout(uo(this,Qa))}},{key:"setEnvironment",value:function(e){oo(e)&&(so(this,Ya,e),this.updateRelativePositions())}},{key:"setParticipantPosition",value:function(e,t){uo(this,Xa)[e.id]=t,e.id===uo(this,Ja)&&so(this,Wa,t),this.updateRelativePositions()}},{key:"setLocalDirection",value:function(e){so(this,Ga,e),this.updateRelativePositions()}},{key:"transformRemotePosition",value:function(e){var t=function(e,t){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}}(e,uo(this,Wa)),n=io(uo(this,Ya),t),r=function(e){var t=Math.cos(.5*no(e.x)),n=Math.sin(.5*no(e.x)),r=Math.cos(.5*no(e.y)),i=Math.sin(.5*no(e.y)),a=Math.cos(.5*no(e.z)),o=Math.sin(.5*no(e.z));return{w:t*r*a+n*i*o,x:-1*(n*r*a+t*i*o),y:-1*(t*i*a-n*r*o),z:-1*(t*r*o-n*i*a)}}(ao(uo(this,Ya),uo(this,Ga)));return function(e,t){var n=t.w*t.w,r=t.x*t.x,i=t.y*t.y,a=t.z*t.z,o=t.w*t.x,s=t.w*t.y,u=t.w*t.z,c=t.x*t.y,l=t.x*t.z,d=t.y*t.z;return{x:n*e.x+2*s*e.z-2*u*e.y+r*e.x+2*c*e.y+2*l*e.z-a*e.x-i*e.x,y:2*c*e.x+i*e.y+2*d*e.z+2*u*e.x-a*e.y+n*e.y-2*o*e.z-r*e.y,z:2*l*e.x+2*d*e.y+a*e.z-2*s*e.x-i*e.z+2*o*e.y-r*e.z+n*e.z}}(ao(uo(this,Ya),n),r)}},{key:"computeRemoteParticipantsPolarPositions",value:function(e){var t=this;return Object.entries(e).reduce((function(e,n){var i=l(n,2),a=i[0],o=i[1],s=function(e){var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}(e);return 0===t?{distance:0,elevation:0,azimuth:0}:{distance:t,elevation:to(Math.asin(e.y/t)),azimuth:to(Math.atan2(-1*e.x,e.z))}}(t.transformRemotePosition(o)),u=Object.entries(s).reduce((function(e,t){var n=l(t,2),i=n[0],a=n[1];return Object.assign(Object.assign({},e),r({},i,eo(a,2)))}),{distance:0,elevation:0,azimuth:0});return Object.assign(Object.assign({},e),r({},a,u))}),{})}},{key:"updateRelativePositions",value:function(){var e,t,n=this,i=Object.entries(uo(this,Xa)).reduce((function(e,t){var i=l(t,2),a=i[0],o=i[1];return a!==uo(n,Ja)?Object.assign(Object.assign({},e),r({},a,o)):e}),{}),a=this.computeRemoteParticipantsPolarPositions(i);for(var o in a)uo(this,qa)[o]&&(e=a[o],t=uo(this,qa)[o],Math.round(100*e.distance)===Math.round(100*t.distance)&&Math.round(100*e.azimuth)===Math.round(100*t.azimuth)&&Math.round(100*e.elevation)===Math.round(100*t.elevation))||(uo(this,Za)[o]=a[o]);uo(this,$a)||(so(this,$a,!0),so(this,Qa,setTimeout((function(){n.sendPositions()}),300)))}},{key:"sendPositions",value:function(){return e=this,t=void 0,r=p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={conferenceId:uo(this,Ka),peerId:uo(this,Ja),data:{spatialPositions:Object.assign({},uo(this,Za))}},so(this,qa,Object.assign(Object.assign({},uo(this,qa)),uo(this,Za))),so(this,Za,{}),so(this,$a,!1),!(Object.keys(t.data.spatialPositions).length>0)){e.next=10;break}return e.prev=2,e.next=5,Gt.conferences.audioUpdate(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Je.send(We.ConferenceGlobalError.fromData(new ct("Unable to set spatial audio position: reason: "+e.t0.reason)));case 10:case"end":return e.stop()}}),e,this,[[2,7]])})),new((n=void 0)||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}},{key:"environment",get:function(){return uo(this,Ya)}},{key:"removeParticipant",value:function(e){e in uo(this,Xa)&&delete uo(this,Xa)[e],e in uo(this,qa)&&delete uo(this,qa)[e]}}]),e}();Wa=new WeakMap,Ga=new WeakMap,Ha=new WeakMap,Ya=new WeakMap,Za=new WeakMap,qa=new WeakMap,$a=new WeakMap,Ka=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,Qa=new WeakMap;var lo,fo,po,ho,mo,vo,go,yo,ko,bo,_o,wo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},So=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},xo=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";y(this,e),lo.set(this,void 0),fo.set(this,void 0),po.set(this,!1),ho.set(this,void 0),mo.set(this,void 0),vo.set(this,void 0),go.set(this,null),yo.set(this,""),ko.set(this,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),bo.set(this,{x:0,y:0,z:0}),_o.set(this,{x:0,y:0,z:0}),wo(this,fo,n),wo(this,lo,t),r&&wo(this,go,r),wo(this,yo,i)}return g(e,[{key:"release",value:function(){So(this,ho)&&clearTimeout(So(this,ho)),So(this,mo)&&clearTimeout(So(this,mo)),So(this,vo)&&clearTimeout(So(this,vo))}},{key:"setEnvironment",value:function(e){oo(e)&&(wo(this,ko,e),this.sendPosition())}},{key:"setParticipantPosition",value:function(e,t){var n=this;if(So(this,fo)!==e.id)throw new st;wo(this,_o,t),So(this,po)||(wo(this,po,!0),wo(this,ho,setTimeout((function(){n.sendPosition()}),300)))}},{key:"sendPosition",value:function(){return e=this,t=void 0,r=p().mark((function(){var e,t,n,r;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=io(So(this,ko),So(this,_o)),t=ao(So(this,ko),e),n=ao(So(this,ko),So(this,bo)),wo(this,po,!1),r={conferenceId:So(this,lo),peerId:So(this,fo),data:{selfSpatialPosition:t,selfSpatialDirection:n,selfSpatialAttenuationName:So(this,yo)}},i.prev=3,i.next=6,Gt.conferences.audioUpdate(r);case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),Je.send(We.ConferenceGlobalError.fromData(new ct("Unable to set spatial audio parameters: reason: "+i.t0.reason)));case 11:case"end":return i.stop()}}),r,this,[[3,8]])})),new((n=void 0)||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}},{key:"setLocalDirection",value:function(e){var t=this;if(So(this,go)){var n=ao(So(this,ko),e);So(this,go).call(this,n.y>0?n.y:360+n.y,n.x>0?n.x:360+n.x,n.z>0?n.z:360+n.z)}else wo(this,bo,e),So(this,po)||(wo(this,po,!0),wo(this,mo,setTimeout((function(){t.sendPosition()}),300)))}},{key:"setLocalAudioAttenuation",value:function(e){var t=this;wo(this,yo,e),So(this,po)||(wo(this,po,!0),wo(this,vo,setTimeout((function(){t.sendPosition()}),300)))}}]),e}();lo=new WeakMap,fo=new WeakMap,po=new WeakMap,ho=new WeakMap,mo=new WeakMap,vo=new WeakMap,go=new WeakMap,yo=new WeakMap,ko=new WeakMap,bo=new WeakMap,_o=new WeakMap;var Eo,To=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Co=function(){function e(){y(this,e),Eo.set(this,new Map)}return g(e,[{key:"clear",value:function(){To(this,Eo).clear()}},{key:"delete",value:function(e){return To(this,Eo).delete(e)}},{key:"get",value:function(e){return To(this,Eo).get(e)}},{key:"has",value:function(e){return To(this,Eo).has(e)}},{key:"set",value:function(e,t){To(this,Eo).set(e,t)}},{key:"size",get:function(){return To(this,Eo).size}}]),e}();Eo=new WeakMap;var jo,Po,Mo,Io,Ro,Ao,Do=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Oo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},No=Ye()("vxt:confevtmgr"),Lo=function(){function e(t,n,r,i){y(this,e),jo.set(this,void 0),Po.set(this,void 0),Mo.set(this,[]),Io.set(this,void 0),Ro.set(this,void 0),Ao.set(this,void 0),Do(this,jo,t),Do(this,Po,n),Do(this,Ao,r),Do(this,Ro,new Co),Do(this,Io,i)}return g(e,[{key:"participants",get:function(){return Oo(this,Po)?Oo(this,Po).participants:new Map}},{key:"conference",get:function(){return Oo(this,Io).call(this)}},{key:"dolbyVoice",get:function(){var e;return null===(e=this.conference.params)||void 0===e?void 0:e.dolbyVoice}},{key:"onLeave",value:function(){var e=this;Oo(this,Po).isRts()||Oo(this,Po).participants.forEach((function(t,n){if(t.id!==Oo(e,jo).participant.id){var r=t.streams.filter((function(e){return e.type===Xn.Camera})),i=t.streams.filter((function(e){return e.type===Xn.ScreenShare})),a=r.length>0&&r[0].getVideoTracks()[0];if(i.length>0&&Oo(e,Ao).onStreamRemoved(t,i[0]),e.dolbyVoice&&t.audioTransmitting&&!a){Oo(e,Ao).onStreamRemoved(t,new tr(new MediaStream));var o=Oo(e,Mo).indexOf(t.id);o>-1&&Oo(e,Mo).splice(o,1)}}}))}},{key:"onVideoForwardedChanged",value:function(e){var t=this;Je.send(We.ConferenceGlobalTrace.fromData({api:"onVideoForwardedChanged",data:{videoForwardedId:e.videoForwardedId}})),Array.from(e.videoForwardedId).filter((function(e){return!Array.from(Oo(t,Po).forwardedParticipants.keys()).includes(e)&&e!==Oo(t,jo).participant.id})).forEach((function(e){Oo(t,Po).setVideoForwarding(e)})),Array.from(Oo(this,Po).forwardedParticipants.keys()).filter((function(n){return!Array.from(e.videoForwardedId).includes(n)&&n!==Oo(t,jo).participant.id})).forEach((function(e){Oo(t,Po).removeVideoForwarding(e)}))}},{key:"onParticipantAdded",value:function(e){var t,n,r=this.participants.get(e.userId);r?(r=Oo(this,Po).updateParticipant(e),Oo(this,Ao).onParticipantUpdated(r),No("participant updated: ",r)):(r=Oo(this,Po).addParticipant(e),Oo(this,Ao).onParticipantAdded(r),No("participant added: ",r));var i=null===(n=null===(t=this.conference)||void 0===t?void 0:t.params)||void 0===n?void 0:n.dolbyVoice;if(Oo(this,Ro).has(e.userId)){var a=Oo(this,Ro).get(e.userId);this.onStreamAdded(ke.fromData({peerId:e.userId,stream:a})),Oo(this,Ro).delete(e.userId)}else if(i&&!Oo(this,Po).isRts()){var o=r.audioTransmitting,s=r.streams.filter((function(e){return e.type===Xn.Camera})),u=s.length>0&&s[0].getVideoTracks(),c=u.length>0&&u[0];o&&!c&&(Oo(this,Mo).push(r.id),Oo(this,Po).rtc.addFakeAudio(r.id))}}},{key:"onParticipantUpdated",value:function(e){var t=this.participants.get(e.userId),n=t&&t.audioTransmitting,r=Oo(this,Po).updateParticipant(e);No("participant updated: ",r),t?Oo(this,Ao).onParticipantUpdated(r):Oo(this,Ao).onParticipantAdded(r),this.onParticipantUpdatedHandleStreams(r,n,r.audioTransmitting)}},{key:"onParticipantUpdatedHandleStreams",value:function(e,t,n){var r,i;e.id!==Oo(this,jo).participant.id&&(null===(i=null===(r=this.conference)||void 0===r?void 0:r.params)||void 0===i?void 0:i.dolbyVoice)&&!Oo(this,Po).isRts()&&(n&&!t?Oo(this,Po).rtc.addFakeAudio(e.id):!n&&t&&Oo(this,Po).rtc.removeFakeAudio(e.id))}},{key:"onAudioUpdated",value:function(e){this.onParticipantUpdatedHandleStreams(e.participant,e.previousAudioTransmitting,e.audioTransmitting)}},{key:"onStreamAdded",value:function(e){var t=e.peerId,n=e.stream,r=this.participants.get(t);if(!r){if(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(t))return;if(!Oo(this,Po).isRts())return console.warn("Unable to find participant: ".concat(t)),Oo(this,Ao).onConferenceGlobalError(oe.fromData(vt(t))),void Oo(this,Ro).set(t,n);r=new Pe(t,"CONNECTED");var i=this.createMixerMixParticipantData(t,n);this.onParticipantAdded(ne.fromData(i)),Oo(this,Po).forwardedParticipants.set(t,r)}r.streams.push(n),Oo(this,Ao).onStreamAdded(r,n)}},{key:"onStreamUpdated",value:function(e){var t,n,r=e.peerId,i=e.stream,a=this.participants.get(r);if(a){if(Oo(this,Po).isRts()){var o=!!i&&(null===(t=i.getAudioTracks())||void 0===t?void 0:t.length)>0,s=!!i&&(null===(n=i.getVideoTracks())||void 0===n?void 0:n.length)>0;(a.audioTransmitting!==o||a.videoTransmitting!==s)&&(a.updateVideoTransmitting(s),a.updateAudioTransmitting(o),Oo(this,Ao).onParticipantUpdated(a))}}else{if(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(r))return;if(!Oo(this,Po).isRts())return console.warn("Unable to find participant: ".concat(r)),Oo(this,Ao).onConferenceGlobalError(oe.fromData(vt(r))),void Oo(this,Ro).set(r,i);a=new Pe(r,"CONNECTED");var u=this.createMixerMixParticipantData(r,i);this.onParticipantAdded(ne.fromData(u)),Oo(this,Po).forwardedParticipants.set(r,a)}if(a.id===Oo(this,jo).participant.id&&i.type===Xn.Camera){var c=a.videoTransmitting,l=i.getVideoTracks().length>0;c!==l&&(a.updateVideoTransmitting(l),Oo(this,Ao).onParticipantUpdated(a))}a.streams=a.streams.filter((function(e){return e.id!==i.id})),a.streams=a.streams.filter((function(e){return e.getTracks().length})),a.streams=a.streams.filter((function(e){return!(e.getAudioTracks().length&&"fakeAudioTrack"===e.getAudioTracks()[0].id)})),a.streams.push(i),Oo(this,Ao).onStreamUpdated(a,i)}},{key:"onStreamRemoved",value:function(e){var t=e.peerId,n=e.stream,r=this.participants.get(t);if(!r){if(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(t))return;return console.warn("Unable to find participant: ".concat(t)),Oo(this,Ao).onConferenceGlobalError(oe.fromData(vt(t))),void Oo(this,Ro).set(t,n)}Oo(this,Po).isRts()&&(r.updateVideoTransmitting(!1),r.updateAudioTransmitting(!1),r.updateStatus("LEFT"),Oo(this,Ao).onParticipantUpdated(r)),r.streams=r.streams.filter((function(e){return e.id!==n.id})),r.id===Oo(this,jo).participant.id&&n.type===Xn.Camera&&r.videoTransmitting&&(r.updateVideoTransmitting(!1),Oo(this,Po).isLeaving||Oo(this,Ao).onParticipantUpdated(r)),Oo(this,Ao).onStreamRemoved(r,n)}},{key:"createMixerMixParticipantData",value:function(e,t){var n,r,i=!!t&&(null===(n=t.getAudioTracks())||void 0===n?void 0:n.length)>0;return{user_id:e,externalId:"mixer_mix",name:"Mixer Mix",avatarUrl:"",status:"ON_AIR",metadata:{},participantType:"MIXER_MIX",audio:i,audioReceivingStopped:!i,video:!!t&&(null===(r=t.getVideoTracks())||void 0===r?void 0:r.length)>0}}}]),e}();jo=new WeakMap,Po=new WeakMap,Mo=new WeakMap,Io=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,Lo=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.ParticipantAdded,Ge.ParticipantUpdated,Ge.VideoForwardedChanged,Ge.AudioUpdated,Ge.StreamAdded,Ge.StreamUpdated,Ge.StreamRemoved])],Lo);var Fo,zo=Lo,Uo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};function Vo(e){return"".concat(e.name?e.name:"undefined",": ").concat(e.message?e.message:"undefined")}function Bo(e){var t="<image";return t+=" width:".concat(e.width),t+=" height:".concat(e.height),t+=" complete:".concat(e.complete),t+=">"}var Wo=function(){function e(){y(this,e),this.payload={}}return g(e,[{key:"addProcessor",value:function(e){return void 0!==e&&(null===e?this.payload.processor=null:(this.payload.processor={},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"type"in e&&(t.type=e.type),"image"in e&&(e.image instanceof HTMLImageElement?t.image=Bo(e.image):t.image=String(e.image))}(e,this.payload.processor),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"virtualBackground"in e&&(!1===e.virtualBackground||"bokeh"===e.virtualBackground?t.virtualBackground=e.virtualBackground:e.virtualBackground instanceof HTMLVideoElement?t.virtualBackground=function(e){var t="<video";return t+=" videoWidth:".concat(e.videoWidth),t+=" videoHeight:".concat(e.videoHeight),t+=" readyState:".concat(e.readyState),e.error&&(t+=" error:{code:".concat(e.error.code,", message:'").concat(e.error.message,"'}")),t+=">"}(e.virtualBackground):e.virtualBackground instanceof HTMLImageElement?t.virtualBackground=Bo(e.virtualBackground):t.virtualBackground=String(e.virtualBackground)),"facialSmoothing"in e&&(t.facialSmoothing=e.facialSmoothing),"autoBrightness"in e&&(t.autoBrightness=e.autoBrightness),"spotLight"in e&&(t.spotLight=e.spotLight),"noiseReduction"in e&&(t.noiseReduction=e.noiseReduction),"autoFraming"in e&&(t.autoFraming=e.autoFraming)}(e,this.payload.processor))),this}},{key:"addConstraints",value:function(e){return void 0!==e&&(this.payload.constraints=e),this}},{key:"build",value:function(){return this.payload}}]),e}(),Go=function(){function e(t){y(this,e),Fo.set(this,void 0),function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,n)}(this,Fo,t)}return g(e,[{key:"cameraVideoStarted",value:function(e,t,n){this.sendUserActionInfo({action:"CameraVideoStarted",description:"Camera video started",api:e,payload:[(new Wo).addConstraints(t).addProcessor(n).build()]})}},{key:"cameraVideoStartFailed",value:function(e,t,n,r){this.sendUserActionError({action:"CameraVideoStartFailed",description:t?Vo(t):"Camera video failed to start for an unknown reason",api:e,payload:[(new Wo).addConstraints(n).addProcessor(r).build()]})}},{key:"customVideoStarted",value:function(e,t){this.sendUserActionInfo({action:"CustomVideoStarted",description:"Custom video started",api:e,payload:[(new Wo).addProcessor(t).build()]})}},{key:"customVideoStartFailed",value:function(e,t,n){this.sendUserActionError({action:"CustomVideoStartFailed",description:t?Vo(t):"Custom video failed to start for an unknown reason",api:e,payload:[(new Wo).addProcessor(n).build()]})}},{key:"localVideoStopFailed",value:function(e,t){this.sendUserActionError({action:"LocalVideoStopFailed",description:t?Vo(t):"Local video failed to stop for an unknown reason",api:e})}},{key:"localVideoStopped",value:function(e){this.sendUserActionInfo({action:"LocalVideoStopped",description:"Local video stopped",api:e})}},{key:"videoProcessorDisabled",value:function(e){this.sendUserActionInfo({action:"VideoProcessorDisabled",description:"Video processor disabled",api:e})}},{key:"videoProcessorDisableFailed",value:function(e,t){this.sendUserActionError({action:"VideoProcessorDisableFailed",description:t?Vo(t):"Video processor failed to disable for an unknown reason",api:e})}},{key:"videoProcessorEnabled",value:function(e,t){this.sendUserActionInfo({action:"VideoProcessorEnabled",description:"Video processor enabled",api:e,payload:[(new Wo).addProcessor(t).build()]})}},{key:"videoProcessorEnableFailed",value:function(e,t,n){this.sendUserActionError({action:"VideoProcessorEnableFailed",description:t?Vo(t):"Video processor failed to enable for an unknown reason",api:e,payload:[(new Wo).addProcessor(n).build()]})}},{key:"videoConstraintsApplied",value:function(e,t){this.sendUserActionInfo({action:"VideoConstraintsApplied",description:"Video constraints applied",api:e,payload:[(new Wo).addConstraints(t).build()]})}},{key:"videoConstraintsApplyField",value:function(e,t,n){this.sendUserActionError({action:"VideoConstraintsApplyFailed",description:t?Vo(t):"Video constraints failed to apply for an unknown reason",api:e,payload:[(new Wo).addConstraints(n).build()]})}},{key:"sendUserActionInfo",value:function(e){this.send(new we(Object.assign(Object.assign({level:"info",component:Uo(this,Fo)},e),{timestamp:Date.now()})))}},{key:"sendUserActionError",value:function(e){this.send(new we(Object.assign(Object.assign({level:"error",component:Uo(this,Fo)},e),{timestamp:Date.now()})))}},{key:"send",value:function(e){setTimeout((function(){try{Je.send(e)}catch(e){console.warn(e)}}))}}]),e}();Fo=new WeakMap;var Ho,Yo,Zo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},qo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},$o=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this)).name="ExecutionTimeoutError",r.message=e,r}return g(n)}(_(Error)),Ko=function(){function e(t){y(this,e),this.kDefaultmaxExecutionTimeMsMs=5e3,Ho.set(this,this.kDefaultmaxExecutionTimeMsMs),Yo.set(this,Promise.resolve()),Zo(this,Ho,null!=t?t:this.kDefaultmaxExecutionTimeMsMs)}return g(e,[{key:"execute",value:function(t,n){var r=this,i=n||{},a=i.customMaxExecutionTimeMs,o=i.info;return new Promise((function(n,i){var s=Symbol(),u="number"==typeof a?a:qo(r,Ho);Zo(r,Yo,qo(r,Yo).then((function(){var n=t();return e.isPromise(n)?r.waitForFulfillment(n,s,u):n})).then((function(e){return n(e)})).catch((function(e){if(e===s){var n=t.name?"'".concat(t.name,"'"):"anonymous function";e=new $o("".concat(n," ").concat(o?"(".concat(o,") "):"","execution timeout, limit: ").concat(u,"[ms]"))}i(e)})))}))}},{key:"waitForFulfillment",value:function(e,t,n){var r;return Promise.race([e,new Promise((function(e,i){r=setTimeout(i,n,t)}))]).finally((function(){return clearTimeout(r)}))}}],[{key:"isPromise",value:function(e){return"object"==typeof e&&"function"==typeof e.then}}]),e}();Ho=new WeakMap,Yo=new WeakMap;var Xo,Jo,Qo,es,ts,ns,rs,is,as,os,ss,us,cs,ls,ds,fs,ps=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},hs=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},ms=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},vs=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Ye()("vxt:confservice"),function(e){e.Created="created",e.Joined="joined",e.Left="left",e.Ended="ended",e.Destroyed="destroyed",e.Stats="stats",e.Switched="switched",e.Error="error",e.QualityIndicators="qualityIndicators",e.ParticipantAdded="participantAdded",e.ParticipantUpdated="participantUpdated",e.ParticipantLeft="participantLeft",e.AutoplayBlocked="autoplayBlocked",e.StreamAdded="streamAdded",e.StreamUpdated="streamUpdated",e.StreamRemoved="streamRemoved",e.PermissionsUpdated="permissionsUpdated"}(fs||(fs={}));var gs="ConferenceService",ys=function(e){k(n,e);var t=b(n);function n(e,r,i,a,o,s,u){var c;y(this,n),c=t.call(this,e),Xo.set(d(c),void 0),Jo.set(d(c),void 0),Qo.set(d(c),void 0),es.set(d(c),void 0),ts.set(d(c),void 0),ns.set(d(c),!0),rs.set(d(c),void 0),is.set(d(c),void 0),as.set(d(c),null),os.set(d(c),!1),ss.set(d(c),void 0),us.set(d(c),void 0),cs.set(d(c),void 0),ls.set(d(c),void 0),ds.set(d(c),new Go(gs)),ms(d(c),Jo,r),ms(d(c),Xo,new(function(){function e(t,n,r){y(this,e),Vi.set(this,void 0),Bi.set(this,void 0),Wi.set(this,void 0),Gi.set(this,void 0),Hi.set(this,void 0),Yi.set(this,void 0),Zi.set(this,void 0),qi.set(this,void 0),$i.set(this,new Map),Ki.set(this,new Map),Xi.set(this,void 0),Ji.set(this,void 0),Qi.set(this,new Array),ea.set(this,void 0),ta.set(this,void 0),na.set(this,!1),ra.set(this,void 0),ia.set(this,!1),aa.set(this,void 0),oa.set(this,void 0),sa.set(this,void 0),ua.set(this,void 0),ca.set(this,void 0),la.set(this,void 0),da.set(this,!0),fa.set(this,new Array),pa.set(this,void 0),ha.set(this,0),ka(this,Bi,t),ka(this,la,n),ka(this,Vi,r)}return g(e,[{key:"rtc",get:function(){return ba(this,ca)},set:function(e){ka(this,ca,e)}},{key:"initialRenegotiableOptions",get:function(){return ba(this,qi)}},{key:"getRenegotiableJoinOptions",value:function(){var e=ba(this,Zi),t=e.audioBitrate,n=e.preferSendMono;return{audioBitrate:t||ga,preferSendMono:n}}},{key:"updateRenegotiableJoinOptions",value:function(e){ka(this,Zi,Object.assign(Object.assign({},ba(this,Zi)),e))}},{key:"applyNewJoinOptions",value:function(e){var t,n,r,i,a={};(null===(t=ba(this,Zi))||void 0===t?void 0:t.audioBitrate)&&!(null==e?void 0:e.audioBitrate)&&(a.audioBitrate=null===(n=ba(this,Zi))||void 0===n?void 0:n.audioBitrate),void 0===(null===(r=ba(this,Zi))||void 0===r?void 0:r.preferSendMono)||void 0!==(null==e?void 0:e.preferSendMono)&&null!==(null==e?void 0:e.preferSendMono)||(a.preferSendMono=null===(i=ba(this,Zi))||void 0===i?void 0:i.preferSendMono),ka(this,Zi,Object.assign(Object.assign({},e),a)),ka(this,qi,{audioBitrate:e.audioBitrate||ga,preferSendMono:void 0===e.preferSendMono||e.preferSendMono})}},{key:"isLeaving",get:function(){return ba(this,ra)}},{key:"maxVideoForwarding",get:function(){return ba(this,Xi)}},{key:"videoForwardingStrategy",get:function(){return ba(this,Ji)}},{key:"forwardingParticipantList",get:function(){return ba(this,Qi)}},{key:"participants",get:function(){return ba(this,$i)}},{key:"forwardedParticipants",get:function(){return ba(this,Ki)}},{key:"listenOnly",get:function(){return ba(this,ia)}},{key:"isAudioOnly",get:function(){return ba(this,na)}},{key:"getPeerConnectionStatus",value:function(){return ba(this,oa)}},{key:"isDvwc",value:function(){return ba(this,ca)instanceof Ci}},{key:"isRts",value:function(){return ba(this,ca)instanceof Oi}},{key:"isCustomAudio",value:function(){return this.rtc.customAudio}},{key:"isElectron",value:function(){return ba(this,ca)instanceof ai}},{key:"isOpus",value:function(){return ba(this,ca)instanceof ti}},{key:"isDapm",value:function(){return ba(this,ca)instanceof ti&&ba(this,ca).isDapm()}},{key:"init",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return ya(this,void 0,void 0,p().mark((function u(){var c,l,d=this;return p().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return this.clear(),ka(this,Wi,t),ka(this,Hi,e.id),ka(this,Yi,e),this.applyNewJoinOptions(n),ka(this,sa,r),ka(this,ia,i),a.participantsGetter=function(){return ba(d,$i)},ba(this,Zi).mixing.enabled&&ka(this,ia,!0),u.prev=1,u.prev=2,u.next=5,this.onInitialized(a,o,s);case 5:c=u.sent,u.next=11;break;case 8:u.prev=8,u.t0=u.catch(2),function(e){if(108==e.code&&403==e.status)throw new Qe("MaxCapacityError","Conference is at maximum capacity.");throw e}(u.t0);case 11:return ba(this,Zi).videoFilter&&(l={filter:ba(this,Zi).videoFilter,filterOptions:Object.assign({},ba(this,Zi).videoFilterOptions)},Je.send(We.ConferenceVideoFilterUpdate.fromData(l))),u.abrupt("return",c);case 15:throw u.prev=15,u.t1=u.catch(1),Je.send(We.ConferenceGlobalError.fromData(u.t1)),this.releaseRtc(),ba(this,pa)&&ba(this,pa).stop(),ka(this,pa,null),u.t1;case 18:case"end":return u.stop()}}),u,this,[[1,15],[2,8]])})))}},{key:"clear",value:function(){ba(this,pa)&&ba(this,pa).stop(),ka(this,pa,null),ka(this,Gi,null),ka(this,ra,!1),ka(this,Hi,null),ka(this,aa,[]),ka(this,oa,""),ka(this,$i,new Map),ka(this,Ki,new Map),ka(this,aa,[]),ka(this,ca,null)}},{key:"videoForwarding",value:function(e,t,n){var r=this,i=[];return n&&n.forEach((function(e,t){i.push(new Ii(e.id,0))})),Gt.conferences.videoForwarding({conferenceId:ba(this,Gi),data:{forwardingStrategy:{type:e,params:{maxActiveStreams:t}},forwardingVideoList:i}}).then((function(){ka(r,Xi,t),ka(r,Ji,e),ka(r,Qi,n)})).catch((function(e){throw new ut(e.message)}))}},{key:"updatePermissions",value:function(e){return Gt.conferences.updatePermissions({conferenceId:ba(this,Gi),data:{userPermissions:e.map((function(e){return{newPermissions:e.permissions,userId:e.participant.id}}))}})}},{key:"initRtc",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;return ya(this,void 0,void 0,p().mark((function h(){var m,v,g;return p().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.t0=e,p.next=3,ba(this,Vi).call(this);case 3:if(p.t1=p.sent,p.t2=n,p.t3=!!r,p.t4=i,p.t5=a,p.t6=o,p.t7=s,p.t8=u,p.t9=d,p.t10=f,p.t11=c,m={constraints:p.t0,captureMode:p.t1,processCb:p.t2,listenOnly:p.t3,ownerId:p.t4,options:p.t5,mixing:p.t6,alias:p.t7,dvwc:p.t8,videoTrack:p.t9,audioTrack:p.t10,dolbyVoice:p.t11},!Bn.isAvailable()){p.next=22;break}return ka(this,ca,new ai(l)),this.registerRtcEvents(),p.next=20,ba(this,ca).init(m);case 20:p.next=47;break;case 22:if((null===(t=r)||void 0===t?void 0:t.type)!==P.Mixed){p.next=29;break}return ka(this,ca,new Oi(l)),this.registerRtcEvents(),p.next=27,ba(this,ca).init(m);case 27:p.next=47;break;case 29:if(!u){p.next=40;break}return p.prev=30,ka(this,ca,new Ci(l)),this.registerRtcEvents(),p.next=35,ba(this,ca).init(m);case 35:p.next=40;break;case 37:p.prev=37,p.t12=p.catch(30),Rr.warn("Falling back to Opus"),Je.send(We.ConferenceGlobalError.fromData((g=p.t12.message,new Qe("DolbyVoiceInitError","Unable to use Dolby Voice, fallback to default settings. Reason: "+g)))),ka(this,ca,null);case 40:if(u&&(!u||ba(this,ca))){p.next=47;break}return ka(this,ca,ni.create(l)),this.registerRtcEvents(),ba(this,ea)&&(v=!0===e.audio?ba(this,ea):!1!==e.audio&&Object.assign(Object.assign({},ba(this,ea)),e.audio),m.constraints.audio=v),p.next=46,ba(this,ca).init(m);case 46:!1===v&&ba(this,ca).preserveAudioConstraintsSettings(ba(this,ea));case 47:case"end":return p.stop()}}),h,this,[[30,37]])})))}},{key:"buildConstraints",value:function(e,t){var n,r;return ya(this,void 0,void 0,p().mark((function i(){var a,o;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ba(this,Vi).call(this);case 2:a=i.sent,o=a.mode===kr.Unprocessed||a.mode===kr.Music||a.mode===kr.Standard&&"low"===(null===(n=a.modeOptions)||void 0===n?void 0:n.noiseReductionLevel),ba(this,Zi).constraints=pr({requestedConstraints:ba(this,Zi).constraints,mixingEnabled:null===(r=ba(this,Zi).mixing)||void 0===r?void 0:r.enabled,dolbyProcessing:e,dapm:t},o);case 5:case"end":return i.stop()}}),i,this)})))}},{key:"registerRtcEvents",value:function(){ba(this,ca).on("sessionCreated",this.onSessionCreated.bind(this)),ba(this,ca).on("sessionEnded",this.onRtcSessionEnded.bind(this)),ba(this,ca).on("reconnect",this.onReconnect.bind(this)),ba(this,ca).on("error",this.onRtcError.bind(this)),ba(this,ca).on("autoplayBlocked",this.onAutoplayBlocked.bind(this)),ba(this,ca).on("addStream",this.onStreamAdded.bind(this)),ba(this,ca).on("updateStream",this.onStreamUpdated.bind(this)),ba(this,ca).on("removeStream",this.onStreamRemoved.bind(this)),ba(this,ca).on("addScreenStream",this.onScreenStreamAdded.bind(this)),ba(this,ca).on("removeScreenStream",this.onScreenStreamRemoved.bind(this)),ba(this,ca).on("updateScreenStream",this.onScreenStreamUpdated.bind(this)),ba(this,ca).on("endedScreenStream",this.onScreenStreamEnded.bind(this)),ba(this,ca).on("connectionStatus",this.onPeerConnectionStatus.bind(this)),ba(this,ca).on("iceCandidatesGatheringComplete",this.onIceCandidatesGatheringComplete.bind(this)),ba(this,ca).on("onBandwidthRestrictionChanged",this.onBandwidthRestrictionChanged.bind(this)),ba(this,ca).on("onTrackEnded",this.onRtcTrackEnded.bind(this)),ba(this,ca).on("onTrackMute",this.onAudioMute.bind(this)),ba(this,ca).on("onDnrStatusChange",this.onDnrStatusChange.bind(this)),ba(this,ca).on("traceRtcEvent",this.onTraceRtcEvent.bind(this))}},{key:"onTraceRtcEvent",value:function(e){Je.send(e)}},{key:"startRtsView",value:function(e,t,n){return ya(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=ba(this,ca)instanceof Oi,!r.t0){r.next=4;break}return r.next=4,ba(this,ca).startRtsView(e,t,n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"stopRtsView",value:function(){return ya(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ba(this,ca)instanceof Oi&&ba(this,ca).stopRtsView();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onInitialized",value:function(e,t,n){var r,i,a,o,s,u,c,l,d,f,h,m,v,k,b;return ya(this,void 0,void 0,p().mark((function _(){var w,S,x,E,T,C,j,M,I,R=this;return p().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return Rr.trace("Conference.onInitialized"),w=Fn.isChrome||Fn.isEdge,S=!this.isDvwc()&&mr()&&w,p.next=4,this.buildConstraints(null===(r=e.params)||void 0===r?void 0:r.dolbyVoice,S);case 4:return x=Object.assign({},ba(this,Zi)),ba(this,Zi).dvwc&&(x.dvwc=!0),ba(this,Yi).updateAudioTransmitting((null===(i=ba(this,Zi).constraints)||void 0===i?void 0:i.audio)&&!ba(this,ia)),(null===(a=ba(this,Zi).constraints)||void 0===a?void 0:a.video)&&!ba(this,ia)&&ba(this,Yi).updateVideoTransmitting(!0),ba(this,Yi).status=Ee.CONNECTING,this.participants.set(ba(this,Hi),ba(this,Yi)),E={conferenceId:ba(this,Wi),data:{sync:!0,sdp_version:ni.sdpVersion(),user:{type:ba(this,ia)?"listener":"user"},options:Object.assign(Object.assign({},x),{listenMode:null===(o=ba(this,ia))||void 0===o?void 0:o.type})}},ba(this,Zi).hasOwnProperty("maxVideoForwarding")&&ka(this,Xi,ba(this,Zi).maxVideoForwarding),ba(this,Zi).forwardingStrategy&&ka(this,Ji,ba(this,Zi).forwardingStrategy),ba(this,Zi).mixing.enabled&&(E.data.user.type="mixer"),p.prev=8,p.next=11,Gt.conferences.joinRoom(E);case 11:return T=p.sent,C=T.data,p.t0=ka,p.t1=this,p.t2=ea,p.t3=Object,p.t4={},p.t5=Lr,p.next=21,ba(this,Vi).call(this);case 21:return p.t6=p.sent,p.t7=Nr(C.dvwc,null===(s=e.params)||void 0===s?void 0:s.dolbyVoice),p.t8=S,p.t9=(0,p.t5)(p.t6,p.t7,p.t8),p.t10=p.t3.assign.call(p.t3,p.t4,p.t9),(0,p.t0)(p.t1,p.t2,p.t10),_a("JoinConference:",C),ka(this,Gi,C.conferenceId),"NONE"===(null===(u=null==C?void 0:C.metadata)||void 0===u?void 0:u.videoCodec)&&(ka(this,na,!0),ba(this,Zi).constraints.video=!1,t&&(t=null)),Fn.isFirefox&&"H264"===(null===(c=null==C?void 0:C.metadata)||void 0===c?void 0:c.videoCodec)&&(ba(this,Zi).simulcast=!1),"true"===(null===(l=null==C?void 0:C.metadata)||void 0===l?void 0:l.dolbyVoice)&&((null===(h=null===(f=null===(d=ba(this,Zi))||void 0===d?void 0:d.constraints)||void 0===f?void 0:f.audio)||void 0===h?void 0:h.channelCount)&&1!==ba(this,Zi).constraints.audio.channelCount&&(ba(this,Zi).constraints.audio.channelCount=1),(null===(m=ba(this,Zi))||void 0===m?void 0:m.audioBitrate)&&(ba(this,Zi).audioBitrate=null)),p.next=34,this.initRtc(ba(this,Zi).constraints,ba(this,sa),ba(this,ia),ba(this,Hi),ba(this,Zi),ba(this,Zi).mixing,ba(this,Wi),ni.createDvwcOptions(ba(this,Zi).dvwc,{enabled:C.wasmCandidates&&C.wasmDescription}),null===(v=e.params)||void 0===v?void 0:v.dolbyVoice,ba(this,la),t,n);case 34:if(ka(this,pa,new(function(){function e(t){y(this,e),_i.set(this,null),wi.set(this,new Array),Si.set(this,void 0),xi.set(this,!1),ji(this,_i,t)}return g(e,[{key:"start",value:function(){ji(this,Si,setInterval(this.run.bind(this),100))}},{key:"stop",value:function(){Pi(this,Si)&&clearInterval(Pi(this,Si))}},{key:"run",value:function(){var e=this;if(Pi(this,wi).length>0&&Pi(this,_i).call(this)&&!Pi(this,xi)){ji(this,xi,!0);var t=Pi(this,wi).shift();t.fn().then((function(n){t.resolve(n),ji(e,xi,!1)})).catch((function(n){t.reject(n),ji(e,xi,!1)}))}}},{key:"push",value:function(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return new Promise((function(r,a){var o=new Mi(r,a,t.bind.apply(t,[e].concat(i)));Pi(n,wi).push(o)}))}}]),e}())(ba(this,ca).isPeerConnectionStable.bind(ba(this,ca)))),ba(this,pa).start(),j=(null===(k=ba(this,ia))||void 0===k?void 0:k.type)===P.Mixed,M={conferenceId:C.conferenceId,conferenceAlias:C.conferenceAlias,conferenceType:C.conferenceType,conferencePincode:C.conferencePincode,metadata:Object.assign(Object.assign({},C.metadata),{rtsViewer:j}),recordingStatus:C.recordingStatus,recordingUser:C.recordingUser,startRecordTimestamp:C.startRecordTimestamp,listenOnly:ba(this,ia)},Je.send(We.ConferenceJoined.fromData(M)),j||C.participants&&C.participants.map((function(e){e.user_id=e.participant_id,Je.send(ne.fromData(e))})),C.hasOwnProperty("vfs")&&void 0!==C.vfs.defaultMaxVideoForwarded?ka(this,Xi,C.vfs.defaultMaxVideoForwarded):ka(this,Xi,25),e.params=$.fromJoinData(C.metadata),!C.description&&!C.wasmDescription){p.next=44;break}return this.updateOfferTimestamp(this.getOfferTimestamp(C.description.oid)),I={peerId:ba(this,Hi),description:C.description,candidates:C.candidates,wasmDescription:C.wasmDescription,wasmCandidates:C.wasmCandidates,isMaster:!0},p.next=42,ba(this,ca).addPeer(I);case 42:p.next=48;break;case 44:if(p.t11=j,!p.t11){p.next=48;break}return p.next=48,ba(this,ca).ensurePeer({peerId:ba(this,Hi),isMaster:!0});case 48:if(p.t12=j&&"in_progress"===(null===(b=null==C?void 0:C.rtsInfo)||void 0===b?void 0:b.status),!p.t12){p.next=52;break}return p.next=52,this.startRtsView(C.rtsInfo.streamName,C.rtsInfo.streamAccountId,C.rtsInfo.subscribeToken);case 52:return setTimeout((function(){"checking"===ba(R,oa)&&Je.send(We.ConferenceGlobalError.fromData(yt(ba(R,Hi))))}),25e3),p.abrupt("return",M);case 56:if(p.prev=56,p.t13=p.catch(8),2170!==p.t13.code){p.next=60;break}throw new ut(p.t13.message);case 60:throw ka(this,Gi,null),Rr.error("webrtc","Failed to join conference",p.t13),Je.send(We.ConferenceGlobalError.fromData(p.t13)),p.t13;case 61:case"end":return p.stop()}}),_,this,[[8,56]])})))}},{key:"onSessionCreated",value:function(e,t,n,r,i,a,o){_a("Conference.onSessionCreated",e,t,a,o),t.sdp,Je.send(We.ConferenceGlobalTrace.fromData({api:"onSessionCreated",description:"Send answer",data:{oid:a}})),Gt.conferences.answer({conferenceId:ba(this,Gi),peerId:e,data:{oid:a,sdp:t.sdp,candidates:n,ssMsid:r,state:i,wasm:o}}).then((function(e){Rr.debug(e)})).catch((function(e){Rr.error("webrtc",e),Je.send(We.ConferenceGlobalError.fromData(e))}))}},{key:"onRtcSessionEnded",value:function(e){var t=!0===ba(this,da)?We.ConferenceLeft.fromData(e):new We.ConferenceLeft;Je.send(t)}},{key:"onRtcError",value:function(e){Je.send(We.ConferenceGlobalError.fromData(e))}},{key:"onIceCandidatesGatheringComplete",value:function(e,t){Rr.trace("Conference.onIceCandidatesGatheringComplete",e,t),Gt.conferences.candidates({conferenceId:ba(this,Gi),peerId:e,data:{commandType:"CandidatesGatheredCommand",candidates:t}}).then((function(e){Rr.debug(e)})).catch((function(e){Rr.error("webrtc",e),Je.send(We.ConferenceGlobalError.fromData(e))}))}},{key:"onPeerConnectionStatus",value:function(e){var t;ba(this,Bi)&&(e.peerId===ba(this,Hi)&&ka(this,oa,e.connectionStatus),"failed"===e.connectionStatus?Je.send(We.ConferenceGlobalError.fromData(yt(e.peerId))):"disconnected"===e.connectionStatus&&Je.send(We.ConferenceGlobalError.fromData((t=e.peerId,new et("PeerConnectionDisconnectedError","Peer connection has been disconnected",t)))))}},{key:"onRenegociationEnded",value:function(e){ba(this,Bi)}},{key:"onAutoplayBlocked",value:function(){ba(this,Bi)&&ba(this,Bi).onAutoplayBlocked()}},{key:"onStreamAdded",value:function(e,t){Je.send(We.StreamAdded.fromData({peerId:e,stream:t}))}},{key:"onStreamUpdated",value:function(e,t){Je.send(We.StreamUpdated.fromData({peerId:e,stream:t}))}},{key:"onStreamRemoved",value:function(e,t){Je.send(We.StreamRemoved.fromData({peerId:e,stream:t}))}},{key:"onScreenStreamAdded",value:function(e,t){Je.send(We.StreamAdded.fromData({peerId:e,stream:t}))}},{key:"onScreenStreamRemoved",value:function(e,t){Je.send(We.StreamRemoved.fromData({peerId:e,stream:t}))}},{key:"onScreenStreamUpdated",value:function(e,t){Je.send(We.StreamUpdated.fromData({peerId:e,stream:t}))}},{key:"onScreenStreamEnded",value:function(){this.stopScreenShare()}},{key:"onReconnect",value:function(){var e=this,t={conferenceId:ba(this,Gi),data:{pcWasm:this.isDvwc(),recreate:!0}};return Gt.conferences.postRenegociate(t).then((function(t){if(!t.data||!t.data.description)throw e.releaseRtc(),new Error("Failed to negociate SDP");return t.data.description.oid,{peerId:ba(e,Hi),description:t.data.description,candidates:t.data.candidates}})).then((function(t){ba(e,ca).renegociate(t)})).catch((function(t){throw e.releaseRtc(),new Error("Failed to negociate connection")})),Promise.resolve()}},{key:"onRtcTrackEnded",value:function(e){Je.send(We.ConferenceGlobalError.fromData(e))}},{key:"onAudioMute",value:function(e,t){Je.send(new we({level:"info",action:"MuteStateChanged",description:"The mute state has been updated.",component:"ConferenceService",api:"mute",payload:[{mute:e,participantId:t}]}))}},{key:"onDnrStatusChange",value:function(e){Je.send(new we({level:"info",action:"DnrStatusChanged",description:"The dnr status has been updated.",component:"ConferenceService",api:"dnr",payload:[{enabled:e}]}))}},{key:"getOfferTimestamp",value:function(e){if("string"==typeof e)return Number(e.split(":")[0])}},{key:"updateOfferTimestamp",value:function(e){e&&e>ba(this,ha)&&ka(this,ha,e)}},{key:"isOfferOutdated",value:function(e,t){return(!t||t<ba(this,ha))&&(console.warn("Received outdated offer. OID: "+e),!0)}},{key:"setRemoteOffer",value:function(e){var t,n;return ya(this,void 0,void 0,p().mark((function r(){var i,a,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(_a("setRemoteOffer",e),i=this.getOfferTimestamp(null===(t=null==e?void 0:e.description)||void 0===t?void 0:t.oid),this.isOfferOutdated(null===(n=null==e?void 0:e.description)||void 0===n?void 0:n.oid,i)){r.next=14;break}if(this.updateOfferTimestamp(i),ba(this,$i).get(e.userId)||Je.send(ne.fromData({user_id:e.userId})),ba(this,$i).get(e.userId)||e.userId===ba(this,Hi)){r.next=5;break}throw o=e.userId,new it("NotFoundError","Unable to find participant: "+o);case 5:return a={peerId:e.userId,description:e.description,candidates:e.candidates,isMaster:e.master,state:e.state},r.prev=6,r.next=9,ba(this,pa).push(ba(this,ca),ba(this,ca).addPeer,a);case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(6),Je.send(We.ConferenceGlobalError.fromData(r.t0));case 14:case"end":return r.stop()}}),r,this,[[6,11]])})))}},{key:"addParticipant",value:function(e){_a("addUser",e);var t=ba(this,$i).get(e.userId);return t||((t=new Pe(e.userId,e.participantType)).init(e),ba(this,$i).set(e.userId,t)),t}},{key:"updateParticipant",value:function(e){_a("updateUser",e);var t=ba(this,$i).get(e.userId);return t?(e.audioReceivingStopped=e.audioReceivingStopped||e.userId===ba(this,Hi),e.userId===ba(this,Hi)?e.video=t.videoTransmitting:t.updateAudioTransmitting(e.audio||!1),t.update(e),"INACTIVE"===e.status&&e.userId!==ba(this,Hi)&&ba(this,ca).ensurePeer({peerId:e.userId,isMaster:!1}),"LEFT"===e.status?ba(this,ca).removePeer(e.userId):this.isElectron()&&this.rtc.addFakePeer(e.userId)):e.userId===ba(this,Hi)||(t=this.addParticipant(e)),t}},{key:"participantSwitched",value:function(e){_a("userSwitched"),ba(this,ca)}},{key:"onConferenceStats",value:function(e){}},{key:"stopVideoLocally",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.checkInitialized();case 3:return t.next=5,ba(this,ca).stopVideoForPeer(e);case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"stopVideoForLocalPeer",value:function(){return ya(this,void 0,void 0,p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkInitialized();case 3:return e.next=5,ba(this,ca).stopVideoForPeer(ba(this,Hi));case 5:return e.next=7,Gt.conferences.stopMedia({conferenceId:ba(this,Gi),peerId:ba(this,Hi),data:{index:0,label:"camera",media:["video"]}});case 7:if((t=e.sent).data&&t.data.description){e.next=10;break}throw new Error("Empty server response for stop video");case 10:return n=t.data.description,e.next=13,this.pushRemoteOffer(n);case 13:return e.next=15,ba(this,ca).createAnswer(ba(this,Hi),"default",n.oid);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),Rr.error(e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[0,17]])})))}},{key:"stopVideoForRemotePeer",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.checkInitialized();case 3:return t.next=5,ba(this,ca).stopVideoForPeer(e);case 5:return t.next=7,Gt.conferences.stopMedia({conferenceId:ba(this,Gi),peerId:e,data:{index:0,label:"camera",media:["video"]}});case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),Je.send(We.ConferenceGlobalError.fromData(t.t0)),Rr.error(t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"startVideoForLocalPeer",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,t.next=4,this.checkInitialized();case 4:return t.next=6,Gt.conferences.startMedia({conferenceId:ba(this,Gi),peerId:ba(this,Hi),data:{index:0,label:"camera",media:["video"]}});case 6:if((r=t.sent).data&&r.data.description){t.next=9;break}throw new Error("Empty server response for start video");case 9:return n=r.data.description.oid,i=r.data.description,t.next=13,ba(this,pa).push(ba(this,ca),ba(this,ca).setRemoteSdp,ba(this,Hi),i,"");case 13:return t.next=15,ba(this,ca).startVideoForPeer(ba(this,Hi),e);case 15:return t.next=17,ba(this,ca).createAnswer(ba(this,Hi),"default",n);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(1),n&&ba(this,ca).createAnswer(ba(this,Hi),"default",n),Rr.error(t.t0),t.t0;case 22:case"end":return t.stop()}}),t,this,[[1,19]])})))}},{key:"startVideoForRemotePeer",value:function(e,t){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.checkInitialized();case 3:return t.next=5,Gt.conferences.startMedia({conferenceId:ba(this,Gi),peerId:e,data:{index:0,label:"camera",media:["video"]}});case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),Je.send(We.ConferenceGlobalError.fromData(t.t0)),t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"stopAudioForLocalPeer",value:function(){return ya(this,void 0,void 0,p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkInitialized();case 3:return ba(this,Yi).updateAudioTransmitting(!1),e.next=6,ba(this,ca).stopAudioForPeer(ba(this,Hi));case 6:return e.next=8,Gt.conferences.stopMedia(this.createRequestConferenceMediaPayload("audio"));case 8:if(t=e.sent,(n=t.data)&&n.description){e.next=12;break}throw new Error("Empty server response for stop audio");case 12:return e.next=14,this.pushRemoteOffer(n.description);case 14:return e.next=16,ba(this,ca).createAnswer(ba(this,Hi),"default",n.description.oid);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),ba(this,Yi).updateAudioTransmitting(!0),e.t0;case 21:case"end":return e.stop()}}),e,this,[[0,18]])})))}},{key:"stopAudioForRemotePeer",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.checkInitialized();case 3:return t.next=5,ba(this,ca).stopAudioForPeer(e);case 5:return t.next=7,Gt.conferences.stopMedia(this.createRequestConferenceMediaPayload("audio",e));case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),Je.send(We.ConferenceGlobalError.fromData(t.t0)),Rr.error(t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"startAudioForLocalPeer",value:function(e){var t,n;return ya(this,void 0,void 0,p().mark((function r(){var i,a,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.checkInitialized();case 3:return r.next=5,Gt.conferences.startMedia(this.createRequestConferenceMediaPayload("audio"));case 5:if((i=r.sent).data&&i.data.description){r.next=8;break}throw new Error("Empty server response for start audio");case 8:return r.next=10,Ui(this.pushRemoteOffer(i.data.description),zi,"startAudioForLocalPeer (pushRemoteOffer)");case 10:return ba(this,Yi).updateAudioTransmitting(!0),r.next=13,ba(this,Vi).call(this);case 13:return a=r.sent,r.next=16,Ui(ba(this,ca).startAudioForPeer(ba(this,Hi),e,a),2*Fi,"startAudioForLocalPeer (rtc.startAudioForPeer)");case 16:return o=r.sent,r.next=19,Ui(ba(this,ca).createAnswer(ba(this,Hi),"default",i.data.description.oid),zi,"startAudioForLocalPeer (rtc.createAnswer)");case 19:return r.abrupt("return",o);case 22:throw r.prev=22,r.t0=r.catch(0),ba(this,Yi).updateAudioTransmitting(!1),(null===(n=null===(t=i.data)||void 0===t?void 0:t.description)||void 0===n?void 0:n.oid)&&ba(this,ca).createAnswer(ba(this,Hi),"default",i.data.description.oid),Rr.error(r.t0),r.t0;case 25:case"end":return r.stop()}}),r,this,[[0,22]])})))}},{key:"startAudioForRemotePeer",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.checkInitialized();case 3:return t.next=5,Gt.conferences.startMedia(this.createRequestConferenceMediaPayload("audio",e));case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),Je.send(We.ConferenceGlobalError.fromData(t.t0)),Rr.error(t.t0),t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"startStream",value:function(e,t){var n=this,r=new Array,i=ba(this,ca).peers.find((function(e){return e.isMaster})),a=null;return e.getAudioTracks().length>0&&r.push("audio"),e.getVideoTracks().length>0&&r.push("video"),this.checkInitialized().then((function(){return Gt.conferences.startMedia({conferenceId:ba(n,Gi),peerId:ba(n,Hi),data:{index:2,label:"custom",media:r}})})).then((function(e){if(!e.data||!e.data.description)throw new Error("Empty server response for start audio");return a=e.data.description.oid,e.data.description})).then((function(e){return n.pushRemoteOffer(e)})).then((function(){return ba(n,ca).addStream(e,i.connection,2)})).then((function(){return ba(n,ca).createAnswer(ba(n,Hi),"default",a)})).catch((function(e){throw Rr.error(e),Je.send(We.ConferenceGlobalError.fromData(e)),e}))}},{key:"pushRemoteOffer",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getOfferTimestamp(null==e?void 0:e.oid),t.t0=this.isOfferOutdated(null==e?void 0:e.oid,n),t.t0){t.next=6;break}return this.updateOfferTimestamp(n),t.next=6,ba(this,pa).push(ba(this,ca),ba(this,ca).setRemoteSdp,ba(this,Hi),e,"");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"stopStream",value:function(e){}},{key:"selectAudioInput",value:function(e){var t=this;return this.checkInitialized().then((function(){return ba(t,ca).selectAudioInput(e)})).catch((function(e){throw Je.send(We.ConferenceGlobalError.fromData(e)),e}))}},{key:"onLocalVideoUpdated",value:function(e){return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkInitialized();case 2:return t.abrupt("return",ba(this,ca).updateLocalVideo(e));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"selectVideoInput",value:function(e,t){var n=this;return this.checkInitialized().then((function(){return ba(n,ca).selectVideoInput(e,t)})).catch((function(e){throw Je.send(We.ConferenceGlobalError.fromData(e)),e}))}},{key:"startScreenShare",value:function(e){var t=this,n=null,r=null,i="audioshare",a="screenshare";return ba(this,ca).startScreenShare(e).then((function(e){return n=e,Gt.screen.start({conferenceId:ba(t,Gi)}).then((function(e){if(!e.data||!e.data.description)throw new Error("Empty server response for start audio");return r=e.data.description.oid,i=e.data.ssAudioMid,a=e.data.ssVideoMid,e.data.description})).then((function(e){return t.pushRemoteOffer(e)})).then((function(){return ba(t,ca).addMasterScreenStream(n,i,a)})).then((function(){return ba(t,ca).createAnswer(ba(t,Hi),"default",r)})).catch((function(e){throw t.releaseScreenShare(),Je.send(We.ConferenceGlobalError.fromData(e)),e}))}))}},{key:"changeScreenShare",value:function(e){var t=this,n=null;return ba(this,ca)?ba(this,ca).changeScreenShare(e).then((function(){return Gt.conferences.renegociate({conferenceId:ba(t,Gi)})})).then((function(e){if(!e.data||!e.data.description)throw new Error("Empty server response");return n=e.data.description.oid,e.data.description})).then((function(e){return t.pushRemoteOffer(e)})).then((function(){return ba(t,ca).createAnswer(ba(t,Hi),"default",n)})).catch((function(e){throw Rr.error(e),Je.send(We.ConferenceGlobalError.fromData(e)),e})):Promise.reject(kt())}},{key:"stopScreenShareLocally",value:function(){var e=this;return this.checkInitialized().then((function(){return ba(e,ca).stopScreenShare()}))}},{key:"releaseScreenShare",value:function(){return ya(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkInitialized();case 3:ba(this,ca).releaseScreenShare(),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"stopScreenShare",value:function(){var e=this,t=null;return this.checkInitialized().then((function(){return ba(e,ca).stopScreenShare()})).then((function(){if(!ba(e,ra))return Gt.screen.stop({conferenceId:ba(e,Gi)}).then((function(e){if(!e.data||!e.data.description)throw new Error("Empty server response");return t=e.data.description.oid,e.data.description})).then((function(t){return e.pushRemoteOffer(t)})).then((function(){return ba(e,ca).createAnswer(ba(e,Hi),"default",t)})).catch((function(e){throw Je.send(We.ConferenceGlobalError.fromData(e)),e}))}))}},{key:"meanOpinionScore",value:function(){var e=ba(this,aa).map((function(e){return e.packetLost})).reduce((function(e,t){return e+t}))/ba(this,aa).length;return Math.max(1,Math.ceil(5-5*e/20))}},{key:"leave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.leaveRoom,n=void 0===t||t,r=e.reason,i=void 0===r?"hangUp":r,a=e.keepAlive,o=void 0!==a&&a;return ya(this,void 0,void 0,p().mark((function e(){var t,r,a=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je.send(new We.ConferenceLeaving),ba(this,pa)&&ba(this,pa).stop(),ka(this,ra,!0),ba(this,ca)&&(ba(this,ca).isLeavingConference=!0),t=Promise.resolve(),!o){e.next=4;break}return e.abrupt("return",Gt.conferences.leave({conferenceId:ba(this,Gi),keepAlive:o,data:{reason:i}}));case 4:return n&&null!=ba(this,Gi)&&(t=Gt.conferences.leave({conferenceId:ba(this,Gi),data:{reason:i}}).catch((function(e){return Rr.info(e)}))),e.next=7,this.createConferenceLeftEvent();case 7:return r=e.sent,e.abrupt("return",t.then((function(e){return ya(a,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.releaseRtc();case 2:return Je.send(r),ka(this,Xi,void 0),ka(this,ra,!1),Rr.debug("Leave conference",this),t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}}),t,this)})))})));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"releaseRtc",value:function(){var e;return ya(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=ba(this,ca),!t.t0){t.next=5;break}return t.next=4,ba(this,ca).release();case 4:null===(e=ba(this,ca))||void 0===e||e.removeAllListeners();case 5:ka(this,ca,null);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setClientStateDumpsEnabled",value:function(e){ka(this,da,e)}},{key:"getClientStateDumpsEnabled",value:function(){return ba(this,da)}},{key:"kick",value:function(e){var t=this;return this.checkInitialized().then((function(){return Gt.conferences.kick({conferenceId:ba(t,Gi),peerId:e})})).catch((function(e){throw e}))}},{key:"onKicked",value:function(){return ya(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createConferenceLeftEvent();case 2:return t=e.sent,Je.send(t),e.next=6,this.releaseRtc();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"checkInitialized",value:function(){var e=this;return new Promise((function(t,n){ba(e,ca)||n(kt()),t(!0)}))}},{key:"createConferenceLeftEvent",value:function(){return ya(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ba(this,ca)||!0!==ba(this,da)){e.next=11;break}return e.prev=1,e.next=4,ba(this,ca).createStateDump({liteMode:!0});case 4:return t=e.sent,e.abrupt("return",We.ConferenceLeft.fromData(t));case 8:e.prev=8,e.t0=e.catch(1),Rr.info(e.t0);case 11:return e.abrupt("return",new We.ConferenceLeft);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"onBandwidthRestrictionChanged",value:function(e){Je.send(We.BandwidthRestrictionChanged.fromData({bandwidth:e}))}},{key:"audioConstraints",set:function(e){ka(this,ea,e)}},{key:"createRequestConferenceMediaPayload",value:function(e,t){return{conferenceId:ba(this,Gi),peerId:t||ba(this,Hi),data:{index:0,label:"camera",media:[e]}}}},{key:"renegotiateCaptureMode",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return ya(this,void 0,void 0,p().mark((function a(){var o;return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.rtc){a.next=2;break}return a.abrupt("return",Promise.reject(kt()));case 2:if(a.prev=2,!r){a.next=11;break}return a.next=6,Gt.conferences.postRenegociate({conferenceId:ba(this,Gi),data:{options:e}});case 6:if((o=a.sent).data&&o.data.description){a.next=9;break}throw new Error("Empty server response");case 9:return a.next=11,this.pushRemoteOffer(o.data.description);case 11:if(ba(this,ca).updateOptions(e),a.t0=i&&(t&&!this.isCustomAudio()||this.isOpus()&&n),!a.t0){a.next=16;break}return a.next=16,ba(this,ca).updateAudioProcessing(t,n);case 16:if(this.updateRenegotiableJoinOptions(e),a.t1=o,!a.t1){a.next=21;break}return a.next=21,ba(this,ca).createAnswer(ba(this,Hi),"default",o.data.description.oid);case 21:a.next=26;break;case 23:throw a.prev=23,a.t2=a.catch(2),Rr.error(a.t2),Je.send(We.ConferenceGlobalError.fromData(a.t2)),a.t2;case 26:case"end":return a.stop()}}),a,this,[[2,23]])})))}},{key:"setVideoForwarding",value:function(e){var t=this.participants.get(e);t?this.forwardedParticipants.set(e,t):this.forwardedParticipants.set(e,new Pe(e)),this.rtc.setVideoForwarding(e)}},{key:"removeVideoForwarding",value:function(e){this.forwardedParticipants.delete(e),this.rtc.removeVideoForwarding(e)}}]),e}())(d(c),i,(function(){return s.getCaptureMode()}))),ms(d(c),ts,!1),ms(d(c),is,a),ms(d(c),us,o),ms(d(c),cs,s),ms(d(c),ls,u);var l={onStreamAdded:c.onStreamAdded.bind(d(c)),onStreamUpdated:c.onStreamUpdated.bind(d(c)),onStreamRemoved:c.onStreamRemoved.bind(d(c)),onParticipantAdded:c.onParticipantAdded.bind(d(c)),onParticipantUpdated:c.onParticipantUpdated.bind(d(c)),onConferenceGlobalError:c.onConferenceGlobalError.bind(d(c))};return ms(d(c),ss,new zo(r,vs(d(c),Xo),l,(function(){return vs(d(c),Qo)}))),c}return g(n,[{key:"create",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){(e=e||{}).params=e.params||{};var t=e.preferredRegions&&{preferredRegions:e.preferredRegions},n=e.params.spatialAudioStyle&&{spatialAudioStyle:e.params.spatialAudioStyle};return Object.assign(Object.assign({alias:e.alias||"",type:e.type||"sdk_conf"},t),{pinCode:e.pinCode,params:Object.assign({ttl:e.params.ttl||0,mode:e.params.mode||"standard",rtcpMode:e.params.rtcpMode||"average",stats:!!e.params.stats,currentLanguage:e.params.currentLanguage||"english",videoCodec:e.params.audioOnly?"NONE":e.params.videoCodec||"H264",liveRecording:e.params.liveRecording||"false",dolbyVoice:void 0===e.params.dolbyVoice?"true":e.params.dolbyVoice},n)})}(e),t.next=3,Gt.conferences.create({data:n});case 3:return r=t.sent,t.abrupt("return",(r.data.ownerToken&&Gt.setConferenceTokens(r.data.conferenceId,r.data.ownerToken),this.onConferenceCreated(),Na.fromCreateData(r.data)));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"fetch",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Na(e),r=Gt.getConferenceToken(e),t.abrupt("return",(r&&(n.permissions=this.getPermissionsFromToken(r)),n));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"demo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spatialAudio:!1};return hs(this,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gt.conferences.getDemo();case 2:return r=n.sent,n.next=5,this._join(Na.fromCreateData(r.data),{spatialAudio:t.spatialAudio,conference:{isDemo:!0},conferenceAccessToken:null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.ownerToken});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"replay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0},n=arguments.length>2?arguments[2]:void 0;return hs(this,void 0,void 0,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.conferenceAccessToken?Gt.currentConferenceToken=t.conferenceAccessToken:Gt.setCurrentConferenceToken(e.id),r.next=3,Gt.conferences.replay({conferenceId:e.id,data:{offset:t.offset}});case 3:return(i=r.sent).data.ownerToken&&Gt.setConferenceTokens(i.data.conferenceId,i.data.ownerToken),r.next=7,this._join(Na.fromCreateData(i.data),{mixing:n},!0);case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"listen",value:function(e,t){return hs(this,void 0,void 0,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t?Object.assign(Object.assign({},t),{constraints:{audio:!1,video:!1}}):{constraints:{audio:!1,video:!1}},i=!(null==t?void 0:t.type)||{type:t.type},n.next=3,this._join(e,r,i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"join",value:function(e,t){return hs(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!vs(this,ts)){n.next=2;break}throw new Error("Already joining a conference");case 2:return n.abrupt("return",this._join(e,t,!1));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"_join",value:function(e,t){var n,r,i,a,o,s,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return hs(this,void 0,void 0,p().mark((function c(){var l,d,f,h,m,v,g,y,k,b,_,w,S=this;return p().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,null==e?void 0:e.id){c.next=3;break}throw new dt("The provided conference has invalid ID");case 3:if(e.id!==(null===(n=this.current)||void 0===n?void 0:n.id)){c.next=5;break}return c.abrupt("return",this.current);case 5:if(!t.hasOwnProperty("maxVideoForwarding")||void 0===t.maxVideoForwarding||"number"==typeof t.maxVideoForwarding&&Number.isInteger(t.maxVideoForwarding)&&!(t.maxVideoForwarding<0)){c.next=7;break}throw new ut("The number of streams provided in the videoForwarding API is incorrect.");case 7:if((null==t?void 0:t.forwardingStrategy)!==Ei.ClosestUser||!1!==(null==t?void 0:t.spatialAudio)){c.next=9;break}throw new dt("Unable to join a conference with closestUserStrategy and spatial audio disabled.");case 9:return ms(this,ts,!0),Je.send(new We.ConferenceJoining(e.id)),void 0!==t.leaveConferenceOnBeforeUnload&&ms(this,ns,t.leaveConferenceOnBeforeUnload),l=Object.assign({constraints:t.constraints,mixing:(_=e.id,w=t.mixing,{enabled:(w=w||{}).enabled||!1,uri:w.uri||_}),simulcast:dr(t.simulcast),preferSendMono:!("preferSendMono"in t)||t.preferSendMono,preferRecvMono:"preferRecvMono"in t&&t.preferRecvMono,maxVideoForwarding:t.maxVideoForwarding,forwardingStrategy:t.forwardingStrategy||Ei.LastSpeaker,dvwc:t.dvwc||!1,videoFilter:t.videoFilter,videoFilterOptions:Object.assign({},t.videoFilterOptions),supportedAVSyncFakeAudio:!0,audioBitrate:t.dvwc?void 0:t.audioBitrate,supportedSpatialAudioStyles:[Va.Shared,Va.Disabled,Va.Individual],supportedMultiScreenShare:M.SendRecv},t.spatialAudio&&{spatialAudio:t.spatialAudio}),"audioTweaks"in t&&Object.defineProperty(l,"audioTweaks",{value:t.audioTweaks}),d=null,Rr.setConferenceId(e.id),c.next=16,this.leave();case 16:if(ms(this,Qo,e),t.conferenceAccessToken?Gt.currentConferenceToken=t.conferenceAccessToken:Gt.setCurrentConferenceToken(e.id),(f=Gt.getCurrentConferenceToken())&&(this.current.permissions=this.getPermissionsFromToken(f),this.current.permissions.has(Aa.SendVideo)||(t.constraints.video=!1),this.current.permissions.has(Aa.SendAudio)||(t.constraints.audio=!1)),!t.customVideoTrack||t.customVideoTrack instanceof MediaStreamTrack){c.next=21;break}throw new dt("Invalid argument. The option 'customVideoTrack' expected a value of type MediaStreamTrack");case 21:if(h=function(){},m="join",vs(this,Qo).isAudioOnly){c.next=89;break}if(c.prev=24,!t.customVideoTrack){c.next=42;break}return c.prev=26,c.t0=ms,c.t1=this,c.t2=as,c.next=32,vs(this,is).start(t.customVideoTrack,t.videoProcessor);case 32:c.t3=c.sent,(0,c.t0)(c.t1,c.t2,c.t3),h=function(){return vs(S,ds).customVideoStarted(m,t.videoProcessor)},c.next=40;break;case 37:throw c.prev=37,c.t4=c.catch(26),h=function(){return vs(S,ds).customVideoStartFailed(m,c.t4,t.videoProcessor)},c.t4;case 40:c.next=83;break;case 42:if(!t.constraints||!("video"in t.constraints)){c.next=73;break}if(!t.constraints.video){c.next=61;break}return v="boolean"==typeof t.constraints.video||t.constraints.video instanceof Boolean?void 0:t.constraints.video,c.prev=45,c.t5=ms,c.t6=this,c.t7=as,c.next=51,vs(this,is).start(v,t.videoProcessor);case 51:c.t8=c.sent,(0,c.t5)(c.t6,c.t7,c.t8),h=function(){return vs(S,ds).cameraVideoStarted(m,v,t.videoProcessor)},c.next=59;break;case 56:throw c.prev=56,c.t9=c.catch(45),h=function(){return vs(S,ds).cameraVideoStartFailed(m,c.t9,v,t.videoProcessor)},c.t9;case 59:c.next=71;break;case 61:return c.prev=61,c.next=64,vs(this,is).stop();case 64:ms(this,as,null),h=function(){return vs(S,ds).localVideoStopped(m)},c.next=71;break;case 68:throw c.prev=68,c.t10=c.catch(61),h=function(){return vs(S,ds).localVideoStopFailed(m,c.t10)},c.t10;case 71:c.next=83;break;case 73:if(!t.videoProcessor){c.next=83;break}return c.prev=74,c.next=77,vs(this,is).setProcessor(t.videoProcessor);case 77:h=function(){return vs(S,ds).videoProcessorEnabled(m,t.videoProcessor)},c.next=83;break;case 80:throw c.prev=80,c.t11=c.catch(74),h=function(){return vs(S,ds).videoProcessorEnableFailed(m,c.t11,t.videoProcessor)},c.t11;case 83:c.next=89;break;case 85:if(c.prev=85,c.t12=c.catch(24),this.shouldReport(c.t12)&&Je.send(We.ConferenceGlobalError.fromData(c.t12)),this.shouldSwallowWhenJoining(c.t12)){c.next=89;break}throw c.t12;case 89:return c.next=91,vs(this,Xo).init(vs(this,Jo).participant,e.id,l,d,u,e,vs(this,as),t.customAudioTrack);case 91:if(g=c.sent,y=g.metadata,k=g.conferenceAlias,h(),c.t13="NONE"===y.videoCodec&&vs(this,as),!c.t13){c.next=100;break}return c.next=99,vs(this,is).stop();case 99:ms(this,as,null);case 100:return Je.send(new we({level:"info",action:"MediaConstraintsApplied",description:"The constraints have been applied at join time.",component:gs,api:"join",payload:[l.constraints]})),(null==t?void 0:t.audioBitrate)&&(null==t?void 0:t.dvwc)&&console.error("Audio bitrate change is not supported in Dolby Voice conferences."),(null===(i=null===(r=null==l?void 0:l.constraints)||void 0===r?void 0:r.audio)||void 0===i?void 0:i.channelCount)&&1!==(null===(o=null===(a=null==t?void 0:t.constraints)||void 0===a?void 0:a.audio)||void 0===o?void 0:o.channelCount)&&((null==t?void 0:t.dvwc)||(null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.dolbyVoice))&&console.error("Multichannel input audio is not supported in Dolby Voice conferences."),b=!0===(null==t?void 0:t.spatialAudio)?(null==y?void 0:y.spatialAudioStyle)?null==y?void 0:y.spatialAudioStyle:Va.Individual:null,c.abrupt("return",(ms(this,rs,function(e){switch(e.style){case"individual":return new co(e.conferenceId,e.participantId);case"shared":return new xo(e.conferenceId,e.participantId,e.setDirection,e.audioAttenuationName);default:return}}({style:b,participantId:vs(this,Jo).participant.id,conferenceId:e.id,setDirection:vs(this,Xo).isDvwc()?vs(this,Xo).rtc.setClientRotation.bind(vs(this,Xo).rtc):null})),e.params=$.fromJoinData(y),e.status=Ra.Joined,k&&"string"==typeof k&&(e.alias=k),ms(this,ts,!1),ms(this,os,u),this.isJoinedAsRTSViewer()&&Je.send(re.fromData({user_id:vs(this,Jo).participant.id,status:"ON_AIR",participantType:"LISTENER",audio:!1,audioReceivingStopped:!0,name:vs(this,Jo).participant.info.name,avatarUrl:vs(this,Jo).participant.info.avatarUrl,externalId:vs(this,Jo).participant.info.externalId,video:!1})),vs(this,Qo)));case 107:return c.prev=107,c.t14=c.catch(0),c.next=111,this.leave();case 111:throw ms(this,ts,!1),c.t14;case 113:case"end":return c.stop()}}),c,this,[[0,107],[24,85],[26,37],[45,56],[61,68],[74,80]])})))}},{key:"updatePermissions",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vs(this,Xo).updatePermissions(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hs(this,void 0,void 0,p().mark((function n(){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.leaveRoom||!0,i=t.reason||"hangUp",a=t.keepAlive||!1,n.t0=vs(this,Qo)&&vs(this,Xo)&&!vs(this,Xo).isLeaving,!n.t0){n.next=8;break}return vs(this,ss).onLeave(),vs(this,rs)&&vs(this,rs).release(),n.next=7,vs(this,Xo).leave({leaveRoom:r,reason:i,keepAlive:a});case 7:vs(this,Xo).clear();case 8:ms(this,Qo,null),ms(this,rs,null),(null===(e=vs(this,Jo))||void 0===e?void 0:e.participant)&&(vs(this,Jo).participant.status=Ee.LEFT);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"playBlockedAudio",value:function(){return hs(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(this,Xo).rtc.playBlockedAudio();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"mute",value:function(e,t){var n;if(e.id===vs(this,Jo).participant.id){if(!this.current.permissions.has(Aa.SendAudio))throw gt()}else if((null===(n=vs(this,Qo).params)||void 0===n?void 0:n.dolbyVoice)&&!this.isJoinedAsRTSViewer())throw new st;this.manager.rtc.mutePeer(e.id,t)}},{key:"toggleMute",value:function(e){var t;if(e.id===vs(this,Jo).participant.id){if(!this.current.permissions.has(Aa.SendAudio))throw gt()}else if((null===(t=vs(this,Qo).params)||void 0===t?void 0:t.dolbyVoice)&&!this.isJoinedAsRTSViewer())throw new st;return this.manager.rtc.toggleMute(e.id)}},{key:"isMuted",value:function(){return vs(this,Xo).rtc.isOwnMuted()}},{key:"muteOutput",value:function(e){return vs(this,Xo).rtc.muteOutput(e)}},{key:"audioLevel",value:function(e,t){if(vs(this,Qo)&&vs(this,Qo).params.dolbyVoice&&vs(this,Jo).participant.id!==e.id&&!vs(this,Xo).isDvwc())throw new st;return vs(this,Xo).rtc.getLevel(e.id,t)}},{key:"isSpeaking",value:function(e,t){if(vs(this,Qo)){var n=this.participants.get(e.id);if((!vs(this,Qo).params.dolbyVoice||n===vs(this,Jo).participant||vs(this,Xo).isElectron()&&vs(this,Xo).isDvwc())&&(!vs(this,Xo).isElectron()||n!==vs(this,Jo).participant))return vs(this,Xo).rtc.isSpeaking(e.id,t);t(!(!n||!n.active))}}},{key:"startStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn.Custom;return vs(this,Xo).startStream(e,t)}},{key:"stopStream",value:function(e){}},{key:"startVideo",value:function(e,t){return hs(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isJoinedAsRTSViewer()){n.next=2;break}return n.abrupt("return",Promise.reject(new st));case 2:return n.prev=2,n.next=5,this.startVideoInternal(e,t);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8,n.t0=n.catch(2),this.shouldReport(n.t0)&&Je.send(We.ConferenceGlobalError.fromData(n.t0));case 11:case"end":return n.stop()}}),n,this,[[2,8]])})))}},{key:"startVideoInternal",value:function(e,t,n){return e.id===vs(this,Jo).participant.id?vs(this,is).start(t,n).then((function(){return Promise.resolve()})):vs(this,us).start(e)}},{key:"stopVideo",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isJoinedAsRTSViewer()){t.next=2;break}return t.abrupt("return",Promise.reject(new st));case 2:return t.prev=2,t.next=5,this.stopVideoInternal(e);case 5:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t.catch(2),this.shouldReport(t.t0)&&Je.send(We.ConferenceGlobalError.fromData(t.t0));case 11:case"end":return t.stop()}}),t,this,[[2,8]])})))}},{key:"stopVideoInternal",value:function(e,t){return e.id===vs(this,Jo).participant.id?vs(this,is).stop():vs(this,us).stop(e)}},{key:"videoForwarding",value:function(e,t){return hs(this,void 0,void 0,p().mark((function n(){var r,i,a=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isJoinedAsRTSViewer()){n.next=2;break}return n.abrupt("return",Promise.reject(new st("Video forwarding is not available to a client who has joined as an RTS viewer.")));case 2:if(!vs(this,Xo).isAudioOnly){n.next=4;break}return n.abrupt("return",Promise.reject(new st("Video forwarding is not available to a client who has joined audio only conference.")));case 4:if(r=vs(this,Xo).maxVideoForwarding,i=vs(this,Xo).videoForwardingStrategy,"object"!=typeof e){n.next=10;break}if(r=void 0!==e.max?e.max:vs(this,Xo).maxVideoForwarding,i=e.strategy||vs(this,Xo).videoForwardingStrategy,t=e.participants||vs(this,Xo).forwardingParticipantList,i!==Ei.ClosestUser||vs(this,rs)){n.next=8;break}throw new dt("Unable to join a conference with closestUserStrategy and spatial audio disabled.");case 8:n.next=11;break;case 10:r=e;case 11:if("number"==typeof r&&Number.isInteger(r)&&!(r<0)){n.next=13;break}throw new ut("The number of streams provided in the videoForwarding API is incorrect.");case 13:return n.abrupt("return",r===vs(this,Xo).maxVideoForwarding&&i===vs(this,Xo).videoForwardingStrategy&&t.length===vs(this,Xo).forwardingParticipantList.length&&t.every((function(e,t){var n;return e.id===(null===(n=vs(a,Xo).forwardingParticipantList[t])||void 0===n?void 0:n.id)}))?void 0:vs(this,Xo).videoForwarding(i,r,t));case 14:case"end":return n.stop()}}),n,this)})))}},{key:"audioProcessing",value:function(e,t){return hs(this,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!vs(this,Xo).isDvwc()&&!vs(this,Xo).isElectron()){n.next=5;break}return n.next=3,vs(this,Xo).rtc.setTransparentMode(!t.send.audioProcessing);case 3:n.next=8;break;case 5:return r={send:{audioProcessing:!!(t||{}).send.audioProcessing}},n.next=8,Gt.conferences.audioUpdate({conferenceId:this._conferenceId,peerId:e.id,data:{opusProcessing:{enabled:r.send.audioProcessing}}});case 8:case"end":return n.stop()}}),n,this)})))}},{key:"startAudio",value:function(e){if(vs(this,Jo).participant.id===e.id&&[I.LISTENER,I.MIXER].includes(vs(this,Jo).participant.type))throw new st;if(vs(this,Jo).participant.id!==e.id&&this.current&&this.current.params.dolbyVoice&&[I.LISTENER].includes(vs(this,Jo).participant.type))throw new st;return e.id===vs(this,Jo).participant.id?vs(this,cs).start():vs(this,ls).start(e).then((function(){return e.updateAudioReceivingStopped(!1)}))}},{key:"stopAudio",value:function(e){if(vs(this,Jo).participant.id===e.id&&[I.LISTENER,I.MIXER].includes(vs(this,Jo).participant.type))throw new st;if(vs(this,Jo).participant.id!==e.id&&this.current&&this.current.params.dolbyVoice&&[I.LISTENER].includes(vs(this,Jo).participant.type))throw new st;return e.id===vs(this,Jo).participant.id?vs(this,cs).stop():vs(this,ls).stop(e).then((function(){return e.updateAudioReceivingStopped(!0)}))}},{key:"startScreenShare",value:function(e){if(vs(this,os))return Promise.reject(new st("Screen sharing is not available to a client who joined as a listener."));var t={};return t="object"==typeof e?e:{sourceId:e},vs(this,Xo).startScreenShare(t)}},{key:"stopScreenShare",value:function(){return vs(this,os)?Promise.reject(new st("Screen sharing is not available to a client who joined as a listener.")):vs(this,Xo).stopScreenShare()}},{key:"localStats",value:function(){var e;return null===(e=vs(this,Xo).rtc)||void 0===e?void 0:e.getRtpStats()}},{key:"simulcast",value:function(e){if(this.isJoinedAsRTSViewer()){if(!e.length)throw new dt("Unable to set video quality because the provided array is empty.");return e.length>1&&console.warn("Real-time Streaming supports only one video stream; only the first value will be applied."),this.manager.rtc.selectSimulcastLayer(e[0].quality)}return Gt.conferences.simulcast({conferenceId:this._conferenceId,data:{requested:e}})}},{key:"kick",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.isJoinedAsRTSViewer()?Promise.reject(new st("The kick() method is not available to a client who joined as an RTS viewer.")):vs(this,Xo).kick(e.id));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"createStateDump",value:function(){return hs(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(this,Xo).rtc.createStateDump());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getStateDumpConfiguration",value:function(){return hs(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs(this,Xo).rtc.getStateDumpConfiguration());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"configureStateDump",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",vs(this,Xo).rtc.configureStateDump(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setSpatialPosition",value:function(e,t){var n;if(3!==Object.values(t).length||Object.values(t).some((function(e){return null===e||void 0}))||!t)throw new dt("ConferenceService::setSpatialPosition needs to supply all (x, y, z) for position");if(!vs(this,Qo)||!(null===(n=vs(this,Qo).params)||void 0===n?void 0:n.dolbyVoice)||!vs(this,rs)||vs(this,Xo).listenOnly)throw new st;vs(this,rs).setParticipantPosition(e,t)}},{key:"setSpatialDirection",value:function(e,t){var n;if(null==(null==t?void 0:t.x)||null==(null==t?void 0:t.y)||null==(null==t?void 0:t.z))throw new dt("ConferenceService::setSpatialDirection needs to supply all (x, y, z) for direction");if(!vs(this,Qo)||!(null===(n=vs(this,Qo).params)||void 0===n?void 0:n.dolbyVoice)||!vs(this,rs)||vs(this,Xo).listenOnly)throw new st;if(vs(this,Jo).participant.id!==e.id)throw new st;vs(this,rs).setLocalDirection(t)}},{key:"setSpatialEnvironment",value:function(e,t,n,r){var i;if([e,t,n,r].forEach((function(e){if(null==(null==e?void 0:e.x)||null==(null==e?void 0:e.y)||null==(null==e?void 0:e.z))throw new dt("ConferenceService::setSpatialEnvironment needs to supply all (x, y, z) for scale")})),!vs(this,Qo)||!(null===(i=vs(this,Qo).params)||void 0===i?void 0:i.dolbyVoice)||!vs(this,rs)||vs(this,Xo).listenOnly)throw new st;vs(this,rs).setEnvironment({scale:e,forward:t,up:n,right:r})}},{key:"qualityIndicators",value:function(e){var t;return hs(this,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(vs(this,Qo)){n.next=2;break}return n.abrupt("return");case 2:r=new Map,(null===(t=vs(this,Qo).params)||void 0===t?void 0:t.dolbyVoice)?this.participants.forEach((function(t,n){if(t.status==Ee.CONNECTED){var i=-1;e.forEach((function(e,n){if(n===t.id){var r=e.filter((function(e){return"Scores"===e.id}));r.length>0&&(i=r[0].video)}})),r.set(n,{audio:t.audioQuality?t.audioQuality:-1,video:i})}})):e.forEach((function(e,t){var n=e.filter((function(e){return"Scores"===e.id}));n.length>0&&r.set(t,{audio:n[0].audio,video:n[0].video})})),this.emit(fs.QualityIndicators,r);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"onConferenceCreated",value:function(){this.emit(fs.Created)}},{key:"onConferenceJoined",value:function(e){var t=this;this._conferenceId=e.conferenceId,ms(this,es,setInterval((function(){return hs(t,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.localStats();case 2:(t=e.sent)&&this.qualityIndicators(t);case 4:case"end":return e.stop()}}),e,this)})))}),5e3)),this.emit(fs.Joined)}},{key:"onConferenceLeft",value:function(e){this._conferenceId=null,vs(this,es)&&(clearInterval(vs(this,es)),ms(this,es,null)),vs(this,is).stop().catch((function(e){return console.error(e)})),this.emit(fs.Left)}},{key:"onConferenceEnded",value:function(e){this.emit(fs.Ended)}},{key:"onConferenceDestroyed",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.conferenceId===this._conferenceId,!t.t0){t.next=5;break}return t.next=4,this.leave();case 4:this.emit(fs.Ended,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onConferenceStats",value:function(e){this.emit(fs.Stats,e)}},{key:"onConferenceGlobalError",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.current&&this.current.id&&e.error instanceof ht,!t.t0){t.next=4;break}return t.next=4,this.leave();case 4:this.emit(fs.Error,e.error);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onOfferCreated",value:function(e){var t;Je.send(We.ConferenceGlobalTrace.fromData({api:"onOfferCreated",description:"Received offer from ws",data:{oid:null===(t=e.description)||void 0===t?void 0:t.oid}})),vs(this,Xo).setRemoteOffer(e)}},{key:"onActiveSpeakerChange",value:function(e){this.participants.forEach((function(t,n){t.active=!!e.speakers.includes(t.id)}))}},{key:"onDvcsMetric",value:function(e){if("GetLevel"===e.name){var t=e.value,n=2,r=-40,i=-15,a=Math.exp(n*((t-r)/(i-r)-1));this.participants.get(e.userId).level=-90==t?0:a}else if("GetQuality"===e.name&&e.value>0){var o=this.participants.get(e.userId);o&&(o.audioQuality=e.value)}}},{key:"onUpdateToken",value:function(e){Gt.setConferenceTokens(e.conferenceId,e.conferenceAccessToken),Gt.currentConferenceToken=e.conferenceAccessToken,this.updatePermissionsFromToken(e.conferenceAccessToken)}},{key:"updatePermissionsFromToken",value:function(e){var t,n=this.getPermissionsFromToken(e);if(this.current&&(!this.current.permissions||(t=this.current.permissions).size!==n.size||!c(t).every((function(e){return n.has(e)})))){var r=vs(this,Jo).participant.streams.filter((function(e){return e.type===Xn.Camera})),i=vs(this,Jo).participant.streams.filter((function(e){return e.type===Xn.ScreenShare}));r.length>0&&r[0].getVideoTracks().length>0&&!n.has(Aa.SendVideo)&&vs(this,Xo).stopVideoLocally(vs(this,Jo).participant.id),i.length>0&&!n.has(Aa.ShareScreen)&&vs(this,Xo).stopScreenShareLocally(),this.current.permissions=new Set(n),this.emit(fs.PermissionsUpdated,this.current.permissions)}}},{key:"getPermissionsFromToken",value:function(e){var t=Ba(e);return new Set(t.authorities)}},{key:"onParticipantAdded",value:function(e){this.emit(fs.ParticipantAdded,e)}},{key:"onParticipantUpdated",value:function(e){"Left"===e.status&&vs(this,rs)&&vs(this,rs)instanceof co&&vs(this,rs).removeParticipant(e.id),this.emit(fs.ParticipantUpdated,e)}},{key:"onParticipantKicked",value:function(e){return hs(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.status="KICKED",n=vs(this,Xo).updateParticipant(e),t.t0=n,!t.t0){t.next=9;break}return this.emit(fs.ParticipantUpdated,n),t.next=7,vs(this,Xo).onKicked();case 7:vs(this,Xo).clear(),ms(this,Qo,null);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"onParticipantSwitched",value:function(e){vs(this,Xo).participantSwitched(e)}},{key:"onOwnParticipantSwitched",value:function(e){this.emit(fs.Switched),this.leave({leaveRoom:!1})}},{key:"onAutoplayBlocked",value:function(){this.emit(fs.AutoplayBlocked)}},{key:"onStreamAdded",value:function(e,t){this.emit(fs.StreamAdded,e,t)}},{key:"onStreamUpdated",value:function(e,t){this.emit(fs.StreamUpdated,e,t)}},{key:"onStreamRemoved",value:function(e,t){this.emit(fs.StreamRemoved,e,t)}},{key:"peerConnectionStatus",get:function(){return vs(this,Xo).getPeerConnectionStatus()}},{key:"participants",get:function(){return vs(this,Xo)?vs(this,Xo).participants:new Map}},{key:"maxVideoForwarding",get:function(){return vs(this,Xo)?vs(this,Xo).maxVideoForwarding:void 0}},{key:"videoForwardingStrategy",get:function(){return vs(this,Xo).videoForwardingStrategy}},{key:"current",get:function(){return vs(this,Qo)}},{key:"manager",get:function(){return vs(this,Xo)}},{key:"spatialAudioStyle",get:function(){return vs(this,rs)instanceof co?Va.Individual:vs(this,rs)instanceof xo?Va.Shared:null}},{key:"leaveConferenceOnBeforeUnload",get:function(){return vs(this,ns)}},{key:"onLocalVideoStarted",value:function(e){ms(this,as,e.track)}},{key:"onLocalVideoStopped",value:function(e){ms(this,as,null)}},{key:"onLocalVideoUpdated",value:function(e){ms(this,as,e.track)}},{key:"onRtsStatusUpdated",value:function(e){this._conferenceId===e.conferenceId&&("in_progress"===e.status?vs(this,Xo).startRtsView(e.streamName,e.streamAccountId,e.subscribeToken).catch((function(e){return console.error(e)})):vs(this,Xo).stopRtsView())}},{key:"isJoinedAsRTSViewer",value:function(){var e;return(null===(e=vs(this,os))||void 0===e?void 0:e.type)===P.Mixed}},{key:"shouldReport",value:function(e){return e instanceof Ni||e instanceof $o||e instanceof tt||e instanceof lt}},{key:"shouldSwallowWhenJoining",value:function(e){return e instanceof Ni||e instanceof $o||e instanceof lt||e instanceof tt&&"OverconstrainedError"!==e.name}}]),n}(Ct);Xo=new WeakMap,Jo=new WeakMap,Qo=new WeakMap,es=new WeakMap,ts=new WeakMap,ns=new WeakMap,rs=new WeakMap,is=new WeakMap,as=new WeakMap,os=new WeakMap,ss=new WeakMap,us=new WeakMap,cs=new WeakMap,ls=new WeakMap,ds=new WeakMap,ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"playBlockedAudio",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"mute",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"toggleMute",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"isMuted",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"muteOutput",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"audioLevel",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"isSpeaking",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"startStream",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"stopStream",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"startVideo",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"stopVideo",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"videoForwarding",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"audioProcessing",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"startAudio",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"stopAudio",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"startScreenShare",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"stopScreenShare",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"localStats",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"simulcast",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"kick",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"createStateDump",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"getStateDumpConfiguration",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"configureStateDump",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"setSpatialPosition",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"setSpatialDirection",null),ps([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],ys.prototype,"setSpatialEnvironment",null),ys=ps([jt([Ge.ConferenceGlobalError,Ge.OfferCreated,Ge.ParticipantSwitched,Ge.OwnParticipantSwitched,Ge.ConferenceStats,Ge.ConferenceDestroyed,Ge.DvcsMetric,Ge.ActiveSpeakerChange,Ge.UpdateToken,Ge.ParticipantKicked,Ge.LocalVideoStarted,Ge.LocalVideoStopped,Ge.LocalVideoUpdated,Ge.RtsStatusUpdated])],ys);var ks,bs,_s=g((function e(t,n){y(this,e),this.participantId=t,this.startTimestamp=n})),ws=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Ss=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},xs=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Es="statusUpdated";!function(e){e.Recording="RECORDING",e.NotRecording="NOT_RECORDING"}(bs||(bs={}));var Ts=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),r=t.call(this,e),ks.set(d(r),null),r}return g(n,[{key:"start",value:function(){return Gt.conferences.startRecording({conferenceId:this._conferenceId})}},{key:"stop",value:function(){return Gt.conferences.stopRecording({conferenceId:this._conferenceId})}},{key:"onConferenceJoined",value:function(e){o(s(n.prototype),"onConferenceJoined",this).call(this,e),this.onRecordingStatusUpdated(Se.fromJoinEvent(e))}},{key:"onConferenceLeft",value:function(e){o(s(n.prototype),"onConferenceLeft",this).call(this,e),Ss(this,ks,null)}},{key:"onRecordingStatusUpdated",value:function(e){if(e.status===bs.NotRecording){if(null!==xs(this,ks)){var t=xs(this,ks),n=!1;Ss(this,ks,null),this.emit(Es,n,t)}}else if(e.status===bs.Recording){var r=!0;Ss(this,ks,new _s(e.participantId,e.startTimestamp)),this.emit(Es,r,xs(this,ks))}}},{key:"current",get:function(){return xs(this,ks)}}]),n}(Ct);ks=new WeakMap,ws([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Ts.prototype,"start",null),ws([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Ts.prototype,"stop",null),Ts=ws([jt([Ge.RecordingStatusUpdated])],Ts);var Cs,js,Ps,Ms,Is,Rs,As,Ds,Os,Ns,Ls,Fs,zs,Us,Vs,Bs,Ws,Gs,Hs,Ys,Zs,qs,$s=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ks=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Xs=Ye()("vxt:ws"),Js=function(){function e(t,n,r){y(this,e),Cs.set(this,void 0),js.set(this,void 0),Ps.set(this,3e4),Ms.set(this,50),Is.set(this,2e3),Rs.set(this,2e3),As.set(this,6e4),Ds.set(this,3e5),Os.set(this,!1),Ns.set(this,void 0),Ls.set(this,void 0),Fs.set(this,void 0),zs.set(this,0),Us.set(this,void 0),Vs.set(this,void 0),Bs.set(this,void 0),Ws.set(this,!1),Gs.set(this,!1),Hs.set(this,void 0),Ys.set(this,null),Zs.set(this,null),qs.set(this,[]),$s(this,Cs,t),$s(this,Ns,n),$s(this,Fs,r)}return g(e,[{key:"openSession",value:function(){var e=this;return $s(this,Os,!1),$s(this,js,new WebSocket("".concat(Ks(this,Cs),"/v2/session?Voxeet-Id=").concat(Ks(this,Ns),"&Token=").concat(Ks(this,Fs)),void 0)),Ks(this,js).onmessage=this.onMessage.bind(this),Ks(this,js).onopen=this.onOpen.bind(this),Ks(this,js).onclose=this.onClose.bind(this),Ks(this,js).onerror=this.onError.bind(this),this.startKeepAlive(),Ks(this,Ws)&&$s(this,Vs,setTimeout((function(){$s(e,Ws,!1),e.closeSession(),$s(e,Os,!1),e.handleReconnection()}),Ks(this,Rs))),new Promise((function(t,n){Ks(e,Ys)||Ks(e,Zs)||($s(e,Ys,t),$s(e,Zs,n))}))}},{key:"closeSession",value:function(){$s(this,Os,!0),this.stopKeepAlive(),Ks(this,js)&&(Ks(this,js).close(1e3,"Close session."),$s(this,js,null)),$s(this,qs,[])}},{key:"startKeepAlive",value:function(){var e=this;this.stopKeepAlive(),$s(this,Us,setInterval((function(){Ks(e,js)&&(Ks(e,js).readyState===WebSocket.CLOSED?e.openSession():e.send({type:"keep_alive"},!0))}),Ks(this,Ps)))}},{key:"stopKeepAlive",value:function(){Ks(this,Us)&&clearInterval(Ks(this,Us))}},{key:"send",value:function(e){Xs("Sending message: ",e),e.message_id||(e.message_id=$s(this,zs,+Ks(this,zs)+1)),Ks(this,js).readyState===WebSocket.CONNECTING?Ks(this,qs).push(e):Ks(this,js).send(JSON.stringify(e))}},{key:"isOpen",value:function(){return!!Ks(this,js)&&Ks(this,js).readyState===WebSocket.OPEN}},{key:"onOpen",value:function(){for(Xs("WebSocket opened"),Je.send(We.ConferenceGlobalTrace.fromData({api:"SessionClient.onOpen",description:"WebSocket connecton has been established"})),$s(this,Ws,!1),Ks(this,Ys)&&(Ks(this,Ys).call(this),$s(this,Zs,null),$s(this,Ys,null)),Ks(this,Vs)&&(clearTimeout(Ks(this,Vs)),$s(this,Vs,null),$s(this,Ms,50)),Ks(this,Bs)&&(clearTimeout(Ks(this,Bs)),$s(this,Bs,null));Ks(this,qs).length;){var e=Ks(this,qs).shift();this.send(e)}}},{key:"onClose",value:function(e){if(Xs("WebSocket closed"),$s(this,js,null),e.code>1e3)try{Je.send(oe.fromData(new ot(e.reason),e.code))}catch(e){if("WebSocketError"!==e.name)throw e;console.error(e)}this.handleReconnection()}},{key:"handleReconnection",value:function(){var e=this;if(!Ks(this,Os)&&(Ks(this,Bs)||$s(this,Bs,setTimeout((function(){$s(e,Gs,!0);var t=new ot("Reconnection timed out");Ks(e,Zs)&&(Ks(e,Zs).call(e,t),$s(e,Zs,null),$s(e,Ys,null)),Je.send(oe.fromData(t))}),Ks(this,As))),!Ks(this,Ws)&&!Ks(this,Gs))){$s(this,Ws,!0),setTimeout((function(){e.openSession()}),Ks(this,Ms));var t=2*Ks(this,Ms);$s(this,Ms,t>Ks(this,Is)?Ks(this,Is):t)}}},{key:"onError",value:function(e){console.error(e)}},{key:"onMessage",value:function(e){var t;e.data&&(t=JSON.parse(e.data)),Xs("Received data:",t.type,t),"UpdateToken"===t.type&&this.send({ackMessageUuid:t.amu}),Je.send(function(){function e(){y(this,e)}return g(e,null,[{key:"fromData",value:function(e){if(e&&e.type){var t=e.type.replace(/(^[a-z])/,(function(e){return e.toUpperCase()})).replace(/(\_\w)/g,(function(e){return e[1].toUpperCase()})).replace(/Push/g,(function(e){return""})).replace(/Event/g,(function(e){return""}));if("function"==typeof $e[t])return"function"==typeof $e[t].fromData?$e[t].fromData(e):new $e[t](Object.assign({},e))}}}]),e}().fromData(t))}}]),e}();Cs=new WeakMap,js=new WeakMap,Ps=new WeakMap,Ms=new WeakMap,Is=new WeakMap,Rs=new WeakMap,As=new WeakMap,Ds=new WeakMap,Os=new WeakMap,Ns=new WeakMap,Ls=new WeakMap,Fs=new WeakMap,zs=new WeakMap,Us=new WeakMap,Vs=new WeakMap,Bs=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,Hs=new WeakMap,Ys=new WeakMap,Zs=new WeakMap,qs=new WeakMap;var Qs,eu,tu,nu,ru,iu,au,ou,su,uu,cu,lu=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},du=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},fu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},pu=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).wsHost="wss://comms.sdk.dolby.io",Qs.set(d(r),void 0),eu.set(d(r),void 0),tu.set(d(r),void 0),nu.set(d(r),void 0),ru.set(d(r),void 0),iu.set(d(r),void 0),au.set(d(r),void 0),ou.set(d(r),void 0),su.set(d(r),void 0),r}return g(n,[{key:"onConferenceLeaving",value:function(e){return lu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:du(this,ou,setTimeout(this.leaveConferenceTimeoutExpired.bind(this),1e3));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onConferenceLeft",value:function(e){return lu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.leaveConferenceTimeoutExpired();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"leaveConferenceTimeoutExpired",value:function(){var e;fu(this,ou)&&(clearTimeout(fu(this,ou)),du(this,ou,null)),(null===(e=fu(this,au))||void 0===e?void 0:e.length)&&(fu(this,au).forEach((function(e){return e()})),du(this,au,[]))}},{key:"register",value:function(){return lu(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isTokenValid(Gt.accessToken)){e.next=21;break}if(!Gt.getTokenCallback()){e.next=11;break}return t=!0,e.next=5,Gt.getTokenCallback()(t);case 5:if(n=e.sent){e.next=8;break}throw bt();case 8:Gt.accessToken=n,e.next=21;break;case 11:if(this.customerKey&&this.customerSecret){e.next=13;break}throw new Error("Uninitialized VoxeetSDK");case 13:return Gt.tokenCallback=this.refreshToken.bind(this),e.next=16,Gt.init.register({headers:{Authorization:"Basic "+btoa(encodeURI(fu(this,eu))+":"+encodeURI(fu(this,tu)))},data:{grant_type:"client_credentials"}});case 16:r=e.sent,i=r.data,a=i.access_token,o=i.refresh_token,Gt.accessToken=a&&a,Gt.refreshToken=o&&o,Gt.leavingCallback=function(){Up.conference.leave()};case 21:this.startAccessTokenExpirationTimeouts();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lu(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!fu(this,Qs)){t.next=2;break}throw new ft("A session has already been opened");case 2:return du(this,ou,null),du(this,au,[]),t.next=6,this.register();case 6:return(n=e).sdkVersion=Up.version,t.next=10,Gt.init.identify({data:n});case 10:return r=t.sent,du(this,su,new Pe(r.data.user_id)),fu(this,su).info=e,fu(this,su).updateAudioReceivingStopped(!0),Gt.jwtToken=r.data.jwt_user_token,Gt.wsHost="devssl"===Up.flavor&&(r.data.wsUri.startsWith("wss://ws")||Gt.wsHost.startsWith("wss://devssl.voxeet.com"))?Gt.wsHost:r.data.wsUri,du(this,Qs,new Js(Gt.wsHost,Gt.getHashId(),Gt.jwtToken)),t.next=19,fu(this,Qs).openSession();case 19:Je.send(new Le);case 20:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){fu(e,ou)?(fu(e,au)||du(e,au,[]),fu(e,au).push(t)):t()})).then((function(){return Gt.init.logout().then((function(){Gt.jwtToken=null,du(e,su,null),fu(e,Qs)&&(fu(e,Qs).closeSession(),du(e,Qs,null)),Je.send(new Fe)}))}))}},{key:"refreshToken",value:function(){return Gt.accessToken=null,Gt.init.refresh({headers:{Authorization:"Basic "+btoa(encodeURI(fu(this,eu))+":"+encodeURI(fu(this,tu)))},data:{refresh_token:Gt.refreshToken}}).then((function(e){return Gt.accessToken=e.data.access_token,e.data.access_token}))}},{key:"participant",get:function(){return fu(this,su)}},{key:"customerKey",get:function(){return fu(this,eu)},set:function(e){du(this,eu,e)}},{key:"customerSecret",get:function(){return fu(this,tu)},set:function(e){du(this,tu,e)}},{key:"refreshAccessToken",value:function(){var e=this;return Gt.getTokenCallback()?Gt.getTokenCallback()(Gt.isTokenExpired()).then((function(t){if(!t)throw bt();Gt.accessToken=t,e.startAccessTokenExpirationTimeouts()})):this.refreshToken()}},{key:"accessTokenTimeoutHalfExpiration",value:function(){var e=this;Gt.getTokenCallback()(Gt.isTokenExpired()).then((function(t){if(!t)throw bt();Gt.accessToken=t,e.startAccessTokenExpirationTimeouts()}))}},{key:"accessTokenTimeoutThreeQuarterExpiration",value:function(){var e=this;Gt.getTokenCallback()(Gt.isTokenExpired()).then((function(t){if(!t)throw bt();Gt.accessToken=t,e.startAccessTokenExpirationTimeouts()}))}},{key:"accessTokenTimeoutExpired",value:function(){Gt.getTokenCallback()(Gt.isTokenExpired()).then((function(e){if(!e)throw bt();Gt.accessToken=e,Up.conference.leave()}))}},{key:"startAccessTokenExpirationTimeouts",value:function(){return lu(this,void 0,void 0,p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ba(Gt.accessToken),n=t.exp,clearTimeout(fu(this,nu)),clearTimeout(fu(this,ru)),clearTimeout(fu(this,iu)),Gt.accessTokenExpiration=n,du(this,nu,setTimeout(this.accessTokenTimeoutHalfExpiration.bind(this),1e3*(Gt.accessTokenExpiration-(new Date).getTime()/1e3)/2)),du(this,ru,setTimeout(this.accessTokenTimeoutThreeQuarterExpiration.bind(this),1e3*(Gt.accessTokenExpiration-(new Date).getTime()/1e3)*3/4)),du(this,iu,setTimeout(this.accessTokenTimeoutExpired.bind(this),1e3*(Gt.accessTokenExpiration-(new Date).getTime()/1e3)));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"isTokenValid",value:function(e){var t=!0;try{Gt.accessToken||(t=!1),Ba(Gt.accessToken).exp}catch(e){t=!1}return t}},{key:"isOpen",value:function(){return!!fu(this,Qs)&&fu(this,Qs).isOpen()}},{key:"accessToken",set:function(e){Gt.accessToken=e}},{key:"refreshCallback",set:function(e){Gt.tokenCallback=e}},{key:"updateParticipantInfo",value:function(e){var t,n,r,i=e.name,a=e.avatarUrl;return lu(this,void 0,void 0,p().mark((function e(){var o,s,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=Up.conference.current)||void 0===t?void 0:t.id,s={name:i,avatarUrl:a},o&&(s.cid=o),e.next=4,Gt.init.updateParticipantInfo({data:s});case 4:u=e.sent,(null===(n=null==u?void 0:u.data)||void 0===n?void 0:n.jwt_user_token)?Gt.setJwtToken(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.jwt_user_token):console.warn("could not update xToken because its not in the response",u);case 6:case"end":return e.stop()}}),e)})))}}]),n}(Tt);Qs=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,iu=new WeakMap,au=new WeakMap,ou=new WeakMap,su=new WeakMap,pu=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.ConferenceLeaving])],pu),function(e){e[e.AudioInput=1]="AudioInput",e[e.AudioOutput=2]="AudioOutput",e[e.VideoInput=4]="VideoInput"}(uu||(uu={})),function(e){e[e.ListDevices=1]="ListDevices",e[e.GetDifferences=2]="GetDifferences"}(cu||(cu={}));var hu,mu,vu=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},gu=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},yu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ku=function(e,t){return new we({level:"info",action:"AudioOutputSelected",description:e,component:"MediaDeviceService",api:"selectAudioOutput",payload:[t]})},bu=function(e,t){return new we({level:"error",action:"AudioOutputError",description:e,component:"MediaDeviceService",api:"selectAudioOutput",payload:[t]})},_u=function(e,t){return new we({level:"info",action:"AudioInputSelected",description:e,component:"MediaDeviceService",api:"selectAudioInput",payload:[t]})},wu=function(e,t){return new we({level:"error",action:"AudioInputError",description:e,component:"MediaDeviceService",api:"selectAudioInput",payload:[t]})},Su=function(e,t){return new we({level:"info",action:"VideoInputSelected",description:e,component:"MediaDeviceService",api:"selectVideoInput",payload:[t]})},xu=function(e,t){return new we({level:"error",action:"VideoInputError",description:e,component:"MediaDeviceService",api:"selectVideoInput",payload:[t]})},Eu=function(e){k(n,e);var t=b(n);function n(e,r){var i;y(this,n),i=t.call(this,e),hu.set(d(i),void 0),mu.set(d(i),void 0),gu(d(i),hu,r);var a={handler:function(e){this.emit("deviceChanged",e)}.bind(d(i)),deviceKind:uu.AudioOutput|uu.AudioInput|uu.VideoInput,handlerType:cu.ListDevices|cu.GetDifferences};return gu(d(i),mu,yu(d(i),hu).onDeviceChange(a)),i}return g(n,[{key:"getComfortNoiseLevel",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(this,hu).getComfortNoiseLevel());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setComfortNoiseLevel",value:function(e){return vu(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this,hu).setComfortNoiseLevel(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"enumerateDevices",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(this,hu).getConnectedDevices());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"enumerateAudioInputDevices",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(this,hu).getConnectedAudioInputDevices());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"enumerateAudioOutputDevices",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(this,hu).getConnectedAudioOutputDevices());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"enumerateVideoInputDevices",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(this,hu).getConnectedVideoInputDevices());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"selectAudioInput",value:function(e){return vu(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(this,hu).getConnectedAudioInputDevices();case 2:return n=t.sent,t.abrupt("return",new Promise("string"==typeof e?function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a,o=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=n.find((function(t){return t.deviceId===e})))||(Je.send(wu("Failed to select audio input device. Reason: Device not found",{device:e})),i(new Error("Failed to select audio input device. Reason: Device not found"))),r.next=4,yu(this,hu).selectAudioInputDevice(a).then((function(){yu(o,hu).selectedAudioInputDevice=a,Je.send(_u("Audio input has been selected.",{device:e})),t("device ".concat(e," selected"))}),(function(t){Je.send(wu("Failed to select audio input device: ".concat(t.message),{device:e})),i(new pt(t.message,"audio input"))}));case 4:case"end":return r.stop()}}),r,this)})))}:function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&e.deviceId||(Je.send(wu("Unable to select audio input. Provided device is invalid",e)),i(new dt("Unable to select audio input. Provided device is invalid"))),n.find((function(t){return t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label}))||(Je.send(wu("Failed to select audio input device. Reason: Device not found",e)),i(new Error("Failed to select audio input device. Reason: Device not found"))),r.next=4,yu(this,hu).selectAudioInputDevice(e).then((function(){yu(a,hu).selectedAudioInputDevice=e,Je.send(_u("Audio input has been selected",e)),t("device ".concat(e," selected"))}),(function(t){Je.send(wu("Failed to select audio input device: ".concat(t.message),e)),i(new pt(t.message,"audio input"))}));case 4:case"end":return r.stop()}}),r,this)})))}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"selectAudioOutput",value:function(e){return vu(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(this,hu).getConnectedAudioOutputDevices();case 2:return n=t.sent,t.abrupt("return",new Promise("string"==typeof e?function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a,o=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=n.find((function(t){return t.deviceId===e})))||(Je.send(bu("Failed to select audio output device. Reason: Device not found",{device:e})),i(new Error("Failed to select audio output device. Reason: Device not found"))),r.next=4,yu(this,hu).selectAudioOutputDevice(a).then((function(){yu(o,hu).selectedAudioOutputDevice=a,Je.send(ku("Audio output has been selected.",{device:e})),t("device ".concat(e," selected"))}),(function(t){Je.send(bu("Audio output couldn't be selected: ".concat(t.message),{device:e})),i(new pt(t.message,"audio output"))}));case 4:case"end":return r.stop()}}),r,this)})))}:function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&e.deviceId||(Je.send(bu("Unable to select audio output. Provided device is invalid",e)),i(new dt("Unable to select audio output. Provided device is invalid"))),n.find((function(t){return t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label}))||(Je.send(bu("Failed to select audio output device. Reason: Device not found",e)),i(new Error("Failed to select audio output device. Reason: Device not found"))),r.next=4,yu(this,hu).selectAudioOutputDevice(e).then((function(){yu(a,hu).selectedAudioOutputDevice=e,Je.send(ku("Audio output has been selected.",e)),t("device ".concat(e," selected"))}),(function(t){Je.send(bu("Audio output couldn't be selected: ".concat(t.message),e)),i(new pt(t.message,"audio output"))}));case 4:case"end":return r.stop()}}),r,this)})))}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"selectVideoInput",value:function(e){return vu(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yu(this,hu).getConnectedVideoInputDevices();case 2:return n=t.sent,t.abrupt("return",new Promise("string"==typeof e?function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a,o=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=n.find((function(t){return t.deviceId===e})))||(Je.send(xu("Failed to select video input device. Reason: Device not found",{device:e})),i(new Error("Failed to select video input device. Reason: Device not found"))),r.next=4,yu(this,hu).selectVideoInputDevice(a).then((function(){yu(o,hu).selectedVideoInputDevice=a,Je.send(Su("Video input has been selected.",{device:e})),t("device ".concat(e," selected"))}),(function(t){Je.send(xu("Failed to select video input device: ".concat(t.message),{device:e})),i(new pt(t.message,"video input"))}));case 4:case"end":return r.stop()}}),r,this)})))}:function(t,i){return vu(r,void 0,void 0,p().mark((function r(){var a=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&e.deviceId||(Je.send(xu("Unable to select video input. Provided device is invalid",e)),i(new dt("Unable to select video input. Provided device is invalid"))),n.find((function(t){return t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label}))||(Je.send(xu("Failed to select video input device. Reason: Device not found",e)),i(new Error("Failed to select video input device. Reason: Device not found"))),r.next=4,yu(this,hu).selectVideoInputDevice(e).then((function(){yu(a,hu).selectedVideoInputDevice=e,Je.send(Su("Video input has been selected.",e)),t("device ".concat(e," selected"))}),(function(t){Je.send(xu("Failed to select video input device: ".concat(t.message),e)),i(new pt(t.message,"video input"))}));case 4:case"end":return r.stop()}}),r,this)})))}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"selectedAudioInputDevice",get:function(){return yu(this,hu).selectedAudioInputDevice}},{key:"selectedAudioOutputDevice",get:function(){return yu(this,hu).selectedAudioOutputDevice}},{key:"selectedVideoInputDevice",get:function(){return yu(this,hu).selectedVideoInputDevice}},{key:"enumerateAudioDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input";return vu(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("input"!==e&&void 0!==e){t.next=6;break}return t.next=3,this.enumerateAudioInputDevices();case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,this.enumerateAudioOutputDevices();case 8:t.t0=t.sent;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"enumerateVideoDevices",value:function(){return vu(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.enumerateVideoInputDevices());case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(Ct);hu=new WeakMap,mu=new WeakMap;var Tu,Cu,ju,Pu=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Mu=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Iu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Received="received"}(ju||(ju={}));var Ru,Au=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Tu.set(d(i),void 0),Cu.set(d(i),!1),Mu(d(i),Tu,r),i}return g(n,[{key:"send",value:function(e){return Iu(this,Cu)?Promise.reject(new st("Sending commands is not available to a client who joined as an RTS viewer.")):Gt.conferences.broadcast({conferenceId:this._conferenceId,data:{message:e}})}},{key:"onConferenceMessageReceived",value:function(e){if(Iu(this,Tu).current){var t=Iu(this,Tu).participants.get(e.participantId);t&&this.emit(ju.Received,t,e.message)}}},{key:"onConferenceJoined",value:function(e){o(s(n.prototype),"onConferenceJoined",this).call(this,e),Mu(this,Cu,e.isJoinedAsRTSViewer())}},{key:"onConferenceLeft",value:function(e){o(s(n.prototype),"onConferenceLeft",this).call(this,e),Mu(this,Cu,!1)}}]),n}(Ct);Tu=new WeakMap,Cu=new WeakMap,Pu([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Au.prototype,"send",null),Au=Pu([jt([Ge.ConferenceMessageReceived])],Au),function(e){e.Invitation="Invitation",e.ConferenceCreated="Conference.Created",e.ConferenceEnded="Conference.Ended",e.ParticipantJoined="Participant.Joined",e.ParticipantLeft="Participant.Left",e.ConferenceActiveParticipants="Conference.ActiveParticipants"}(Ru||(Ru={}));var Du,Ou,Nu,Lu=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};!function(e){e.Invitation="invitation",e.ConferenceCreated="conferenceCreated",e.ConferenceEnded="conferenceEnded",e.ConferenceStatus="conferenceStatus",e.ParticipantJoined="participantJoined",e.ParticipantLeft="participantLeft",e.ActiveParticipants="activeParticipants"}(Nu||(Nu={}));var Fu=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Du.set(d(i),!1),Ou.set(d(i),void 0),Lu(d(i),Ou,r),i}return g(n,[{key:"subscribe",value:function(e){var t=e.find((function(e){return e.type===Ru.Invitation}));if(t&&Lu(this,Du,!0),!t||e.length>1)return Gt.subscription.post({data:{subscriptions:e.filter((function(e){return e.type!==Ru.Invitation}))}})}},{key:"unsubscribe",value:function(e){var t=e.find((function(e){return e.type===Ru.Invitation}));if(t&&Lu(this,Du,!1),!t||e.length>1)return Gt.subscription.delete({data:{subscriptions:e.filter((function(e){return e.type!==Ru.Invitation}))}})}},{key:"invite",value:function(e,t){return n=this,r=void 0,a=p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Gt.conferences.invite({conferenceId:e.id,data:{externalProfiles:t.map((function(e){return{externalId:e.info?e.info.externalId:e.externalId,externalName:e.info?e.info.name:e.name,externalPhotoUrl:e.info?e.info.avatarUrl:e.avatarUrl,permissions:e.permissions}}))}}));case 1:case"end":return n.stop()}}),n)})),new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}u((a=a.apply(n,r||[])).next())}));var n,r,i,a}},{key:"onInvitationReceived",value:function(e){Gt.setConferenceTokens(e.conferenceId,e.conferenceToken),this.emit(Nu.Invitation,e)}},{key:"onConferenceStatusNotification",value:function(e){this.emit(Nu.ConferenceStatus,e)}},{key:"onConferenceCreatedNotification",value:function(e){this.emit(Nu.ConferenceCreated,e)}},{key:"onConferenceEndedNotification",value:function(e){this.emit(Nu.ConferenceEnded,e)}},{key:"onParticipantJoinedNotification",value:function(e){this.emit(Nu.ParticipantJoined,e)}},{key:"onParticipantLeftNotification",value:function(e){this.emit(Nu.ParticipantLeft,e)}},{key:"onActiveParticipants",value:function(e){this.emit(Nu.ActiveParticipants,e)}}]),n}(Tt);Du=new WeakMap,Ou=new WeakMap,Fu=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.InvitationReceived,Ge.ConferenceCreatedNotification,Ge.ConferenceEndedNotification,Ge.ConferenceStatusNotification,Ge.ParticipantJoinedNotification,Ge.ParticipantLeftNotification,Ge.ActiveParticipants])],Fu);var zu=g((function e(){y(this,e),this.type=""})),Uu=g((function e(){y(this,e),this.version="1.1",this.userId="",this.timestamp=0})),Vu=g((function e(){y(this,e),this.cpu="",this.ram=0,this.screen=""})),Bu=g((function e(){y(this,e),this["web-sdk"]="3.11.0",this.dapm="0.118.1-1184480-bf183dab",this["dapm-dvdnr"]="2.4.0"})),Wu=g((function e(){y(this,e),this.name="",this.os="",this.timeZone=""})),Gu=new Map([["RTCCandidatePairStats",function(e){return"candidate-pair"===e.type&&!Fn.isFirefox&&!0===e.nominated||Fn.isFirefox&&!0===e.selected}],["RTCOutboundRtpAudioStreamStats",function(e){return"outbound-rtp"===e.type&&"audio"===e.mediaType}],["RTCOutboundRtpVideoStreamStats",function(e){return"outbound-rtp"===e.type&&"video"===e.mediaType}],["RTCRemoteInboundRTPStreamStats",function(e){return"remote-inbound-rtp"===e.type}],["RTCInboundRTPAudioStreamStats",function(e){return"inbound-rtp"===e.type&&"audio"===e.mediaType}],["RTCInboundRTPVideoStreamStats",function(e){return"inbound-rtp"===e.type&&"video"===e.mediaType}],["RTCMediaStreamAudioTrack",function(e){return"track"===e.type&&"audio"===e.kind}],["RTCMediaStreamVideoTrack",function(e){return"track"===e.type&&"video"===e.kind}],["RTCStreamDescription",function(e){return"stream"===e.type}],["WebAudioStats",function(e){return"audio"===e.type}],["DataChannelStats",function(e){return"data-channel"===e.type}],["TransportStats",function(e){return"transport"===e.type}],["RTCVideoSource",function(e){return"media-source"===e.type&&"video"===e.kind&&(Fn.isChrome||Fn.isEdge)}],["RTCAudioSource",function(e){return"media-source"===e.type&&"audio"===e.kind&&Fn.isChrome}]]),Hu={RTCCandidatePairStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).id="",e.availableOutgoingBitrate=0,e.availableIncomingBitrate=0,e.bytesSent=0,e.bytesReceived=0,e.bitrateSent=0,e.bitrateReceived=0,e.totalRoundTripTime=0,e.currentRoundTripTime=0,e.requestsReceived=0,e.requestsSent=0,e.responsesReceived=0,e.responsesSent=0,e.consentRequestsSent=0,e.selected=!1,e}return g(n)}(zu),RTCOutboundRtpAudioStreamStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).ssrc=0,e.trackId="",e.mediaType="audio",e.packetsSent=0,e.bytesSent=0,e.bitrateSent=0,e.retransmittedPacketsSent=0,e.retransmittedBytesSent=0,e}return g(n)}(zu),RTCOutboundRtpVideoStreamStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).ssrc=0,e.trackId="",e.mediaType="video",e.packetsSent=0,e.bytesSent=0,e.bitrateSent=0,e.retransmittedPacketsSent=0,e.retransmittedBytesSent=0,e.contentType="",e.nackCount=0,e.firCount=0,e.pliCount=0,e.qualityLimitationReason="",e.framesEncoded=0,e.framesSent=0,e.frameWidth=0,e.frameHeight=0,e.keyFramesEncoded=0,e.totalPacketSendDelay=0,e.encoderImplementation="",e.qpSum=0,e.framesPerSecond=0,e.mediaSourceId="",e}return g(n)}(zu),RTCRemoteInboundRTPStreamStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).ssrc=0,e.kind="",e.packetLost=0,e.jitter=0,e.roundTripTime=0,e}return g(n)}(zu),RTCInboundRTPAudioStreamStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).ssrc=0,e.trackId="",e.mediaType="audio",e.packetsReceived=0,e.bytesReceived=0,e.bitrateReceived=0,e.packetsLost=0,e.jitter=0,e.jitterBufferDelay=0,e.jitterBufferEmittedCount=0,e.jitterBufferMinimumDelay=0,e.jitterBufferTargetDelay=0,e}return g(n)}(zu),RTCInboundRTPVideoStreamStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).ssrc=0,e.trackId="",e.mediaType="video",e.packetsReceived=0,e.bytesReceived=0,e.bitrateReceived=0,e.packetsLost=0,e.jitter=0,e.jitterBufferDelay=0,e.jitterBufferEmittedCount=0,e.framesDecoded=0,e.frameHeight=0,e.frameWidth=0,e.keyFramesDecoded=0,e.totalInterFrameDelay=0,e.totalSquaredInterFrameDelay=0,e.framesReceived=0,e.framesDropped=0,e.firCount=0,e.pliCount=0,e.nackCount=0,e.decoderImplementation="",e.qpSum=0,e.framesPerSecond=0,e}return g(n)}(zu),RTCMediaStreamAudioTrack:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).id="",e.kind="audio",e.jitterBufferDelay=0,e.jitterBufferEmittedCount=0,e.audioLevel=0,e.totalAudioEnergy=0,e}return g(n)}(zu),RTCMediaStreamVideoTrack:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).id="",e.kind="video",e.jitterBufferDelay=0,e.jitterBufferEmittedCount=0,e.frameWidth=0,e.frameHeight=0,e.framesReceived=0,e.framesDecoded=0,e}return g(n)}(zu),RTCStreamDescription:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).streamIdentifier="",e.trackIds=[],e}return g(n)}(zu),WebAudioStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).bufferIsOverrun=!1,e.bufferOverrunTimes=0,e.bufferOverrunLength=0,e.bufferOverrunMaxLength=0,e.bufferOverrunDuration=0,e.bufferIsUnderrun=!1,e.bufferUnderrunTimes=0,e.bufferUnderrunMaxLength=0,e.bufferUnderrunDuration=0,e}return g(n)}(zu),DataChannelStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).bytesReceived=0,e.bytesSent=0,e.dataChannelIdentifier=0,e.id="",e.label="",e.messagesReceived=0,e.messagesSent=0,e.state="",e.timestamp=0,e}return g(n)}(zu),TransportStats:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).id="",e.dtlsState="",e.selectedCandidatePairChanges=0,e.selectedCandidatePairId="",e}return g(n)}(zu),RTCVideoSource:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).type="media-source",e.id="",e.kind="video",e.trackIdentifier=0,e.width=0,e.height=0,e.framesPerSecond=0,e.frames=0,e}return g(n)}(zu),RTCAudioSource:function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).type="media-source",e.id="",e.kind="audio",e.trackIdentifier=0,e.audioLevel=0,e.totalAudioEnergy=0,e.totalSamplesDuration=0,e}return g(n)}(zu)},Yu=w(9034),Zu=w.n(Yu),qu=function(){function e(){y(this,e)}return g(e,null,[{key:"getHost",value:function(){return e.host}}]),e}();qu.host="https://comms.sdk.dolby.io",qu.endpoints={configuration:{fetch:{method:"GET",uri:"/v1/telemetry/metrics/configuration"}},webrtc:{sendBatch:{method:"POST",uri:"/v1/telemetry/metrics/webrtc/conferences/{conferenceId}/users/{userId}"}},dvc:{sendBatch:{method:"PUT",uri:"/v1/telemetry/metrics/dvc/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"}},device:{send:{method:"PUT",uri:"/v1/telemetry/metrics/device/users/{userId}/timestamp/{timestamp}"}},dump:{sendBatch:{method:"PUT",uri:"/v1/telemetry/metrics/dump/{type}/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"}},events:{send:{method:"PUT",uri:"/v1/telemetry/events/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"},sendBatch:{method:"POST",uri:"/v1/telemetry/events/conferences/{conferenceId}/users/{userId}"}}},Nt.inject(qu,Gt.getToken,Gt.setToken,Gt.getJwtToken,Gt.getTokenCallback,(function(){}),qu.getHost,qu.endpoints,!0,Gt.isTokenExpired,Gt.getLeavingCallback);var $u=qu;function Ku(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!=Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Ku(e[n],t[n]))return!1}return!0}return!1}var Xu,Ju,Qu,ec,tc,nc,rc,ic,ac,oc,sc,uc,cc,lc=g((function e(t){y(this,e),this.type=t.type,this.level=t.level})),dc=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,{type:"UserAction",level:e.level,component:e.component})).action=e.action,r.description=e.description,r.component=e.component,r.api=e.api,e.payload&&(r.payload=e.payload),r}return g(n)}(lc),fc=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),(r=t.call(this,{type:"SDKError",level:"error"})).error=e.error,r.message=e.message,e.code&&(r.code=e.code),r}return g(n)}(lc),pc=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),r=t.call(this,{type:"SDKTrace",level:"trace"}),e.description&&(r.description=e.description),r.payload=e.data,r.api=e.api,r}return g(n)}(lc),hc=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},mc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},vc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},gc=Ye()("vxt:telemetry"),yc={events:{enabled:!0,trace:!1,flushSec:10,batch:5},dvc:{enabled:!1,logLevel:"info"},webrtc:{enabled:!0,samplingFreqSec:10,batch:3},device:{enabled:!0},rts:{enabled:!1}},kc=function(e){k(n,e);var t=b(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e)).configuration=yc,Xu.set(d(o),new Bu),Ju.set(d(o),"1.1"),Qu.set(d(o),void 0),ec.set(d(o),void 0),tc.set(d(o),void 0),nc.set(d(o),void 0),rc.set(d(o),{}),ic.set(d(o),void 0),ac.set(d(o),void 0),oc.set(d(o),{}),sc.set(d(o),{}),uc.set(d(o),void 0),cc.set(d(o),!1),mc(d(o),Qu,r),mc(d(o),ec,i),mc(d(o),tc,a),o.sendExecutor=new Ko(2*Fi),o}return g(n,[{key:"registerComponent",value:function(e,t){e&&t&&!vc(this,Xu)[e]&&(vc(this,Xu)[e]=t)}},{key:"localStats",value:function(){var e;return null===(e=vc(this,Qu).manager.rtc.getRtpStatsForTelemetry())||void 0===e?void 0:e.metrics}},{key:"onConferenceJoining",value:function(e){mc(this,cc,!0),this._conferenceId=e.conferenceId}},{key:"onConferenceJoined",value:function(e){var t;return hc(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return mc(this,cc,!1),this._conferenceId=e.conferenceId,n.next=4,this.getConfiguration();case 4:((null===(t=e.listenOnly)||void 0===t?void 0:t.type)===P.Mixed?this.configuration.rts.enabled:this.configuration.webrtc.enabled)&&mc(this,nc,setInterval(this.collect.bind(this),1e3*this.configuration.webrtc.samplingFreqSec));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"onConferenceLeaving",value:function(e){return hc(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vc(this,nc)&&(clearInterval(vc(this,nc)),mc(this,nc,null));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onConferenceLeft",value:function(e){return hc(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(vc(this,nc)&&(clearInterval(vc(this,nc)),mc(this,nc,null)),!0!==vc(this,Qu).manager.getClientStateDumpsEnabled()){t.next=9;break}return t.prev=1,t.next=4,this.sendReport(e.stateDump);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("Sending error: "+t.t0);case 9:this.flushEventReport(),mc(this,sc,{}),this._conferenceId=null,this.flush(),mc(this,rc,{}),mc(this,oc,{}),mc(this,ic,null),mc(this,ac,null);case 10:case"end":return t.stop()}}),t,this,[[1,6]])})))}},{key:"onConferenceGlobalError",value:function(e){return hc(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.configuration.events.enabled){t.next=2;break}return t.abrupt("return");case 2:e.error instanceof tt?n=new fc({error:"MediaStreamError",message:e.error.toString()}):e.error instanceof et&&"PeerNotFoundError"!=e.error.name?n=new fc({error:e.error.name,message:e.error.message}):e.error instanceof ot?n=new fc({error:e.error.name,message:e.error.message,code:e.code}):e.error instanceof ht?n=new fc({error:"DvcError",message:"".concat(e.error.name,": ").concat(e.error.message)}):(e.error instanceof lt||e.error instanceof Qe&&"DolbyVoiceInitError"===e.error.name||e.error instanceof $o||e.error instanceof Ni)&&(n=new fc({error:e.error.name,message:e.error.message})),this.onEventReport(n);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onUserAction",value:function(e){return hc(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.configuration.events.enabled){t.next=2;break}return t.abrupt("return");case 2:n=new dc(e),this.onEventReport(n,e.timestamp);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onConferenceGlobalTrace",value:function(e){return hc(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.configuration.events.trace){t.next=2;break}return t.abrupt("return");case 2:n=new pc(e),this.onEventReport(n,e.ts);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onEventReport",value:function(e,t){var n=t||Date.now();vc(this,sc)[this.getReportCacheTimestampKey(n)]=e,Object.keys(vc(this,sc)).length>=this.configuration.events.batch&&this.flushEventReport(),vc(this,uc)||mc(this,uc,setTimeout(this.flushEventReport.bind(this),1e3*this.configuration.events.flushSec))}},{key:"getReportCacheTimestampKey",value:function(e){return vc(this,sc)[e]?this.getReportCacheTimestampKey(e+1):e}},{key:"flushEventReport",value:function(){vc(this,uc)&&(clearTimeout(vc(this,uc)),mc(this,uc,null)),Object.keys(vc(this,sc)).length>=1&&(this.sendEventReport(vc(this,sc)),mc(this,sc,{}))}},{key:"sendEventReport",value:function(e){var t,n,r=this;if(null===(n=null===(t=vc(this,ec))||void 0===t?void 0:t.participant)||void 0===n?void 0:n.id){var i=this._conferenceId||"00000000-0000-0000-0000-000000000000";if(1===Object.keys(e).length){var a=Object.keys(e)[0],o=e[a];this.sendExecutor.execute((function(){return hc(r,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$u.events.send({conferenceId:i,userId:vc(this,ec).participant.id,timestamp:a,headers:{"Content-Type":"application/json"},data:JSON.stringify(o)});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.onEventReport(new fc({error:"TelemetryError",message:"Unable to send client event logs. Reason: "+e.t0.message}),Date.now());case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))}))}else Object.keys(e).length>1&&this.sendExecutor.execute((function(){return hc(r,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$u.events.sendBatch({conferenceId:i,userId:vc(this,ec).participant.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(e)});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),this.onEventReport(new fc({error:"TelemetryError",message:"Unable to send client event logs. Reason: "+t.t0.message}),Date.now());case 8:case"end":return t.stop()}}),t,this,[[0,5]])})))}))}}},{key:"collect",value:function(){var e,t,n,r,i,a,o;return hc(this,void 0,void 0,p().mark((function s(){var u,c,l,d,f;return p().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(e=vc(this,Qu).manager)||void 0===e?void 0:e.rtc){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,vc(this,Qu).manager.rtc.getRtpStatsForTelemetry();case 4:(u=s.sent)&&(c=Zu()().utc().valueOf(),l=u.metrics,delete u.metrics,d={audioInput:vc(this,tc).selectedAudioInputDevice,audioOutput:vc(this,tc).selectedAudioOutputDevice,videoInput:vc(this,tc).selectedVideoInputDevice},f=Object.assign(Object.assign(Object.assign({},u),{version:vc(this,Ju),conferenceId:this._conferenceId,userId:vc(this,ec).participant.id,timestamp:0,metrics:{}}),!Ku(d,vc(this,oc))&&{devices:Object.assign(Object.assign(Object.assign({},!Ku(d.audioInput,vc(this,oc).audioInput)&&{audioInput:{groupId:null===(t=d.audioInput)||void 0===t?void 0:t.groupId,label:null===(n=d.audioInput)||void 0===n?void 0:n.label}}),!Ku(d.audioOutput,vc(this,oc).audioOutput)&&{audioOutput:{groupId:null===(r=d.audioOutput)||void 0===r?void 0:r.groupId,label:null===(i=d.audioOutput)||void 0===i?void 0:i.label}}),!Ku(d.videoInput,vc(this,oc).videoInput)&&{videoInput:{groupId:null===(a=d.videoInput)||void 0===a?void 0:a.groupId,label:null===(o=d.videoInput)||void 0===o?void 0:o.label}})}),this.analyze(l,c),l.forEach((function(e,t){var n=new Array;f.metrics[t]=n,e.forEach((function(e){Gu.forEach((function(t,r){t(e)&&n.push(function(e,t){var n=new t;return Object.keys(n).forEach((function(t){n[t]=e[t]})),n}(e,Hu[r]))}))}))})),f.timestamp=c,mc(this,oc,d),vc(this,rc)[c]=f,this.flush());case 6:case"end":return s.stop()}}),s,this)})))}},{key:"analyze",value:function(e,t){var n=this;vc(this,ic)&&e.forEach((function(e,r){var i=vc(n,ic).get(r);i&&e.filter((function(e){return"inbound-rtp"===e.type||"outbound-rtp"===e.type||"candidate-pair"===e.type})).forEach((function(e){var r=i.filter((function(t){return t.id===e.id})),a=Zu()(t).diff(Zu()(vc(n,ac)),"seconds");e.bytesSent&&r[0]&&r[0].bytesSent&&(e.bitrateSent=parseFloat(((e.bytesSent-r[0].bytesSent)/a/1024*8).toFixed(2))),e.bytesReceived&&r[0]&&r[0].bytesReceived&&(e.bitrateReceived=parseFloat(((e.bytesReceived-r[0].bytesReceived)/a/1024*8).toFixed(2)))}))})),mc(this,ic,e),mc(this,ac,t)}},{key:"flush",value:function(){var e=this;if(Object.keys(vc(this,rc)).length>=this.configuration.webrtc.batch){var t=vc(this,rc);this.sendExecutor.execute((function(){return e.flushInternal(t,e._conferenceId,vc(e,ec).participant.id)})),mc(this,rc,{})}}},{key:"flushInternal",value:function(e,t,n){return hc(this,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,$u.webrtc.sendBatch({conferenceId:t,userId:n,headers:{"Content-Type":"application/json"},data:JSON.stringify(e)});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),this.onEventReport(new fc({error:"TelemetryError",message:"Unable to send metrics report. Reason: "+r.t0.message}),Date.now());case 8:case"end":return r.stop()}}),r,this,[[0,5]])})))}},{key:"getConfiguration",value:function(){return hc(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$u.configuration.fetch();case 3:t=e.sent.data,this.configuration=Object.assign(Object.assign({},yc),t),gc("Configuration: ",this.configuration),vc(this,Qu).manager.setClientStateDumpsEnabled(this.configuration.dvc.enabled),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch Telemetry configuration!",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"onSessionOpened",value:function(){var e=this;o(s(n.prototype),"onSessionOpened",this).call(this),this.getConfiguration().then((function(){var t,n=new Uu;n.userId=vc(e,ec).participant.id,n.timestamp=Zu()().utc().valueOf();var r=new Wu,i=null===(t=Fn.parsed)||void 0===t?void 0:t.getResult(),a=new Vu;a.screen="".concat(window.screen.width,"x").concat(window.screen.height),e.registerComponent("app",window.location.href),r.componentsVersion=vc(e,Xu),r.hardware=a,r.name="".concat(i.browser.name," ").concat(i.browser.version),r.os="".concat(i.os.name," ").concat(i.os.version," ").concat(i.os.versionName),r.timeZone=Zu()().format("UTCZ"),n.metrics=r,$u.device.send({userId:n.userId,timestamp:n.timestamp,data:n})}))}},{key:"sendReport",value:function(e){return hc(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e&&(n=Zu()().utc().valueOf(),e.component&&"dvc"!==e.component?$u.dump.sendBatch({conferenceId:this._conferenceId,userId:vc(this,ec).participant.id,timestamp:n,headers:{"Content-Type":"application/zip"},data:e.content,type:e.component}):$u.dvc.sendBatch({conferenceId:this._conferenceId,userId:vc(this,ec).participant.id,timestamp:n,headers:{"Content-Type":"application/zip"},data:e.content}))}catch(e){console.log("Failed to create and send state dump")}case 1:case"end":return t.stop()}}),t,this)})))}}]),n}(Ct);Xu=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,rc=new WeakMap,ic=new WeakMap,ac=new WeakMap,oc=new WeakMap,sc=new WeakMap,uc=new WeakMap,cc=new WeakMap,kc=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.SessionOpened,Ge.ConferenceLeaving,Ge.UserAction,Ge.ConferenceGlobalError,Ge.ConferenceJoining,Ge.ConferenceGlobalTrace])],kc);var bc,_c,wc,Sc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},xc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Ec=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),bc.set(d(i),void 0),_c.set(d(i),void 0),Sc(d(i),bc,r),i}return g(n,[{key:"leaveAfterDelay",value:function(e){xc(this,bc).leave({keepAlive:!0,reason:"tabClosure"}),this.sleep(e)}},{key:"sleep",value:function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);}},{key:"onConferenceJoined",value:function(e){var t=this;o(s(n.prototype),"onConferenceJoined",this).call(this,e),!0===xc(this,bc).leaveConferenceOnBeforeUnload&&(Sc(this,_c,window.onbeforeunload),window.onbeforeunload=function(e){var n=e.target.activeElement,r=n&&n.href&&n.href.startsWith("mailto:"),i=n&&n.href&&n.href.startsWith("tel:");r||i||t.leaveAfterDelay(1500)})}},{key:"onConferenceLeft",value:function(e){window.onbeforeunload=xc(this,_c)||null,o(s(n.prototype),"onConferenceLeft",this).call(this,e)}}]),n}(Ct);bc=new WeakMap,_c=new WeakMap,function(e){e.None="none",e.Bokeh="bokeh",e.StaticImage="staticimage"}(wc||(wc={}));var Tc,Cc,jc,Pc,Mc,Ic,Rc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ac=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Dc=function(){function e(t,n,r){y(this,e),Tc.set(this,void 0),Cc.set(this,void 0),jc.set(this,void 0),Pc.set(this,wc.None),Mc.set(this,{}),Ic.set(this,null),Rc(this,Tc,t),Rc(this,Cc,n),Rc(this,jc,r)}return g(e,[{key:"setFilter",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,i){Ac(t,jc).isFilterSupported(e)?(Rc(t,Pc,e),Rc(t,Mc,Object.assign({},n)),t.isLiveVideoTrack(Ac(t,Ic))?r(Ac(t,jc).setFilter(Ac(t,Ic),Ac(t,Pc),Ac(t,Mc))):r()):i(new st("Setting video filter on camera stream failed. Filter '"+e+"' is unsupported"))}))}},{key:"isLocalParticipant",value:function(e){return e===Ac(this,Cc).participant.id}},{key:"isLiveVideoTrack",value:function(e){return e&&"live"===e.readyState}},{key:"hasLiveVideoTrack",value:function(e){return e.getVideoTracks().length>0&&this.isLiveVideoTrack(this.getVideoTrackFrom(e))}},{key:"getVideoTrackFrom",value:function(e){return e.getVideoTracks()[0]}},{key:"isCameraStreamType",value:function(e){return e&&e.type===Xn.Camera}},{key:"onStreamAdded",value:function(e){Ac(this,jc).isFilterSupported(Ac(this,Pc))&&this.isLocalParticipant(e.peerId)&&this.hasLiveVideoTrack(e.stream)&&this.isCameraStreamType(e.stream)&&(Rc(this,Ic,this.getVideoTrackFrom(e.stream)),Ac(this,jc).setFilter(Ac(this,Ic),Ac(this,Pc),Ac(this,Mc)).catch((function(e){return Rr.warn("Setting video filter on camera stream failed. "+e)})))}},{key:"onStreamUpdated",value:function(e){Ac(this,jc).isFilterSupported(Ac(this,Pc))&&this.isLocalParticipant(e.peerId)&&this.isCameraStreamType(e.stream)&&(this.hasLiveVideoTrack(e.stream)?(Rc(this,Ic,this.getVideoTrackFrom(e.stream)),Ac(this,jc).setFilter(Ac(this,Ic),Ac(this,Pc),Ac(this,Mc)).catch((function(e){return Rr.warn("Setting video filter on camera stream failed. "+e)}))):Rc(this,Ic,null))}},{key:"onStreamRemoved",value:function(e){Ac(this,jc).isFilterSupported(Ac(this,Pc))&&this.isLocalParticipant(e.peerId)&&this.isCameraStreamType(e.stream)&&Rc(this,Ic,null)}},{key:"onConferenceVideoFilterUpdate",value:function(e){Ac(this,jc).isFilterSupported(e.filter)?this.setFilter(e.filter,e.filterOptions):Rr.warn("Setting video filter on camera stream failed. Filter '"+e.filter+"' is unsupported")}}]),e}();Tc=new WeakMap,Cc=new WeakMap,jc=new WeakMap,Pc=new WeakMap,Mc=new WeakMap,Ic=new WeakMap,Dc=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.ConferenceVideoFilterUpdate,Ge.StreamAdded,Ge.StreamRemoved,Ge.StreamUpdated])],Dc);var Oc,Nc,Lc,Fc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},zc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Uc=function(){function e(){y(this,e),Oc.set(this,null),Nc.set(this,""),Lc.set(this,void 0),this.filterHandlers=new Map([[wc.None,e.prototype.filterNoneHandler],[wc.Bokeh,e.prototype.filterBokehHandler],[wc.StaticImage,e.prototype.filterStaticImageHandler]])}return g(e,[{key:"supportedFilters",get:function(){if(!Fc(this,Lc))try{!function(){var e=navigator.mediaDevices.getSupportedConstraints();return!!(e.hasOwnProperty("videoFilterMode")&&e.hasOwnProperty("videoFilterImageFileData")&&e.hasOwnProperty("videoFilterEnableDenoise"))&&e.videoFilterMode&&e.videoFilterImageFileData&&e.videoFilterEnableDenoise}()?zc(this,Lc,[]):zc(this,Lc,[wc.None,wc.Bokeh,wc.StaticImage])}catch(u){zc(this,Lc,[]),Rr.warn("Checking system capabilities failed. "+u)}return Fc(this,Lc)}},{key:"isFilterSupported",value:function(e){return this.supportedFilters.includes(e)}},{key:"setFilter",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,a){n.isFilterSupported(t)?e?e instanceof MediaStream?i(n.setFilterOnStream(e,t,r)):i(n.setFilterOnTrack(e,t,r)):a(new Error("Setting video filter failed. Stream is null")):a(new st("Setting video filter failed. Filter '"+t+"' is unsupported."))}))}},{key:"setFilterOnStream",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,a){e.getVideoTracks().length>0&&null!=e.getVideoTracks()[0]?i(n.setFilterOnTrack(e.getVideoTracks()[0],t,r)):a(new Error("Setting video filter failed. There is no video tracks in stream."))}))}},{key:"setFilterOnTrack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,a){"video"===e.kind?i(n.handleFilter(e,t,r)):a(new Error("Setting video filter failed. Media track isn't a video track"))}))}},{key:"handleFilter",value:function(e,t,n){var r=this;return new Promise((function(i,a){var o=r.filterHandlers.get(t);o?i(o.call(r,e,n)):a(new Error("Filter handler is undefined."))})).then((function(){return Rr.debug("Set video filter '".concat(t,"' on video track '").concat(e.id,"'"))}))}},{key:"filterNoneHandler",value:function(t,n){return n.videoDenoise?e.applyEffect(t,{mode:"none",denoise:!0}):e.applyEffect(t,{mode:"disabled"})}},{key:"filterBokehHandler",value:function(t,n){return e.applyEffect(t,{mode:"bokeh",denoise:n.videoDenoise})}},{key:"filterStaticImageHandler",value:function(t,n){return this.readFileAsBinaryString(n.imageFile).then((function(r){return e.applyEffect(t,{mode:"static_image",imageData:r,denoise:n.videoDenoise})}))}},{key:"readFileAsBinaryString",value:function(e){var t=this;return new Promise((function(n,r){if(e)if(Fc(t,Oc)!==e){var i=new FileReader;i.onerror=function(){i.abort(),r(new Error("Reading image file failed. "+i.error))},i.onload=function(){zc(t,Oc,e),zc(t,Nc,i.result),n(i.result)},i.readAsBinaryString(e)}else n(Fc(t,Nc));else r(new Error("Reading image file failed. File is null."))}))}}],[{key:"applyEffect",value:function(e,t){return function(e,t,n,r){var i=e.getSettings();return e.applyConstraints({width:{exact:null==i?void 0:i.width},height:{exact:null==i?void 0:i.height},frameRate:{exact:null==i?void 0:i.frameRate},videoFilterMode:t,videoFilterImageFileData:n,videoFilterEnableDenoise:r})}(e,t.mode,t.imageData||"",t.denoise||!1)}}]),e}();Oc=new WeakMap,Nc=new WeakMap,Lc=new WeakMap;var Vc,Bc,Wc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Gc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Hc=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),a=t.call(this,e),Vc.set(d(a),void 0),Bc.set(d(a),void 0),Wc(d(a),Vc,new Uc),Wc(d(a),Bc,new Dc(r,i,Gc(d(a),Vc))),a}return g(n,[{key:"getSupportedFilters",value:function(){return c(Gc(this,Vc).supportedFilters)}},{key:"setFilter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===t.stream?Gc(this,Bc).setFilter(e,t):Gc(this,Vc).setFilter(t.stream,e,t)}}]),n}(Ct);Vc=new WeakMap,Bc=new WeakMap;var Yc,Zc,qc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},$c=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Kc=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),a=t.call(this,e),Yc.set(d(a),void 0),Zc.set(d(a),void 0),qc(d(a),Yc,r),qc(d(a),Zc,i),a}return g(n,[{key:"local",get:function(){return $c(this,Yc)}},{key:"remote",get:function(){return $c(this,Zc)}}]),n}(Ct);Yc=new WeakMap,Zc=new WeakMap;var Xc,Jc,Qc=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},el=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},tl=function(){function e(t,n){y(this,e),Xc.set(this,void 0),Jc.set(this,void 0),Qc(this,Xc,t),Qc(this,Jc,n)}return g(e,[{key:"local",get:function(){return el(this,Xc)}},{key:"remote",get:function(){return el(this,Jc)}}]),e}();Xc=new WeakMap,Jc=new WeakMap;var nl,rl,il,al,ol,sl=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ul=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},cl=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,"override value")}return g(n)}(_(Error)),ll=function(){function e(){y(this,e),nl.set(this,void 0),rl.set(this,void 0),il.set(this,void 0),al.set(this,void 0),ol.set(this,void 0)}return g(e,[{key:"storeValue",get:function(){return sl(this,il)},set:function(e){ul(this,il,e)}},{key:"getValue",value:function(){var e=this;return sl(this,rl)&&(sl(this,rl).call(this,new cl),ul(this,nl,void 0),ul(this,rl,void 0)),new Promise((function(t,n){ul(e,nl,t),ul(e,rl,n)}))}},{key:"executeGet",value:function(e){if(sl(this,nl)&&sl(this,rl)){var t=sl(this,nl),n=sl(this,rl);e().then((function(e){t(e)}),(function(e){n(e)}))}ul(this,nl,void 0),ul(this,rl,void 0)}},{key:"setValue",value:function(e){var t=this;return sl(this,ol)&&(sl(this,ol).call(this,new cl),ul(this,al,void 0),ul(this,ol,void 0)),ul(this,il,e),new Promise((function(e,n){ul(t,al,e),ul(t,ol,n)}))}},{key:"executeSet",value:function(e){if(sl(this,al)&&sl(this,ol)){var t=sl(this,al),n=sl(this,ol);e(sl(this,il)).then((function(e){t(e)}),(function(e){n(e)}))}else sl(this,il)&&e(sl(this,il));ul(this,al,void 0),ul(this,ol,void 0)}}]),e}();nl=new WeakMap,rl=new WeakMap,il=new WeakMap,al=new WeakMap,ol=new WeakMap;var dl,fl,pl,hl,ml,vl,gl,yl,kl,bl,_l,wl,Sl,xl,El,Tl,Cl,jl,Pl,Ml=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Il=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Rl=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};function Al(e){return Ml(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.mediaDevices){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,navigator.mediaDevices.enumerateDevices();case 4:return n=t.sent,t.abrupt("return",e?n.filter((function(t){return t.kind===e})):n);case 6:case"end":return t.stop()}}),t)})))}var Dl=function(e){k(n,e);var t=b(n);function n(){return y(this,n),t.call(this,"not supported")}return g(n)}(_(Error)),Ol=function(){function e(){var t=this;y(this,e),dl.set(this,void 0),fl.set(this,void 0),pl.set(this,void 0),hl.set(this,new ll),ml.set(this,void 0),vl.set(this,void 0),gl.set(this,void 0),yl.set(this,void 0),kl.set(this,void 0),bl.set(this,!1),_l.set(this,!1),wl.set(this,!1),Sl.set(this,[]),xl.set(this,[]),El.set(this,[]),Tl.set(this,null),Cl.set(this,null),jl.set(this,null),Pl.set(this,[]),this.initSelectAudioDevice(),this.initSelectVideoDevice(),Al().then((function(e){if(e){Il(t,xl,e.filter((function(e){return"audiooutput"===e.kind}))),Il(t,Sl,e.filter((function(e){return"audioinput"===e.kind}))),Il(t,El,e.filter((function(e){return"videoinput"===e.kind})));var n=Rl(t,xl).find((function(e){return"default"===e.deviceId}));n&&n.deviceId&&Il(t,yl,n)}}))}return g(e,[{key:"initSelectAudioDevice",value:function(){Il(this,dl,(function(e){return Promise.reject(new Dl)})),Il(this,fl,(function(e){return Promise.reject(new Dl)})),Il(this,bl,Il(this,_l,!1))}},{key:"initSelectVideoDevice",value:function(){Il(this,pl,(function(e){return Promise.reject(new Dl)})),Il(this,wl,!1)}},{key:"selectedAudioInputDevice",get:function(){return Rl(this,gl)},set:function(e){e&&Il(this,gl,e)}},{key:"selectedAudioOutputDevice",get:function(){return Rl(this,yl)},set:function(e){e&&Il(this,yl,e)}},{key:"selectedVideoInputDevice",get:function(){return Rl(this,kl)},set:function(e){e&&Il(this,kl,e)}},{key:"setComfortNoiseLevel",get:function(){var e=this;return Rl(this,vl)?function(t){return Rl(e,hl).storeValue=t,Rl(e,vl).call(e,t)}:Rl(this,hl).setValue.bind(Rl(this,hl))},set:function(e){Il(this,vl,e),e&&Rl(this,hl).executeSet(Rl(this,vl))}},{key:"getComfortNoiseLevel",get:function(){return Rl(this,ml)?Rl(this,ml):Rl(this,hl).getValue.bind(Rl(this,hl))},set:function(e){Il(this,ml,e),e&&Rl(this,hl).executeGet(Rl(this,ml))}},{key:"selectAudioInputDevice",get:function(){return Rl(this,dl)},set:function(e){e&&(Il(this,dl,e),Il(this,bl,!0))}},{key:"selectAudioOutputDevice",get:function(){return Rl(this,fl)},set:function(e){e&&(Il(this,fl,e),Il(this,_l,!0))}},{key:"selectVideoInputDevice",get:function(){return Rl(this,pl)},set:function(e){e&&(Il(this,pl,e),Il(this,wl,!0))}},{key:"audioOutputDevices",get:function(){return Rl(this,xl)}},{key:"audioInputDevices",get:function(){return Rl(this,Sl)}},{key:"isOutputSelectorValid",get:function(){return Rl(this,_l)}},{key:"getConnectedDevices",value:function(){return Al()}},{key:"getConnectedVideoInputDevices",value:function(){return Al("videoinput")}},{key:"getConnectedAudioInputDevices",value:function(){return Al("audioinput")}},{key:"getConnectedAudioOutputDevices",value:function(){return Al("audiooutput")}},{key:"areDevicesEqual",value:function(e,t){return e&&t&&e.deviceId===t.deviceId&&e.label===t.label&&e.kind===t.kind&&e.groupId===t.groupId}},{key:"trackDevicesUpdates",value:function(e,t){return{added:t.filter((function(t){return!e.find((function(e){return e.groupId===t.groupId&&e.kind===t.kind}))})).filter((function(e){return"default"!==e.deviceId})),removed:e.filter((function(e){return!t.find((function(t){return t.groupId===e.groupId&&t.kind===e.kind&&e.label.includes(t.label)}))})).filter((function(e){return"default"!==e.deviceId})),updated:t.filter((function(t){return e.find((function(e,n){return e.kind===t.kind&&e.deviceId===t.deviceId&&(e.groupId!==t.groupId||e.label!==t.label)}))}))}}},{key:"getCurrentSelectedDevice",value:function(e,t){return e&&t.find((function(t){return t.deviceId===e.deviceId&&t.label===e.label&&t.kind===e.kind&&t.groupId===e.groupId}))?e:Array.isArray(t)&&t.length>0?((e&&"audioinput"===e.kind||e&&"audiooutput"===e.kind)&&Fn.isWindows&&Fn.isChrome||Fn.isEdge?t.find((function(e){return"communications"===e.deviceId})):t.find((function(e){return"default"===e.deviceId})))||t[0]:void 0}},{key:"scheduleAudioInputChange",value:function(e){var t=this,n=!Rl(this,Tl);Il(this,Tl,e),n&&setTimeout((function(){return Ml(t,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rl(this,dl).call(this,Rl(this,Tl));case 2:Il(this,Tl,null);case 3:case"end":return e.stop()}}),e,this)})))}),60)}},{key:"scheduleAudioOutputChange",value:function(e){var t=this,n=!Rl(this,Cl);Il(this,Cl,e),n&&setTimeout((function(){return Ml(t,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rl(this,fl).call(this,Rl(this,Cl));case 2:Il(this,Cl,null);case 3:case"end":return e.stop()}}),e,this)})))}),60)}},{key:"scheduleVideoInputChange",value:function(e){var t=this,n=!Rl(this,jl);Il(this,jl,e),n&&setTimeout((function(){return Ml(t,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rl(this,pl).call(this,Rl(this,jl));case 2:Il(this,jl,null);case 3:case"end":return e.stop()}}),e,this)})))}),60)}},{key:"isDeviceListUpdated",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return e.label===t[n].label&&e.deviceId===t[n].deviceId&&e.groupId===t[n].groupId}))}},{key:"onDeviceChange",value:function(e){var t=this;Rl(this,Pl).push(e);var n,r=function(e){return Ml(t,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,s,u=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Al();case 2:if(t=e.sent,n=t.filter((function(e){return"audioinput"===e.kind})),r=t.filter((function(e){return"audiooutput"===e.kind})),i=t.filter((function(e){return"videoinput"===e.kind})),!(this.isDeviceListUpdated(n,Rl(this,Sl))&&this.isDeviceListUpdated(r,Rl(this,xl))&&this.isDeviceListUpdated(i,Rl(this,El)))){e.next=8;break}return e.abrupt("return");case 8:(a=this.getCurrentSelectedDevice(Rl(this,gl),n))&&Rl(this,bl)&&!this.areDevicesEqual(a,Rl(this,gl))&&this.scheduleAudioInputChange(a),Il(this,gl,a),(o=this.getCurrentSelectedDevice(Rl(this,yl),r))&&Rl(this,_l)&&!this.areDevicesEqual(o,Rl(this,yl))&&this.scheduleAudioOutputChange(o),Il(this,yl,o),(s=this.getCurrentSelectedDevice(Rl(this,kl),i))&&Rl(this,wl)&&!this.areDevicesEqual(s,Rl(this,kl))&&this.scheduleVideoInputChange(s),Il(this,kl,s),Rl(this,Pl).forEach((function(e){var t=(e.deviceKind&uu.AudioInput)===uu.AudioInput,a=(e.deviceKind&uu.AudioOutput)===uu.AudioOutput,o=(e.deviceKind&uu.VideoInput)===uu.VideoInput,s=(e.handlerType&cu.ListDevices)===cu.ListDevices,l=(e.handlerType&cu.GetDifferences)===cu.GetDifferences;if((a||t||o)&&(s||l)){var d={};if(s&&(d.list=Object.assign(Object.assign(Object.assign({},o&&i.length>0&&{videoInput:c(i)}),t&&n.length>0&&{audioInput:c(n)}),a&&r.length>0&&{audioOutput:c(r)})),l){var f={};if(t){var p=u.trackDevicesUpdates(Rl(u,Sl),n);(p&&p.added.length>0||p.updated.length>0||p.removed.length>0)&&(f=Object.assign(Object.assign({},f),{audioInput:p}))}if(a){var h=u.trackDevicesUpdates(Rl(u,xl),r);(h&&h.added.length>0||h.updated.length>0||h.removed.length>0)&&(f=Object.assign(Object.assign({},f),{audioOutput:h}))}if(o){var m=u.trackDevicesUpdates(Rl(u,El),i);(m&&m.added.length>0||m.updated.length>0||m.removed.length>0)&&(f=Object.assign(Object.assign({},f),{videoInput:m}))}var v=[].concat(c(o?["videoInput"]:[]),c(t?["audioInput"]:[]),c(a?["audioOutput"]:[])),g=Object.keys(f);v.filter((function(e){return g.includes(e)})).length>0&&(d.updates=f)}Object.keys(d).length>0&&e.handler(d)}})),Il(this,Sl,n),Il(this,xl,r),Il(this,El,i);case 14:case"end":return e.stop()}}),e,this)})))};return Fn.isAndroid&&Fn.isChrome?n=setInterval(r,1e3):(null===navigator||void 0===navigator?void 0:navigator.mediaDevices)&&(navigator.mediaDevices.ondevicechange=r),function(){var r=Rl(t,Pl).indexOf(e);r>-1&&Rl(t,Pl).splice(r,1),n&&clearInterval(n)}}}]),e}();dl=new WeakMap,fl=new WeakMap,pl=new WeakMap,hl=new WeakMap,ml=new WeakMap,vl=new WeakMap,gl=new WeakMap,yl=new WeakMap,kl=new WeakMap,bl=new WeakMap,_l=new WeakMap,wl=new WeakMap,Sl=new WeakMap,xl=new WeakMap,El=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,jl=new WeakMap,Pl=new WeakMap;var Nl,Ll,Fl=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},zl=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ul=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Vl=function(){function e(t){y(this,e),Nl.set(this,void 0),Ll.set(this,void 0),zl(this,Nl,t),Ul(this,Nl).selectVideoInputDevice=this.onVideInputSelectedCallback.bind(this)}return g(e,[{key:"getCurrentDeviceId",value:function(){var e;return null===(e=Ul(this,Nl).selectedVideoInputDevice)||void 0===e?void 0:e.deviceId}},{key:"setNewDeviceId",value:function(e){return Fl(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ul(this,Nl).getConnectedVideoInputDevices();case 2:if((n=t.sent)&&0!==n.length){t.next=5;break}return t.abrupt("return");case 5:(r=n.find((function(t){return t.deviceId===e})))&&(Ul(this,Nl).selectedVideoInputDevice=r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"setOnVideoDeviceIdChangedCallback",value:function(e){zl(this,Ll,e)}},{key:"onVideInputSelectedCallback",value:function(e){return Fl(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Ul(this,Ll)&&(null==e?void 0:e.deviceId),!t.t0){t.next=4;break}return t.next=4,Ul(this,Ll).call(this,e.deviceId);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}();Nl=new WeakMap,Ll=new WeakMap;var Bl,Wl=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Gl=function(){function e(t){y(this,e),this.mediaStreamTrack=t}return g(e,[{key:"getMediaStreamTrack",value:function(){return this.mediaStreamTrack}},{key:"stop",value:function(){return Wl(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"applyConstraints",value:function(e){return Wl(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}}]),e}(),Hl=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Yl=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Zl=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ql=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Bl.set(d(i),void 0),Yl(d(i),Bl,r),i}return g(n,[{key:"getConstraints",value:function(){return Zl(this,Bl)}},{key:"stop",value:function(){return Hl(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mediaStreamTrack&&this.mediaStreamTrack.stop();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"applyConstraints",value:function(e){return Hl(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.assign(Object.assign({},Zl(this,Bl)),e),t.prev=1,t.next=4,this.getMediaStreamTrack().applyConstraints(n);case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(1),new tt(t.t0);case 9:Yl(this,Bl,n);case 10:case"end":return t.stop()}}),t,this,[[1,6]])})))}}],[{key:"create",value:function(e){return Hl(this,void 0,void 0,p().mark((function t(){var r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.enumerateDevices();case 2:if(r=t.sent.filter((function(e){return"videoinput"===e.kind})),!Fn.isSafari||0!==r.length){t.next=5;break}throw new tt({name:"NotFoundError",message:"Unable to detect video devices. Joining conference without video."});case 5:return t.prev=5,t.next=8,navigator.mediaDevices.getUserMedia({video:null==e||e,audio:!1});case 8:i=t.sent,t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(5),new tt(t.t0);case 14:if(i){t.next=16;break}throw new lt("Failed to create a video track from the camera. MediaStream is null.");case 16:if(i.getVideoTracks()&&i.getVideoTracks().length){t.next=18;break}throw new lt("Failed to create a video track from the camera. No video track in the media stream.");case 18:return a=i.getVideoTracks()[0],t.abrupt("return",(i.removeTrack(a),a.onended=function(){var e={track:{readyState:null==a?void 0:a.readyState,kind:null==a?void 0:a.kind,enabled:null==a?void 0:a.enabled,id:null==a?void 0:a.id}};Je.send(We.ConferenceGlobalTrace.fromData({api:"MediaStreamTrack.onended",data:e}))},new n(a,e)));case 20:case"end":return t.stop()}}),t,null,[[5,11]])})))}}]),n}(Gl);Bl=new WeakMap;var $l,Kl,Xl=function(e){k(n,e);var t=b(n);function n(e){return y(this,n),t.call(this,e)}return g(n,[{key:"applyConstraints",value:function(e){return t=this,n=void 0,i=p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getMediaStreamTrack().getConstraints(),r=Object.assign(Object.assign({},n),e),t.next=3,this.getMediaStreamTrack().applyConstraints(r);case 3:case"end":return t.stop()}}),t,this)})),new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Gl),Jl=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ql=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ed=function(){function e(t){y(this,e),$l.set(this,new Array),Kl.set(this,void 0),Jl(this,Kl,t)}return g(e,[{key:"reset",value:function(){Ql(this,$l).length=0}},{key:"hit",value:function(){Ql(this,$l).push(Date.now())}},{key:"hitsInLastXTime",value:function(e){var t=Date.now();this.removeOldHits(t);var n=t,r=t-e;return this.getHits(n,r).length}},{key:"removeOldHits",value:function(e){var t=e,n=e-Ql(this,Kl);Jl(this,$l,this.getHits(t,n))}},{key:"getHits",value:function(e,t){return Ql(this,$l).filter((function(n){return t<=n&&n<=e}))}}]),e}();$l=new WeakMap,Kl=new WeakMap;var td,nd,rd,id,ad,od=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},sd=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Camera="camera",e.Custom="custom"}(ad||(ad={}));var ud=function(){function e(t,n){y(this,e),td.set(this,void 0),nd.set(this,void 0),od(this,td,t),od(this,nd,n)}return g(e,[{key:"sourceType",get:function(){return sd(this,td)}},{key:"processorOptions",get:function(){return sd(this,nd)},set:function(e){od(this,nd,e)}},{key:"isCamera",value:function(){return sd(this,td)===ad.Camera}},{key:"isCustom",value:function(){return sd(this,td)===ad.Custom}},{key:"asCamera",value:function(){return this}},{key:"asCustom",value:function(){return this}}],[{key:"camera",value:function(e,t){return new cd(e,t)}},{key:"custom",value:function(e,t){return new ld(e,t)}}]),e}();td=new WeakMap,nd=new WeakMap;var cd=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,ad.Camera,r),rd.set(d(i),void 0),od(d(i),rd,e),i}return g(n,[{key:"constraints",get:function(){return sd(this,rd)}}]),n}(ud);rd=new WeakMap;var ld=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,ad.Custom,r),id.set(d(i),void 0),od(d(i),id,e),i}return g(n,[{key:"userVideoTrack",get:function(){return sd(this,id)}}]),n}(ud);id=new WeakMap;var dd,fd=w(3958),pd=w.n(fd),hd=function(){function e(){y(this,e)}return g(e,null,[{key:"modelFileUrl",get:function(){return Hr("vsl_impl.bin","f8a22a1934bcaf5dbb64319b6e40758e")}},{key:"wasmFileUrl",get:function(){return Hr("vsl_impl.wasm","f8a22a1934bcaf5dbb64319b6e40758e")}},{key:"dvdnrFileUrl",get:function(){return Hr("dvdnr.wasm","3fce421b27d87403287e7d94e770f57e")}}]),e}(),md=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},vd=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},gd=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},yd=w(4661);function kd(){return function(e,t,n){var r=n.value;return n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(this,t);return"object"==typeof i&&"function"==typeof i.then?i.catch((function(e){throw wt(e)})):i}catch(t){throw wt(t)}},n}}var bd=function(){function e(t){y(this,e),dd.set(this,void 0),function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,n)}(this,dd,t)}return g(e,[{key:"getModelVersion",value:function(){return gd(this,dd).getModelVersion()}},{key:"setProcessingErrorHandler",value:function(e){gd(this,dd).setProcessingErrorHandler(e)}},{key:"getOutput",value:function(){return vd(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd(this,dd).getOutput();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){gd(this,dd).stop()}},{key:"start",value:function(){gd(this,dd).start()}},{key:"changeOutputFrameRate",value:function(e){return vd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gd(this,dd).changeOutputFrameRate(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"changeInput",value:function(e){return vd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gd(this,dd).changeInput(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setPassthroughMode",value:function(e){gd(this,dd).setPassthroughMode(e)}},{key:"getPassthroughMode",value:function(){return gd(this,dd).getPassthroughMode()}},{key:"setBackgroundMode",value:function(e){gd(this,dd).setBackgroundMode(e)}},{key:"getBackgroundMode",value:function(){return gd(this,dd).getBackgroundMode()}},{key:"changeBackground",value:function(e){return vd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gd(this,dd).changeBackground(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setFaceEnhanceMode",value:function(e){gd(this,dd).setFaceEnhanceMode(e)}},{key:"getFaceEnhanceMode",value:function(){return gd(this,dd).getFaceEnhanceMode()}},{key:"setDenoiseMode",value:function(e){gd(this,dd).setDenoiseMode(e)}},{key:"getDenoiseMode",value:function(){return gd(this,dd).getDenoiseMode()}},{key:"setAutoframeMode",value:function(e){gd(this,dd).setAutoframeMode(e)}},{key:"getAutoframeMode",value:function(){return gd(this,dd).getAutoframeMode()}},{key:"setFaceSmoothMode",value:function(e){gd(this,dd).setFaceSmoothMode(e)}},{key:"getFaceSmoothMode",value:function(){return gd(this,dd).getFaceSmoothMode()}},{key:"setFaceSmoothStrength",value:function(e){gd(this,dd).setFaceSmoothStrength(e)}},{key:"getFaceSmoothStrength",value:function(){return gd(this,dd).getFaceSmoothStrength()}},{key:"getFaceSmoothStrengthMax",value:function(){return gd(this,dd).getFaceSmoothStrengthMax()}},{key:"getFaceSmoothStrengthMin",value:function(){return gd(this,dd).getFaceSmoothStrengthMin()}},{key:"setStudioLightMode",value:function(e){gd(this,dd).setStudioLightMode(e)}},{key:"getStudioLightMode",value:function(){return gd(this,dd).getStudioLightMode()}},{key:"setFaceGlowStrength",value:function(e){gd(this,dd).setFaceGlowStrength(e)}},{key:"getFaceGlowStrength",value:function(){return gd(this,dd).getFaceGlowStrength()}},{key:"getFaceGlowStrengthMax",value:function(){return gd(this,dd).getFaceGlowStrengthMax()}},{key:"getFaceGlowStrengthMin",value:function(){return gd(this,dd).getFaceGlowStrengthMin()}}],[{key:"create",value:function(t,n){return vd(this,void 0,void 0,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new yd.VideoFilter(t,n);case 2:return i=r.sent,r.abrupt("return",new e(i));case 4:case"end":return r.stop()}}),r)})))}}]),e}();dd=new WeakMap,md([kd()],bd.prototype,"getModelVersion",null),md([kd()],bd.prototype,"setProcessingErrorHandler",null),md([kd()],bd.prototype,"getOutput",null),md([kd()],bd.prototype,"stop",null),md([kd()],bd.prototype,"start",null),md([kd()],bd.prototype,"changeOutputFrameRate",null),md([kd()],bd.prototype,"changeInput",null),md([kd()],bd.prototype,"setPassthroughMode",null),md([kd()],bd.prototype,"getPassthroughMode",null),md([kd()],bd.prototype,"setBackgroundMode",null),md([kd()],bd.prototype,"getBackgroundMode",null),md([kd()],bd.prototype,"changeBackground",null),md([kd()],bd.prototype,"setFaceEnhanceMode",null),md([kd()],bd.prototype,"getFaceEnhanceMode",null),md([kd()],bd.prototype,"setDenoiseMode",null),md([kd()],bd.prototype,"getDenoiseMode",null),md([kd()],bd.prototype,"setAutoframeMode",null),md([kd()],bd.prototype,"getAutoframeMode",null),md([kd()],bd.prototype,"setFaceSmoothMode",null),md([kd()],bd.prototype,"getFaceSmoothMode",null),md([kd()],bd.prototype,"setFaceSmoothStrength",null),md([kd()],bd.prototype,"getFaceSmoothStrength",null),md([kd()],bd.prototype,"getFaceSmoothStrengthMax",null),md([kd()],bd.prototype,"getFaceSmoothStrengthMin",null),md([kd()],bd.prototype,"setStudioLightMode",null),md([kd()],bd.prototype,"getStudioLightMode",null),md([kd()],bd.prototype,"setFaceGlowStrength",null),md([kd()],bd.prototype,"getFaceGlowStrength",null),md([kd()],bd.prototype,"getFaceGlowStrengthMax",null),md([kd()],bd.prototype,"getFaceGlowStrengthMin",null),md([kd()],bd,"create",null);var _d,wd,Sd=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},xd=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ed=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Td=Ye()("vxt:video:processor");function Cd(e){return null!=e}function jd(e,t,n){return e<0?t:e>1?n:Math.round((n-t)*e+t)}var Pd=function(){function e(t){y(this,e),_d.set(this,void 0),wd.set(this,{}),xd(this,_d,t)}return g(e,[{key:"stop",value:function(){Ed(this,_d).stop()}},{key:"start",value:function(){Ed(this,_d).start()}},{key:"setProcessingErrorCallback",value:function(e){var t=this;Ed(this,_d).setProcessingErrorHandler((function(n){return Sd(t,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(wt(n,"Internal video processing exception"));case 2:case"end":return t.stop()}}),t)})))}))}},{key:"setOptions",value:function(e){return Sd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=function(e,t){if(!Cd(t))return Object.assign({},e);var n={};return Object.keys(e).forEach((function(r){Cd(e[r])&&(pd()(e[r],t[r])||(n[r]=e[r]))})),n}(e,Ed(this,wd)),t.t0=Cd(e.virtualBackground),!t.t0){t.next=5;break}return t.next=5,this.handleVirtualBackground(e.virtualBackground);case 5:if(t.t1=Cd(e.facialSmoothing),!t.t1){t.next=9;break}return t.next=9,this.handleFacialSmoothing(e.facialSmoothing);case 9:if(t.t2=Cd(e.autoBrightness),!t.t2){t.next=13;break}return t.next=13,this.handleAutoBrightness(e.autoBrightness);case 13:if(t.t3=Cd(e.spotLight),!t.t3){t.next=17;break}return t.next=17,this.handleSpotLight(e.spotLight);case 17:if(t.t4=Cd(e.noiseReduction),!t.t4){t.next=21;break}return t.next=21,this.handleNoiseReduction(e.noiseReduction);case 21:if(t.t5=Cd(e.autoFraming),!t.t5){t.next=25;break}return t.next=25,this.handleAutoFraming(e.autoFraming);case 25:xd(this,wd,Object.assign(Object.assign({},Ed(this,wd)),e)),Td("Set video processor options:",e);case 27:case"end":return t.stop()}}),t,this)})))}},{key:"getOptions",value:function(){return Ed(this,wd)}},{key:"getOutputStream",value:function(){return Sd(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(this,_d).getOutput();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"changeOutputStreamFrameRate",value:function(e){return Sd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ed(this,_d).changeOutputFrameRate(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeInputStream",value:function(e){return Sd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ed(this,_d).changeInput(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"handleVirtualBackground",value:function(e){return Sd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e){t.next=4;break}Ed(this,_d).setPassthroughMode(!0),t.next=14;break;case 4:if("bokeh"!==e){t.next=8;break}Ed(this,_d).setBackgroundMode("bokeh"),Ed(this,_d).setPassthroughMode(!1),t.next=14;break;case 8:if(e instanceof HTMLImageElement||e instanceof HTMLVideoElement){t.next=10;break}throw new lt("Unknown a video background type: '"+e+"'");case 10:return t.next=12,Ed(this,_d).changeBackground(e);case 12:Ed(this,_d).setBackgroundMode("replace"),Ed(this,_d).setPassthroughMode(!1);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"handleFacialSmoothing",value:function(e){if(!1===e)Ed(this,_d).setFaceSmoothMode(!1);else{var t=Ed(this,_d).getFaceSmoothStrengthMin(),n=jd(e,t,Ed(this,_d).getFaceSmoothStrengthMax());if(n==t)return void Ed(this,_d).setFaceSmoothMode(!1);Ed(this,_d).getFaceSmoothMode()||Ed(this,_d).setFaceSmoothMode(!0),Ed(this,_d).setFaceSmoothStrength(n)}}},{key:"handleAutoBrightness",value:function(e){Ed(this,_d).setFaceEnhanceMode(e)}},{key:"handleSpotLight",value:function(e){if(!1===e)Ed(this,_d).setStudioLightMode(!1);else{var t=Ed(this,_d).getFaceGlowStrengthMin(),n=jd(e,t,Ed(this,_d).getFaceGlowStrengthMax());if(n==t)return void Ed(this,_d).setStudioLightMode(!1);Ed(this,_d).getStudioLightMode()||Ed(this,_d).setStudioLightMode(!0),Ed(this,_d).setFaceGlowStrength(n)}}},{key:"handleNoiseReduction",value:function(e){Ed(this,_d).setDenoiseMode(e)}},{key:"handleAutoFraming",value:function(e){Ed(this,_d).setAutoframeMode(e)}}],[{key:"create",value:function(t,n){var r;return Sd(this,void 0,void 0,p().mark((function i(){var a,o;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a={passthrough:!0,model_filepath:hd.modelFileUrl,wasm_filepath:hd.wasmFileUrl,dvdnr_filepath:hd.dvdnrFileUrl,debug:null!==(r=null==n?void 0:n.debugLogs)&&void 0!==r&&r},n&&(a.flags={nonBlockingAsyncPixelReadback:n.nonBlockingAsyncPixelReadback},Td("Set video processor flags:",n)),i.next=4,bd.create(t,a);case 4:return o=i.sent,i.abrupt("return",(Td.enabled&&Td("Vsl wrapper created, model:",o.getModelVersion()),new e(o)));case 6:case"end":return i.stop()}}),i)})))}}]),e}();_d=new WeakMap,wd=new WeakMap;var Md,Id,Rd,Ad,Dd=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Od=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Nd=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Ld=Ye()("vxt:video:processor"),Fd=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),a=t.call(this,r),Md.set(d(a),void 0),Id.set(d(a),void 0),Rd.set(d(a),!1),Od(d(a),Id,e),Od(d(a),Md,i),a}return g(n,[{key:"setProcessorOptions",value:function(e){return Dd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nd(this,Md).setOptions(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getProcessorOptions",value:function(){return Nd(this,Md).getOptions()}},{key:"getInputTrack",value:function(){return Nd(this,Id)}},{key:"setInputTrack",value:function(e){return Dd(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new MediaStream([e.getMediaStreamTrack()]),t.next=3,Nd(this,Md).changeInputStream(n);case 3:Od(this,Id,e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stop",value:function(){return Dd(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Nd(this,Rd),e.t0){e.next=8;break}if(e.t1=this.mediaStreamTrack,!e.t1){e.next=6;break}return e.next=6,this.mediaStreamTrack.stop();case 6:Nd(this,Md)&&Nd(this,Md).stop(),Od(this,Rd,!0);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"applyConstraints",value:function(e){return Dd(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==(null==e?void 0:e.frameRate),!t.t0){t.next=8;break}if("number"!=typeof e.frameRate){t.next=7;break}return t.next=5,Nd(this,Md).changeOutputStreamFrameRate(e.frameRate);case 5:t.next=8;break;case 7:Ld("'frameRate' defiend as a range is not supported");case 8:case"end":return t.stop()}}),t,this)})))}},{key:"engine",get:function(){return Nd(this,Md)}}],[{key:"create",value:function(e,t,r){return Dd(this,void 0,void 0,p().mark((function i(){var a,o,s,u,c,l=this;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=new MediaStream([e.getMediaStreamTrack()]),i.next=3,Pd.create(a,r);case 3:return o=i.sent,i.next=6,o.getOutputStream();case 6:if((s=i.sent)&&s.getVideoTracks().length){i.next=9;break}throw new lt("Failed to initialize a video processor engine.");case 9:return u=s.getVideoTracks()[0],c=new n(e,u,o),i.abrupt("return",(o.setProcessingErrorCallback((function(e){return Dd(l,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=Nd(c,Rd),n.t0){n.next=9;break}if(n.t1=t,!n.t1){n.next=9;break}return n.next=6,c.stop();case 6:return n.next=8,t(e);case 8:t=null;case 9:case"end":return n.stop()}}),n)})))})),o.start(),c));case 11:case"end":return i.stop()}}),i)})))}}]),n}(Gl);Md=new WeakMap,Id=new WeakMap,Rd=new WeakMap;var zd=function(){function e(){y(this,e)}return g(e,null,[{key:"merge",value:function(e,t){return Object.assign(Object.assign({},e),t)}},{key:"getDefaultConstraints",value:function(){return Fn.isFirefox?{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:25}}:{width:{max:1280,ideal:1280},height:{max:720,ideal:720},frameRate:{max:25,ideal:25}}}},{key:"getBandwidthConstraints",value:function(e){if(e<=0)return{};var t=(Fn.isMobile||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?cr.videoSettings.mobile:cr.videoSettings.desktop).find((function(t){return e>t.range.min&&e<=t.range.max}));return t?Fn.isFirefox?{width:{ideal:t.dimensions.width},height:{ideal:t.dimensions.height},frameRate:{ideal:t.fps}}:{width:{max:t.dimensions.width,ideal:t.dimensions.width},height:{max:t.dimensions.height,ideal:t.dimensions.height},frameRate:{max:t.fps,ideal:t.fps}}:{}}},{key:"applyBandwidthConstraintsIfNeeded",value:function(t,n,r,i,a){var o,s,u,c,l;return s=this,u=void 0,l=p().mark((function s(){var u,c,l,d;return p().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(u=e.getBandwidthConstraints(r)){s.next=3;break}return s.abrupt("return",void console.warn("Failed to adapt video quality to bandwidth. Video constraints are undefined."));case 3:if(c=null!==(o=t.getConstraints())&&void 0!==o?o:{},l=!1,i&&(pd()(c.width,u.width)||(c.width=u.width,l=!0),pd()(c.height,u.height)||(c.height=u.height,l=!0)),a&&(pd()(c.frameRate,u.frameRate)||(c.frameRate=u.frameRate,l=!0)),!l){s.next=18;break}return s.prev=6,s.next=9,t.applyConstraints(c);case 9:if(!n||!(null==c?void 0:c.frameRate)){s.next=13;break}return d=t.getMediaStreamTrack().getSettings().frameRate,s.next=13,n.applyConstraints({frameRate:d});case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(6),console.warn("Failed to adapt video quality to bandwidth",s.t0);case 18:case"end":return s.stop()}}),s,null,[[6,15]])})),new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,r)}i((l=l.apply(s,u||[])).next())}))}},{key:"remove",value:function(e,t){if(!e)return[e,[]];if(!t)return[e,[]];var n=[],r=Object.assign({},e);return t.forEach((function(e){r[e]&&(n.push(e),delete r[e])})),[r,n]}}]),e}();!function(e){e.Bokeh="bokeh",e.BackgroundReplacement="backgroundreplacement",e.None="none"}(Ad||(Ad={}));var Ud={},Vd=new Ko(zi),Bd=function(e){Ud[e]=new Ko(zi)};Je.on(Ge.ParticipantAdded,(function(e){Ud[e.userId]||Bd(e.userId)})),Je.on(Ge.ParticipantUpdated,(function(e){var t;"LEFT"===e.status&&(t=e.userId,delete Ud[t])}));var Wd=function(e){return Ud[e]||Bd(e),Ud[e]},Gd=function(){return Vd};function Hd(e){var t,n,r,i,a;return n=this,r=void 0,a=p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,null===(t=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===t?void 0:t.query({name:e});case 3:return r=n.sent,n.abrupt("return","granted"===(null==r?void 0:r.state));case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(console.debug("failed to perform permissions.query(".concat(e,"), returning null")),null));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})),new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}u((a=a.apply(n,r||[])).next())}))}var Yd,Zd,qd,$d,Kd,Xd,Jd,Qd,ef,tf,nf,rf=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},af=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},of=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},sf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},uf=Ye()("vxt:video:local");function cf(e){return null!=e}function lf(e){return"number"==typeof e}function df(e){return"boolean"==typeof e}function ff(e,t,n){return t<=e&&e<=n}!function(e){e.VideoStarted="videoStarted",e.VideoStopped="videoStopped",e.VideoUpdated="videoUpdated",e.VideoInternalError="videoInternalError"}(nf||(nf={}));var pf=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Yd.set(d(i),null),Zd.set(d(i),null),qd.set(d(i),null),$d.set(d(i),!0),Kd.set(d(i),!0),Xd.set(d(i),void 0),Jd.set(d(i),new ed(1e4)),Qd.set(d(i),!1),ef.set(d(i),!1),tf.set(d(i),!0),af(d(i),Xd,r),r.setOnVideoDeviceIdChangedCallback(i.changeCameraDeviceId.bind(d(i))),i}return g(n,[{key:"start",value:function(e,t){return rf(this,void 0,void 0,p().mark((function n(){var r,i=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.createSchedulerParamsForStartVideo();case 2:return r=n.sent,n.abrupt("return",Gd().execute((function(){return i.startLocalVideo(e,t)}),r));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"createSchedulerParamsForStartVideo",value:function(){return rf(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd("camera");case 2:if(!e.sent){e.next=6;break}e.t0=zi,e.next=7;break;case 6:e.t0=2*Fi;case 7:return e.t1=e.t0,e.abrupt("return",{info:"start local participant video",customMaxExecutionTimeMs:e.t1});case 9:case"end":return e.stop()}}),e)})))}},{key:"startLocalVideo",value:function(e,t){var n,r,i;return rf(this,void 0,void 0,p().mark((function a(){var o,s,u,c,l,d,f=this;return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!of(this,Qd)&&!of(this,ef)){a.next=2;break}throw new st("Local video is not available to listeners and in an audio-only conference.");case 2:if(of(this,tf)){a.next=4;break}throw gt();case 4:if(c=this.adjustVideoProcessorOptionsOrThrow(t),!(e instanceof MediaStreamTrack)){a.next=11;break}if("video"===e.kind){a.next=8;break}throw new dt("Failed to start a video. The user-provided media stream track must be 'video' kind.");case 8:u=ud.custom(e,c),o=s=!1,a.next=13;break;case 11:l=e?Object.assign({},e):void 0,u=ud.camera(l,c),o=!((null===(n=u.constraints)||void 0===n?void 0:n.width)||(null===(r=u.constraints)||void 0===r?void 0:r.height)),s=!(null===(i=u.constraints)||void 0===i?void 0:i.frameRate);case 13:return a.prev=13,a.next=16,Ui(this.createLocalVideo(u),2*Fi,"startLocalVideo (createLocalVideo)");case 16:return d=a.sent,a.next=19,Ui(rf(f,void 0,void 0,p().mark((function e(){var t,n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u.processorOptions,!e.t0){e.next=5;break}return e.next=4,this.createProcessedVideo(d,u.processorOptions);case 4:t=e.sent;case 5:if(n=null,this.isLocalVideoAttached()&&(n=this.detachLocalVideo()),this.isProcessedVideoAttached()&&(n=this.detachProcessedVideo()),e.t1=n,!e.t1){e.next=12;break}return e.next=12,this.onVideoStopped(n.getMediaStreamTrack());case 12:if(this.attachLocalVideo(d),t&&this.attachProcessedVideo(t),af(this,Yd,u),af(this,$d,o),af(this,Kd,s),e.t2=of(this,Yd).isCamera(),!e.t2){e.next=21;break}return e.next=21,of(this,Xd).setNewDeviceId(d.getMediaStreamTrack().getSettings().deviceId);case 21:return r=t||d,e.next=24,this.onVideoStarted(r.getMediaStreamTrack());case 24:return e.abrupt("return",r.getMediaStreamTrack());case 25:case"end":return e.stop()}}),e,this)}))),zi,"startLocalVideo (iife)");case 19:return a.abrupt("return",a.sent);case 22:throw a.prev=22,a.t0=a.catch(13),d&&d.stop().catch((function(e){return uf("Failed to stop a local video.",e)})),a.t0;case 25:case"end":return a.stop()}}),a,this,[[13,22]])})))}},{key:"stop",value:function(){return rf(this,void 0,void 0,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={info:"stop local participant video",customMaxExecutionTimeMs:zi},e.abrupt("return",Gd().execute((function(){return n.stopLocalVideo()}),t));case 2:case"end":return e.stop()}}),e)})))}},{key:"stopLocalVideo",value:function(){return rf(this,void 0,void 0,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(af(this,$d,!0),af(this,Kd,!0),af(this,Yd,null),t=null,this.isLocalVideoAttached()&&(t=this.detachLocalVideo()),this.isProcessedVideoAttached()&&(t=this.detachProcessedVideo()),e.t0=t,!e.t0){e.next=8;break}return e.next=8,this.onVideoStopped(t.getMediaStreamTrack());case 8:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessor",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Gd().execute((function(){return n.setProcessorInternal(e)}),{info:"set video processor for local video"}));case 1:case"end":return t.stop()}}),t)})))}},{key:"setProcessorInternal",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}throw new dt("Argument 'processor' is missing but required.");case 2:if(n=this.adjustVideoProcessorOptionsOrThrow(e),!this.isProcessedVideoAttached()){t.next=11;break}return r=n.flags,i=sf(n,["flags"]),r&&uf("Video processor is already enabled. Skip video processor flags."),t.next=8,this.getProcessedVideo().setProcessorOptions(i);case 8:of(this,Yd).processorOptions=Object.assign(Object.assign({},of(this,Yd).processorOptions),n),t.next=20;break;case 11:if(this.isLocalVideoAttached()){t.next=13;break}throw new st("Failed to set the video processor. The local video isn't started.");case 13:return t.next=15,this.createProcessedVideo(this.getLocalVideo(),n);case 15:return a=t.sent,this.attachProcessedVideo(a),of(this,Yd).processorOptions=n,t.next=20,this.onVideoUpdated(a.getMediaStreamTrack());case 20:case"end":return t.stop()}}),t,this)})))}},{key:"disableProcessing",value:function(){return rf(this,void 0,void 0,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gd().execute((function(){return t.disableProcessingInternal()}),{info:"disable video processor for local video"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"disableProcessingInternal",value:function(){return rf(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.isProcessedVideoAttached(),!e.t0){e.next=6;break}return this.detachProcessedVideo(),of(this,Yd).processorOptions=void 0,e.next=6,this.onVideoUpdated(this.getLocalVideo().getMediaStreamTrack());case 6:case"end":return e.stop()}}),e,this)})))}},{key:"applyConstraints",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){var n,r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLocalVideoAttached()){t.next=2;break}throw new st("Failed to apply the constraints. The local video isn't started.");case 2:if(e){t.next=4;break}return t.abrupt("return");case 4:if(n=zd.remove(e,["deviceId","groupId"]),r=l(n,2),i=r[0],(a=r[1]).length&&uf("Invalid constraints: ".concat(JSON.stringify(a)," are not allowed and will be skipped.")),e=i,!Object.keys(e).length){t.next=13;break}return t.next=8,this.getLocalVideo().applyConstraints(e);case 8:if(!this.isProcessedVideoAttached()||!e.frameRate){t.next=12;break}return o=this.getLocalVideo().getMediaStreamTrack().getSettings().frameRate,t.next=12,this.getProcessedVideo().applyConstraints({frameRate:o});case 12:void 0!==e.frameRate&&af(this,Kd,!1),void 0===e.height&&void 0===e.width||af(this,$d,!1);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"emitLocalVideoStarted",value:function(e){Je.send(We.LocalVideoStarted.fromData({track:e})),uf("Local video track started:",e),this.emit(nf.VideoStarted,e)}},{key:"emitLocalVideoStopped",value:function(e){Je.send(We.LocalVideoStopped.fromData({track:e})),uf("Local video track stopped:",e),this.emit(nf.VideoStopped,e)}},{key:"emitLocalVideoUpdated",value:function(e){Je.send(We.LocalVideoUpdated.fromData({track:e})),uf("Local video track updated:",e),this.emit(nf.VideoUpdated,e)}},{key:"emitLocalVideoInternalError",value:function(e){this.emit(nf.VideoInternalError,e)}},{key:"changeCameraDeviceId",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLocalVideoAttached()){t.next=2;break}return t.abrupt("return");case 2:return n=this.isLocalVideoCustom()?zd.merge(zd.getDefaultConstraints(),{deviceId:e}):zd.merge(this.getLocalVideoAsCamera().getConstraints(),{deviceId:e}),t.prev=3,t.next=6,ql.create(n);case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",(this.emitLocalVideoInternalError(t.t0),void this.stop().catch((function(e){return uf("Failed to stop a local video.",e)}))));case 12:if(!this.isProcessedVideoAttached()){t.next=30;break}return t.prev=13,t.next=16,this.createProcessedVideo(r,of(this,Yd).processorOptions);case 16:i=t.sent,t.next=22;break;case 19:return t.prev=19,t.t1=t.catch(13),t.abrupt("return",(r.stop().catch((function(e){return uf("Failed to stop a local video.",e)})),this.emitLocalVideoInternalError(t.t1),void this.stop().catch((function(e){return uf("Failed to stop a local video.",e)}))));case 22:return this.detachLocalVideo(),this.detachProcessedVideo(),this.attachLocalVideo(r),this.attachProcessedVideo(i),t.next=28,this.onVideoUpdated(i.getMediaStreamTrack());case 28:t.next=34;break;case 30:return this.detachLocalVideo(),this.attachLocalVideo(r),t.next=34,this.onVideoUpdated(r.getMediaStreamTrack());case 34:case"end":return t.stop()}}),t,this,[[3,9],[13,19]])})))}},{key:"onBandwidthRestrictionChanged",value:function(e){(of(this,$d)||of(this,Kd))&&this.isLocalVideoCamera()&&zd.applyBandwidthConstraintsIfNeeded(this.getLocalVideoAsCamera(),this.getProcessedVideo(),e.bandwidth,of(this,$d),of(this,Kd))}},{key:"onUpdateToken",value:function(e){var t=Ba(e.conferenceAccessToken);new Set(t.authorities).has(Aa.SendVideo)?af(this,tf,!0):(af(this,tf,!1),this.stop())}},{key:"handleProcessingError",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(of(this,Jd).hit(),n=of(this,Jd).hitsInLastXTime(5e3),uf("Number of video processor errors in last",5,"seconds:",n),this.emitLocalVideoInternalError(e),!(n>=3)){t.next=4;break}return t.abrupt("return",(of(this,Jd).reset(),console.error("The video processor has stopped. Too many errors. Last error: ",e),void this.stop().catch((function(e){return uf("Failed to stop a local video.",e)}))));case 4:return uf("Video processor unit restarting..."),t.prev=5,t.next=8,this.createProcessedVideo(this.getLocalVideo(),of(this,Yd).processorOptions);case 8:return r=t.sent,this.detachProcessedVideo(),this.attachProcessedVideo(r),t.next=13,this.onVideoUpdated(r.getMediaStreamTrack());case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),uf("Failed to restart a video processor unit",t.t0),this.emitLocalVideoInternalError(t.t0),console.error("The video processor has stopped.",e),this.stop().catch((function(e){return uf("Failed to stop a local video.",e)}));case 18:case"end":return t.stop()}}),t,this,[[5,15]])})))}},{key:"getLocalVideo",value:function(){return of(this,Zd)}},{key:"getLocalVideoAsCamera",value:function(){return of(this,Zd)}},{key:"isLocalVideoCamera",value:function(){return of(this,Zd)instanceof ql}},{key:"isLocalVideoCustom",value:function(){return of(this,Zd)instanceof Xl}},{key:"attachLocalVideo",value:function(e){af(this,Zd,e)}},{key:"detachLocalVideo",value:function(){var e=of(this,Zd);return af(this,Zd,null),e.stop().catch((function(e){return uf("Failed to stop a local video",e)})),e}},{key:"isLocalVideoAttached",value:function(){return null!==of(this,Zd)}},{key:"createLocalVideo",value:function(e){var t;return rf(this,void 0,void 0,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isCustom()){n.next=2;break}return n.abrupt("return",Xl.create(e.asCustom().userVideoTrack));case 2:if(!e.isCamera()){n.next=5;break}return r=e.asCamera().constraints,n.abrupt("return",(r=r?Object.assign(Object.assign({},zd.getDefaultConstraints()),r):zd.getDefaultConstraints(),null!==(t=r.deviceId)&&void 0!==t||(r.deviceId=of(this,Xd).getCurrentDeviceId()),ql.create(r)));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"getProcessedVideo",value:function(){return of(this,qd)}},{key:"attachProcessedVideo",value:function(e){af(this,qd,e)}},{key:"detachProcessedVideo",value:function(){var e=of(this,qd);return af(this,qd,null),e.stop().catch((function(e){return uf("Failed to stop a processed video",e)})),e}},{key:"isProcessedVideoAttached",value:function(){return null!==of(this,qd)}},{key:"createProcessedVideo",value:function(e,t){return rf(this,void 0,void 0,p().mark((function n(){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=t.flags,a=sf(t,["flags"]),n.next=4,Fd.create(e,this.handleProcessingError.bind(this),i);case 4:return r=n.sent,n.next=7,r.setProcessorOptions(a);case 7:return n.abrupt("return",r);case 10:throw n.prev=10,n.t0=n.catch(0),r&&r.stop().catch((function(e){return uf("Failed to stop processed video",e)})),n.t0;case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"adjustVideoProcessorOptionsOrThrow",value:function(e){var t,n,r;if(!cf(e))return e;if(e=Object.assign({},e),!Fn.isVideoProcessingSupported)throw new st("The video processor feature is unsupported on your browser");if(cf(e.type)){if(cf(e.virtualBackground))console.warn("'type' property is deprecated and has no effect if 'virtualBackground' is defined.");else{console.warn("'type' property is deprecated. Please consider to use 'virtualBackground' property instead.");var i=[Ad.Bokeh,Ad.BackgroundReplacement];if([].concat(i,[Ad.None]).indexOf(e.type)<0)throw new dt("Invalid argument: Video processor type '".concat(e.type,"' is unknown. Possible types: ").concat(JSON.stringify(i),"."));if(e.type===Ad.None)e.virtualBackground=!1;else if(e.type===Ad.Bokeh)e.virtualBackground="bokeh";else if(e.type===Ad.BackgroundReplacement){if(void 0===e.image||null===e.image||!(e.image instanceof HTMLImageElement))throw new dt("Invalid argument: Property 'image' is missing. The property is required for '".concat(e.type,"' processor."));e.virtualBackground=e.image}}delete e.type,delete e.image}if(cf(e.virtualBackground))if(!1===e.virtualBackground);else if(e.virtualBackground instanceof HTMLVideoElement);else if(e.virtualBackground instanceof HTMLImageElement){if(!e.virtualBackground.complete)throw new dt("Invalid argument: The image is not fully loaded. A decoded image is expected.")}else if("bokeh"!==e.virtualBackground)throw new dt("Invalid argument: Type of 'virtualBackground' is invalid. Possible value types: false | \"bokeh\" | HTMLVideoElement | HTMLImageElement");if(cf(e.facialSmoothing))if(!1===e.facialSmoothing);else{if(!lf(e.facialSmoothing))throw new dt("Invalid argument: Type of 'facialSmoothing' is invalid. Possible value types: false | number");var a=0,o=1;if(!ff(e.facialSmoothing,a,o))throw new dt("Invalid argument: 'facialSmoothing' is out of range. The argument must be in range [".concat(a,", ").concat(o,"]"))}if(cf(e.spotLight))if(!1===e.spotLight);else{if(!lf(e.spotLight))throw new dt("Invalid argument: Type of 'spotLight' is invalid. Possible value types: false | number");var s=0,u=1;if(!ff(e.spotLight,s,u))throw new dt("Invalid argument: 'spotLight' is out of range. The argument must be in range [".concat(s,", ").concat(u,"]"))}if(cf(e.autoBrightness)&&!df(e.autoBrightness))throw new dt("Invalid argument: Type of 'autoBrightness' is invalid. Boolean value is expected.");if(cf(e.noiseReduction)&&!df(e.noiseReduction))throw new dt("Invalid argument: Type of 'noiseReduction' is invalid. Boolean value is expected.");if(cf(e.autoFraming)&&!df(e.autoFraming))throw new dt("Invalid argument: Type of 'autoFraming' is invalid. Boolean value is expected.");return null!==(t=e.flags)&&void 0!==t||(e.flags={}),null!==(n=(r=e.flags).nonBlockingAsyncPixelReadback)&&void 0!==n||(r.nonBlockingAsyncPixelReadback=!0),e}},{key:"onConferenceJoined",value:function(e){var t;o(s(n.prototype),"onConferenceJoined",this).call(this,e),af(this,Qd,!!e.listenOnly),af(this,ef,"NONE"===(null===(t=e.parameters)||void 0===t?void 0:t.videoCodec))}},{key:"onConferenceLeft",value:function(e){o(s(n.prototype),"onConferenceLeft",this).call(this,e),af(this,Qd,!1),af(this,ef,!1)}},{key:"onVideoStarted",value:function(e){return this.emitLocalVideoStarted(e),this._conferenceId?Up.conference.manager.startVideoForLocalPeer(e).then((function(t){return e})).catch((function(e){return console.error(e)})):Promise.resolve(e)}},{key:"onVideoStopped",value:function(e){return this.emitLocalVideoStopped(e),this._conferenceId?Up.conference.manager.stopVideoForLocalPeer().catch((function(t){return console.error(t,e)})):Promise.resolve()}},{key:"onVideoUpdated",value:function(e){return rf(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.emitLocalVideoUpdated(e),this._conferenceId?Up.conference.manager.onLocalVideoUpdated(e).catch((function(t){return console.error(t,e)})):Promise.resolve()));case 1:case"end":return t.stop()}}),t,this)})))}}]),n}(Ct);Yd=new WeakMap,Zd=new WeakMap,qd=new WeakMap,$d=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,ef=new WeakMap,tf=new WeakMap,pf=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([jt([Ge.BandwidthRestrictionChanged,Ge.UpdateToken])],pf);var hf,mf,vf=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},gf=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},yf=Ye()("vxt:video:local");function kf(e,t,n){t.on(e,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.emit.apply(n,[e].concat(r))}))}var bf=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),a=t.call(this,e),hf.set(d(a),void 0),mf.set(d(a),void 0),vf(d(a),hf,r),vf(d(a),mf,i),kf(nf.VideoStarted,r,d(a)),kf(nf.VideoStopped,r,d(a)),kf(nf.VideoUpdated,r,d(a)),r.on(nf.VideoInternalError,(function(e){return a.onInternalError(e)})),a}return g(n,[{key:"start",value:function(e,t){var n=this;return gf(this,hf).start(e,t).then((function(r){return e instanceof MediaStreamTrack?gf(n,mf).customVideoStarted("start",t):gf(n,mf).cameraVideoStarted("start",e,t),r})).catch((function(r){throw n.shouldReport(r)&&n.reportError(r),e instanceof MediaStreamTrack?gf(n,mf).customVideoStartFailed("start",r,t):gf(n,mf).cameraVideoStartFailed("start",r,e,t),r}))}},{key:"stop",value:function(){var e=this;return gf(this,hf).stop().then((function(){return gf(e,mf).localVideoStopped("stop")})).catch((function(t){throw e.shouldReport(t)&&e.reportError(t),gf(e,mf).localVideoStopFailed("stop",t),t}))}},{key:"setProcessor",value:function(e){var t=this;return gf(this,hf).setProcessor(e).then((function(){return gf(t,mf).videoProcessorEnabled("setProcessor",e)})).catch((function(n){throw t.shouldReport(n)&&t.reportError(n),gf(t,mf).videoProcessorEnableFailed("setProcessor",n,e),n}))}},{key:"disableProcessing",value:function(){var e=this;return gf(this,hf).disableProcessing().then((function(){return gf(e,mf).videoProcessorDisabled("disableProcessing")})).catch((function(t){throw e.shouldReport(t)&&e.reportError(t),gf(e,mf).videoProcessorDisableFailed("disableProcessing",t),t}))}},{key:"applyConstraints",value:function(e){var t=this;return gf(this,hf).applyConstraints(e).then((function(){return gf(t,mf).videoConstraintsApplied("applyConstraints",e)})).catch((function(n){throw t.shouldReport(n)&&t.reportError(n),gf(t,mf).videoConstraintsApplyField("applyConstraints",n,e),n}))}},{key:"isConferenceActive",value:function(){return!!this._conferenceId}},{key:"isEligibleToReport",value:function(e){return e instanceof tt&&"OverconstrainedError"!==e.name||e instanceof lt}},{key:"onInternalError",value:function(e){this.isConferenceActive()&&this.isEligibleToReport(e)?this.reportError(e):console.error(e)}},{key:"reportError",value:function(e){try{Je.send(We.ConferenceGlobalError.fromData(e))}catch(e){yf(e)}}},{key:"shouldReport",value:function(e){return e instanceof Ni||e instanceof $o||e instanceof lt||e instanceof tt}},{key:"onSessionClosed",value:function(){o(s(n.prototype),"onSessionClosed",this).call(this),gf(this,hf).stop().catch((function(e){return yf("Failed to stop video on session closed event")}))}}]),n}(Ct);hf=new WeakMap,mf=new WeakMap,function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([function(e,t,n){var r=n.value;return n.value=function(){try{e.checkSession.call(this,"Cannot start video when session is closed. Please open a session first.")}catch(e){return Promise.reject(e)}for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.apply(this,n)},n}],bf.prototype,"start",null);var _f,wf=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Sf=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},xf=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ef=function(e){k(n,e);var t=b(n);function n(e){var r;return y(this,n),r=t.call(this,e),_f.set(d(r),!1),r}return g(n,[{key:"start",value:function(e){var t=this;return Wd(e.id).execute((function(){return t.startRemoteVideo(e)}),{info:"start remote participant video"})}},{key:"startRemoteVideo",value:function(e){if(Sf(this,_f))throw new st("Starting a remote video is not available to a client who joined as an RTS viewer.");return Gt.conferences.startMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}},{key:"stop",value:function(e){var t=this;return Wd(e.id).execute((function(){return t.stopRemoteVideo(e)}),{info:"stop remote participant video"})}},{key:"stopRemoteVideo",value:function(e){if(Sf(this,_f))throw new st("Stopping a remote video is not available to a client who joined as an RTS viewer.");return Gt.conferences.stopMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}},{key:"onConferenceJoined",value:function(e){o(s(n.prototype),"onConferenceJoined",this).call(this,e),xf(this,_f,e.isJoinedAsRTSViewer())}},{key:"onConferenceLeft",value:function(e){o(s(n.prototype),"onConferenceLeft",this).call(this,e),xf(this,_f,!1)}}]),n}(Ct);_f=new WeakMap,wf([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Ef.prototype,"startRemoteVideo",null),wf([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],Ef.prototype,"stopRemoteVideo",null);var Tf,Cf,jf,Pf,Mf,If,Rf={setCaptureMode:function(){arguments.length>0&&void 0!==arguments[0]||kr.Standard;var e,t,n,r,i=arguments.length>1?arguments[1]:void 0;return e=this,t=void 0,r=p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Up.conference.manager.updateRenegotiableJoinOptions((t=i.mode,va[t]));case 1:case"end":return e.stop()}}),e)})),new((n=void 0)||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}},Af=function(e){return new we({level:"info",action:"AudioCaptureModeChanged",description:"Audio capture mode has been updated.",component:"LocalAudio",api:"setCaptureMode",payload:e})},Df=function(e,t){return new we({level:"error",action:"AudioCaptureModeError",description:e,component:"LocalAudio",api:"setCaptureMode",payload:t})},Of={setCaptureMode:function(e,t){var n,r,i,a,o;return r=this,i=void 0,o=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null===(n=t.modeOptions)||void 0===n?void 0:n.echoCancellation,!e.t0){e.next=5;break}return e.next=5,Up.conference.manager.rtc.setEchoCancellation(t.modeOptions.echoCancellation);case 5:return e.next=7,Up.conference.manager.rtc.setCaptureMode(t);case 7:Je.send(Af([t])),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),Je.send(Df(e.t1.message||"Error while setting capture mode",[t]));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,s)}u((o=o.apply(r,i||[])).next())}))}},Nf=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Lf=Ye()("vxt:audio:captureMode:opus"),Ff=new Ko(2*Fi),zf={renegotiateRequestOptions:va.unprocessed,sendRequest:!0},Uf={renegotiateRequestOptions:va.music,sendRequest:!0},Vf={setCaptureMode:function(e,t,n){var r=n.isDapmReady,i=n.shouldUpdateProcessing;return Nf(this,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null==Tf?void 0:Tf.signal)&&!Tf.signal.aborted&&Tf.abort(),Tf=new AbortController,r(null==Tf?void 0:Tf.signal).then((function(n){Ff.execute((function(){return function(e,t,n,r){return Nf(this,void 0,void 0,p().mark((function i(){var a,o,s,u;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(e,t){if(t.mode===kr.Unprocessed)return zf;if(t.mode===kr.Standard)return n=e,r=t,{renegotiateRequestOptions:Up.conference.manager.initialRenegotiableOptions,sendRequest:!(n.mode===kr.Standard&&r.mode===kr.Standard)};if(t.mode===kr.Music)return Uf;var n,r,i="This capture mode is not supported by WebRTC Opus.";throw Je.send(Df(i,[t])),new st(i)}(e,t),o=a.renegotiateRequestOptions,s=a.sendRequest,u=Object.assign({},Lr(t,xr.NON_DV_OPUS,n)),i.next=3,Up.conference.manager.renegotiateCaptureMode(o,u,t,s,r);case 3:Je.send(Af([t]));case 4:case"end":return i.stop()}}),i)})))}(e,t,n,i)}))})).catch((function(e){if("aborted"!==e)throw e;Lf("canceled scheduled capture mode request because there is a new one")}));case 1:case"end":return n.stop()}}),n)})))}},Bf=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Wf=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Gf=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Hf=Ye()("vxt:audio:captureMode:opusDvc"),Yf={renegotiateRequestOptions:va.unprocessed,sendRequest:!0},Zf={renegotiateRequestOptions:va.music,sendRequest:!0},qf=new Ko(2*Fi),$f=function(){function e(t,n){y(this,e),Cf.set(this,!0),jf.set(this,!0),Pf.set(this,void 0),Mf.set(this,void 0),If.set(this,void 0),Wf(this,Pf,t),Wf(this,Mf,n)}return g(e,[{key:"setCaptureMode",value:function(e,t,n){var r=n.participantId,i=n.conferenceId,a=n.isDapmReady,o=n.shouldUpdateProcessing;return Bf(this,void 0,void 0,p().mark((function n(){var s=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.isThereAnyPendingWaitingForDapmTaskController()&&Gf(this,If).abort(),a(this.registerWaitingForDapmTaskController()).then((function(n){qf.execute((function(){return s.performSetCaptureModeSteps(e,t,r,i,n,o)}))})).catch((function(e){if("aborted"!==e)throw e;Hf("canceled scheduled capture mode request because there is a new one")}));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"performSetCaptureModeSteps",value:function(e,t,n,r,i,a){return Bf(this,void 0,void 0,p().mark((function o(){var s,u,c,l;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return Wf(this,Cf,this.getAudioProcessingValue(t)),s=this.getRenegotiateOptions(e,t),u=s.renegotiateRequestOptions,c=s.sendRequest,l=Object.assign({},Lr(t,xr.DV_OPUS,i)),o.next=4,Gf(this,Pf).call(this,u,l,t,c,a);case 4:return Je.send(Af([t])),o.next=7,this.updateProcessing(r,n,i);case 7:case"end":return o.stop()}}),o,this)})))}},{key:"getRenegotiateOptions",value:function(e,t){if(t.mode===kr.Unprocessed)return Yf;if(t.mode===kr.Standard)return this.getModeStandardRenegotiateOptions(e,t);if(t.mode===kr.Music)return Zf;var n="This capture mode is not supported by WebRTC Opus.";throw Je.send(Df(n,[t])),new st(n)}},{key:"getModeStandardRenegotiateOptions",value:function(e,t){return{renegotiateRequestOptions:Gf(this,Mf).call(this),sendRequest:!(e.mode===kr.Standard&&t.mode===kr.Standard)}}},{key:"updateProcessing",value:function(e,t,n){return Bf(this,void 0,void 0,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=Gf(this,Cf)&&!n,r.t0=Gf(this,jf)!==i,!r.t0){r.next=5;break}return r.next=5,Gt.conferences.audioUpdate({conferenceId:e,peerId:t,data:{opusProcessing:{enabled:i}}});case 5:Wf(this,jf,i);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"getAudioProcessingValue",value:function(e){var t;return"high"===(null===(t=e.modeOptions)||void 0===t?void 0:t.noiseReductionLevel)}},{key:"init",value:function(e,t,n,r){return Bf(this,void 0,void 0,p().mark((function i(){var a;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return Wf(this,jf,!0),i.prev=1,this.isThereAnyPendingWaitingForDapmTaskController()&&(Hf("init shall be a first function that calls isDapmReady callback, this shouldn't happen"),Gf(this,If).abort()),Wf(this,Cf,this.getAudioProcessingValue(r)),i.next=5,n(this.registerWaitingForDapmTaskController());case 5:return a=i.sent,i.next=8,this.updateProcessing(e,t,a);case 8:i.next=15;break;case 10:if(i.prev=10,i.t0=i.catch(1),"aborted"===i.t0){i.next=14;break}throw i.t0;case 14:Hf("canceled initial audio processing update, as new task will do that");case 15:case"end":return i.stop()}}),i,this,[[1,10]])})))}},{key:"isThereAnyPendingWaitingForDapmTaskController",value:function(){var e,t;return(null===(e=Gf(this,If))||void 0===e?void 0:e.signal)&&!(null===(t=Gf(this,If))||void 0===t?void 0:t.signal.aborted)}},{key:"registerWaitingForDapmTaskController",value:function(){return Wf(this,If,new AbortController),Gf(this,If).signal}}]),e}();Cf=new WeakMap,jf=new WeakMap,Pf=new WeakMap,Mf=new WeakMap,If=new WeakMap;var Kf=Object.freeze({mode:kr.Standard,modeOptions:Object.freeze({noiseReductionLevel:br.High})});function Xf(e){var t=e.toLocaleLowerCase();switch(t){case"none":return t;case"abyss":return vi.ABYSS;case"amradio":return vi.AMRADIO;case"brokenrobot":return vi.BROKENROBOT;case"darkmodulation":return vi.DARKMODULATION;case"feminine":return vi.FEMININE;case"helium":return vi.HELIUM;case"interference":return vi.INTERFERENCE;case"masculine":return vi.MASCULINE;case"nervousrobot":return vi.NERVOUSROBOT;case"starshipcaptain":return vi.STARSHIPCAPTAIN;case"swarm":return vi.SWARM;case"wobble":return vi.WOBBLE;default:throw new dt("Invalid voice font specified for standard capture mode.")}}var Jf,Qf,ep,tp,np,rp,ip,ap=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},op=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},sp=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},up=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},cp=function(e,t){return new we({level:"error",action:"MediaConstraintsError",description:e,component:"LocalAudio",api:"applyConstraints",payload:t})},lp=function(e,t){return new we({level:"warn",action:"MediaConstraintsWarning",description:e,component:"LocalAudio",api:"applyConstraints",payload:t})},dp=function(e){k(n,e);var t=b(n);function n(e,r){var i;return y(this,n),i=t.call(this,e),Jf.set(d(i),void 0),Qf.set(d(i),!0),ep.set(d(i),void 0),tp.set(d(i),void 0),np.set(d(i),void 0),rp.set(d(i),!0),ip.set(d(i),void 0),sp(d(i),Jf,r),sp(d(i),ep,Kf),sp(d(i),ip,new $f((function(){var e;return(e=Up.conference.manager).renegotiateCaptureMode.apply(e,arguments)}),(function(){return Up.conference.manager.initialRenegotiableOptions}))),i}return g(n,[{key:"getCaptureMode",value:function(){return op(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",up(this,ep));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"pickCaptureModeStrategy",value:function(){if(this._conferenceId){if(Up.conference.manager.isDvwc())return Of;if(Up.conference.manager.isOpus())return up(this,np)?up(this,ip):Vf;throw"None capture mode matches, this shouldn't happen"}return Rf}},{key:"setCaptureMode",value:function(e){var t,n,r,i;return op(this,void 0,void 0,p().mark((function a(){var o,s;return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(![I.LISTENER,I.MIXER].includes(null===(t=up(this,Jf).participant)||void 0===t?void 0:t.type)){a.next=2;break}throw new st;case 2:return this.validateAudioCaptureOptions(e),o={conferenceId:this._conferenceId,participantId:null===(r=null===(n=up(this,Jf))||void 0===n?void 0:n.participant)||void 0===r?void 0:r.id,isDapmReady:function(e){return Up.conference.manager.rtc.awaitDapmReady(e)},shouldUpdateProcessing:this.shouldUpdateProcessing()},s=e,(null===(i=e.modeOptions)||void 0===i?void 0:i.voiceFont)&&(s=Object.assign(Object.assign({},e),{modeOptions:Object.assign(Object.assign({},e.modeOptions),{voiceFont:Xf(e.modeOptions.voiceFont)})})),a.next=8,this.pickCaptureModeStrategy().setCaptureMode(up(this,ep),s,o);case 8:sp(this,ep,e),sp(this,Qf,!1);case 10:case"end":return a.stop()}}),a,this)})))}},{key:"shouldUpdateProcessing",value:function(){var e,t=(Fn.isChrome||Fn.isEdge)&&mr(),n=null===(e=Up.conference.manager.rtc)||void 0===e?void 0:e.dapmWasmFileStatus,r=n===Yr.FAILED||n===Yr.FETCHED;return!t||r}},{key:"validateAudioCaptureOptions",value:function(e){var t;if(!e||!e.mode||!Object.values(kr).includes(null==e?void 0:e.mode))throw new dt("Unable to change audio capture mode. Please provide a valid audio capture mode.");if("standard"===e.mode&&(null===(t=e.modeOptions)||void 0===t?void 0:t.noiseReductionLevel)&&!Object.values(br).includes(e.modeOptions.noiseReductionLevel))throw new dt("Invalid noise reduction level specified for standard capture mode.");if("music"===e.mode&&e.modeOptions&&!Object.values(wr).includes(e.modeOptions.echoCancellation))throw new dt("Invalid echo cancellation value specified for music capture mode.");if("unprocessed"===e.mode&&e.modeOptions)throw new dt("Mode options should not be provided for unprocessed capture mode.");return!0}},{key:"getComfortNoiseLevel",value:function(){return op(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._conferenceId){e.next=2;break}return e.abrupt("return",up(this,tp));case 2:if(!Up.conference.manager.isDvwc()&&!Up.conference.manager.isElectron()){e.next=4;break}return e.abrupt("return",Up.conference.manager.rtc.getComfortNoiseLevel());case 4:throw new st("getComfortNoiseLevel is not supported for Opus.");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"setComfortNoiseLevel",value:function(e){return op(this,void 0,void 0,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sp(this,tp,e),!this._conferenceId){t.next=4;break}if(!Up.conference.manager.isDvwc()&&!Up.conference.manager.isElectron()){t.next=3;break}return t.abrupt("return",new Promise((function(t,r){return op(n,void 0,void 0,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Up.conference.manager.rtc.setComfortNoiseLevel(e).then((function(){Je.send(new we({level:"info",action:"ComfortNoiseLevelChanged",description:"The comfort noise level has been updated.",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[e]})),t()}),(function(t){Je.send(new we({level:"error",action:"ComfortNoiseLevelError",description:t.message||"Error while setting comfort noise level",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[e]})),r(t)}));case 2:case"end":return n.stop()}}),n)})))})));case 3:throw Je.send(new we({level:"error",action:"ComfortNoiseLevelChanged",description:"setComfortNoiseLevel is not supported for Opus.",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[e]})),new st("setComfortNoiseLevel is not supported for Opus.");case 4:case"end":return t.stop()}}),t,this)})))}},{key:"start",value:function(e){return op(this,void 0,void 0,p().mark((function t(){var n,r=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createSchedulerParamsForStartAudio();case 2:return n=t.sent,t.prev=3,t.next=6,Gd().execute((function(){return r.startLocalAudio(e)}),n);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(3),this.shouldReport(t.t0)&&Je.send(We.ConferenceGlobalError.fromData(t.t0)),t.t0;case 12:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"createSchedulerParamsForStartAudio",value:function(){return op(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd("microphone");case 2:if(!e.sent){e.next=6;break}e.t0=zi,e.next=7;break;case 6:e.t0=2*Fi;case 7:return e.t1=e.t0,e.abrupt("return",{info:"start local participant audio",customMaxExecutionTimeMs:e.t1});case 9:case"end":return e.stop()}}),e)})))}},{key:"startLocalAudio",value:function(e){if([I.LISTENER,I.MIXER].includes(up(this,Jf).participant.type))throw new st;if(!up(this,rp)||!Up.conference.current.permissions.has(Aa.SendAudio))throw gt();return Up.conference.manager.startAudioForLocalPeer(e)}},{key:"stop",value:function(){return op(this,void 0,void 0,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={info:"stop local participant audio",customMaxExecutionTimeMs:zi},e.prev=1,e.next=4,Gd().execute((function(){return n.stopLocalAudio()}),t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.shouldReport(e.t0)&&Je.send(We.ConferenceGlobalError.fromData(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))}},{key:"stopLocalAudio",value:function(){if([I.LISTENER,I.MIXER].includes(up(this,Jf).participant.type))throw new st;return Up.conference.manager.stopAudioForLocalPeer()}},{key:"applyConstraints",value:function(e){return op(this,void 0,void 0,p().mark((function t(){var n,r,i=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(![I.LISTENER,I.MIXER].includes(up(this,Jf).participant.type)){t.next=2;break}throw n="'applyConstraints' is not available for listeners",Je.send(cp(n,[{audio:e}])),new st(n);case 2:if(!Up.conference.manager.isDvwc()){t.next=4;break}throw n="'applyConstraints' is not available for Dolby Voice Codec",Je.send(cp(n,[e])),new st(n);case 4:if(up(this,Jf).participant.audioTransmitting){t.next=6;break}throw n="Failed to apply constraints. Local audio track is not started.",Je.send(cp(n,[e])),new st(n);case 6:if(!Up.conference.manager.isCustomAudio()){t.next=8;break}throw n="'applyConstraints' is not available when custom input audio is used.",Je.send(cp(n,[e])),new st(n);case 8:if(e){t.next=10;break}return t.abrupt("return",void Je.send(lp("No-op cause constraints are null or undefined",[e])));case 10:if(r=[],["deviceId","groupId"].forEach((function(t){e[t]&&(r.push(t),delete e[t])})),r.length&&console.debug("Invalid constraints:",JSON.stringify(r),"are not allowed and will be skipped."),!Object.keys(e).length){t.next=13;break}return t.abrupt("return",new Promise((function(t,n){return op(i,void 0,void 0,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Up.conference.manager.rtc.updateAudioProcessing(e,up(this,ep)).then((function(){Je.send(new we({level:"info",action:"MediaConstraintsApplied",description:"The constraints were applied.",component:"LocalAudio",api:"applyConstraints",payload:[e]})),t()}),(function(t){Je.send(cp(t.message||"The constraints could not be applied",[e])),n(t)}));case 2:case"end":return r.stop()}}),r,this)})))})));case 13:Je.send(lp("No-op cause there is no constraints to apply",[e]));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"onConferenceJoined",value:function(e){var t=this,r=Object.create(null,{onConferenceJoined:{get:function(){return o(s(n.prototype),"onConferenceJoined",t)}}});return op(this,void 0,void 0,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.onConferenceJoined.call(this,e),sp(this,np,e.parameters.dolbyVoice),t.t0=e.listenOnly,t.t0){t.next=10;break}if(t.t1=up(this,tp),!t.t1){t.next=8;break}return t.next=8,this.setComfortNoiseLevel(up(this,tp));case 8:return t.next=10,this.initialUpdateProcessing();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"initialUpdateProcessing",value:function(){var e,t;return op(this,void 0,void 0,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.pickCaptureModeStrategy()).init){n.next=5;break}return i=function(e){return Up.conference.manager.rtc.awaitDapmReady(e)},n.next=5,null===(e=r.init)||void 0===e?void 0:e.call(r,this._conferenceId,null===(t=up(this,Jf).participant)||void 0===t?void 0:t.id,i,up(this,ep));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"onUpdateToken",value:function(e){var t=Ba(e.conferenceAccessToken);new Set(t.authorities).has(Aa.SendAudio)?sp(this,rp,!0):(sp(this,rp,!1),up(this,Jf).participant.audioTransmitting&&this.stop())}},{key:"shouldReport",value:function(e){return e instanceof Ni||e instanceof $o}}]),n}(Ct);Jf=new WeakMap,Qf=new WeakMap,ep=new WeakMap,tp=new WeakMap,np=new WeakMap,rp=new WeakMap,ip=new WeakMap,ap([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],dp.prototype,"startLocalAudio",null),ap([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],dp.prototype,"stopLocalAudio",null),ap([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],dp.prototype,"applyConstraints",null),dp=ap([jt([Ge.UpdateToken])],dp);var fp,pp,hp=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},mp=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},vp=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},gp=function(e){k(n,e);var t=b(n);function n(e,r,i){var a;return y(this,n),a=t.call(this,e),fp.set(d(a),void 0),pp.set(d(a),void 0),mp(d(a),fp,r),mp(d(a),pp,i),a}return g(n,[{key:"start",value:function(e){var t=this;return Wd(e.id).execute((function(){return t.startRemoteAudio(e)}),{info:"start remote participant audio"})}},{key:"startRemoteAudio",value:function(e){return t=this,n=void 0,i=p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id!==vp(this,pp).participant.id){t.next=2;break}return t.abrupt("return",vp(this,fp).start().then((function(e){})));case 2:if((null==e?void 0:e.type)!==I.MIXER_MIX){t.next=4;break}return t.abrupt("return",(Up.conference.manager.rtc.mutePeer(e.id,!1),Promise.resolve()));case 4:if(!(Up.conference.current&&Up.conference.current.params.dolbyVoice&&[I.LISTENER].includes(vp(this,pp).participant.type))){t.next=6;break}throw new st;case 6:return t.next=8,Up.conference.manager.startAudioForRemotePeer(e.id);case 8:n=e.audioTransmitting,e.updateAudioReceivingStopped(!1),Je.send(new We.AudioUpdated(e,n,e.audioTransmitting));case 10:case"end":return t.stop()}}),t,this)})),new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}},{key:"stop",value:function(e){var t=this;return Wd(e.id).execute((function(){return t.stopRemoteAudio(e)}),{info:"stop remote participant audio"})}},{key:"stopRemoteAudio",value:function(e){if(e.id===vp(this,pp).participant.id)return vp(this,fp).stop();if((null==e?void 0:e.type)===I.MIXER_MIX)return Up.conference.manager.rtc.mutePeer(e.id,!0),Promise.resolve();if(vp(this,pp).participant.id!==e.id&&Up.conference.current&&Up.conference.current.params.dolbyVoice&&[I.LISTENER].includes(vp(this,pp).participant.type))throw new st;return Up.conference.manager.stopAudioForRemotePeer(e.id).then((function(){var t=e.audioTransmitting;e.updateAudioReceivingStopped(!0),Je.send(new We.AudioUpdated(e,t,e.audioTransmitting))}))}},{key:"setVolume",value:function(e,t){if(e.id===vp(this,pp).participant.id)throw new st("Setting output volume is not supported for the local participant.");if(Up.conference.current&&Up.conference.current.params.dolbyVoice)throw new st;if("number"!=typeof t||t<0||t>1)throw new dt("Volume needs to be a number between 0 and 1");Up.conference.manager.rtc.setVolume(e.id,t)}},{key:"setOutputVolume",value:function(e){if("number"!=typeof e||e<0||e>1)throw new dt("Volume needs to be a number between 0 and 1");Up.conference.manager.rtc.setConferenceVolume(e)}}]),n}(Ct);fp=new WeakMap,pp=new WeakMap,hp([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],gp.prototype,"startRemoteAudio",null),hp([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],gp.prototype,"stopRemoteAudio",null),hp([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],gp.prototype,"setVolume",null),hp([function(e,t,n){var r=n.value;return n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.checkConference.call(this),r.apply(this,n)},n}],gp.prototype,"setOutputVolume",null);var yp,kp,bp,_p,wp,Sp,xp,Ep,Tp,Cp,jp,Pp,Mp,Ip,Rp,Ap,Dp,Op,Np,Lp,Fp,zp=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Up=function(e){k(n,e);var t=b(n);function n(){var e;return y(this,n),e=t.call(this),yp.set(d(e),new pu(d(e))),kp.set(d(e),new Fu(d(e),zp(d(e),yp))),bp.set(d(e),new Ol),_p.set(d(e),new Eu(d(e),zp(d(e),bp))),wp.set(d(e),new pf(d(e),new Vl(zp(d(e),bp)))),Sp.set(d(e),new bf(d(e),zp(d(e),wp),new Go("LocalVideo"))),xp.set(d(e),new Ef(d(e))),Ep.set(d(e),new dp(d(e),zp(d(e),yp))),Tp.set(d(e),new gp(d(e),zp(d(e),Ep),zp(d(e),yp))),Cp.set(d(e),new ys(d(e),zp(d(e),yp),zp(d(e),bp),zp(d(e),wp),zp(d(e),xp),zp(d(e),Ep),zp(d(e),Tp))),jp.set(d(e),new Ts(d(e))),Pp.set(d(e),new un(d(e),zp(d(e),Cp))),Mp.set(d(e),new Kt(d(e),zp(d(e),Cp))),Ip.set(d(e),new ln(d(e))),Rp.set(d(e),new Au(d(e),zp(d(e),Cp))),Ap.set(d(e),new Hc(d(e),zp(d(e),Cp),zp(d(e),yp))),Dp.set(d(e),new Kc(d(e),zp(d(e),Sp),zp(d(e),xp))),Op.set(d(e),new tl(zp(d(e),Ep),zp(d(e),Tp))),Np.set(d(e),new Qn(d(e))),Lp.set(d(e),new kc(d(e),zp(d(e),Cp),zp(d(e),yp),zp(d(e),bp))),Fp.set(d(e),new Ec(d(e),zp(d(e),Cp))),e}return g(n,null,[{key:"registerComponentVersion",value:function(e,t){zp(this.instance,Lp).registerComponent(e,t)}},{key:"session",get:function(){return zp(this.instance,yp)}},{key:"mediaDevice",get:function(){return zp(this.instance,_p)}},{key:"conference",get:function(){return zp(this.instance,Cp)}},{key:"recording",get:function(){return zp(this.instance,jp)}},{key:"filePresentation",get:function(){return zp(this.instance,Pp)}},{key:"videoPresentation",get:function(){return zp(this.instance,Mp)}},{key:"broadcasting",get:function(){return zp(this.instance,Ip)}},{key:"command",get:function(){return zp(this.instance,Rp)}},{key:"videoFilters",get:function(){return zp(this.instance,Ap)}},{key:"video",get:function(){return zp(this.instance,Dp)}},{key:"notification",get:function(){return zp(this.instance,kp)}},{key:"audio",get:function(){return zp(this.instance,Op)}},{key:"extensions",get:function(){return zp(this.instance,Np)}},{key:"uxkitVersion",set:function(e){this.registerComponentVersion("web-uxkit",e)}},{key:"packageUrlPrefix",get:function(){return Gr()},set:function(e){!function(e){if(e){if("string"!=typeof e)throw new dt("Provided URL prefix is invalid.");(Wr=e).endsWith("/")||(Wr+="/")}else Wr=Br()}(e)}},{key:"initialize",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.host,a=void 0===i?this.host:i,o=r.wsHost,s=void 0===o?this.wsHost:o,u=r.fileHost,c=void 0===u?this.fileHost:u,l=r.enableTelemetry,d=void 0===l?this.enableTelemetry:l,f=r.telemetryHost,p=void 0===f?this.telemetryHost:f;n.session.customerKey=e,n.session.customerSecret=t,Gt.wsHost="devssl"===n.flavor?s:this.wsHost,Gt.host="devssl"===n.flavor?a:this.host,nn.host="devssl"===n.flavor?c:this.fileHost,$u.host="devssl"===n.flavor?p:this.telemetryHost,n.enableTelemetry="devssl"===n.flavor?d:this.enableTelemetry,n.displaySettings()}},{key:"displaySettings",value:function(){console.group("SDK settings:"),console.log("VoxeetSDK version: "+n.version),console.log("VoxeetSDK flavor: "+n.flavor),console.log("Telemetry status: "+(n.enableTelemetry?"enabled":"disabled")),"devssl"===n.flavor&&(console.group("hosts"),console.log("Gate endpoint: ".concat(Gt.host)),console.log("WebSocket endpoint: ".concat(Gt.wsHost)),console.log("File conversion endpoint: ".concat(nn.host)),n.enableTelemetry&&console.log("Telemetry endpoint: ".concat($u.host)),console.groupEnd()),console.groupEnd()}},{key:"initializeToken",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.host,o=void 0===a?this.host:a,s=i.wsHost,u=void 0===s?this.wsHost:s,c=i.fileHost,l=void 0===c?this.fileHost:c,d=i.enableTelemetry,f=void 0===d?this.enableTelemetry:d,p=i.telemetryHost,h=void 0===p?this.telemetryHost:p;Gt.accessToken=e,Gt.tokenCallback=t,Gt.wsHost="devssl"===n.flavor?u:this.wsHost,Gt.host="devssl"===n.flavor?o:this.host,nn.host="devssl"===n.flavor?l:this.fileHost,n.enableTelemetry="devssl"===n.flavor?f:this.enableTelemetry,$u.host="devssl"===n.flavor?h:this.telemetryHost,Gt.leavingCallback=function(){zp(r.instance,Cp).leave()},n.displaySettings()}},{key:"region",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Gt.setRegion(e),nn.setRegion(e)}}]),n}(R.EventEmitter);yp=new WeakMap,kp=new WeakMap,bp=new WeakMap,_p=new WeakMap,wp=new WeakMap,Sp=new WeakMap,xp=new WeakMap,Ep=new WeakMap,Tp=new WeakMap,Cp=new WeakMap,jp=new WeakMap,Pp=new WeakMap,Mp=new WeakMap,Ip=new WeakMap,Rp=new WeakMap,Ap=new WeakMap,Dp=new WeakMap,Op=new WeakMap,Np=new WeakMap,Lp=new WeakMap,Fp=new WeakMap,Up.instance=new Up,Up.version="3.11.0",Up.host="https://comms.sdk.dolby.io",Up.wsHost="wss://comms.sdk.dolby.io",Up.fileHost="https://comms.sdk.dolby.io",Up.telemetryHost="https://comms.sdk.dolby.io",Up.enableTelemetry=!0,Up.flavor="production",Rr.setLevel("error")}(),S.default}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var N,L=Object.assign;function F(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,xe=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Ce(){if(Se){var e=Se,t=xe;if(xe=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function je(e,t){return e(t)}function Pe(){}var Me=!1;function Ie(e,t,n){if(Me)return e(t,n);Me=!0;try{return je(e,t,n)}finally{Me=!1,(null!==Se||null!==xe)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ae=!1}function Oe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ne=!1,Le=null,Fe=!1,ze=null,Ue={onError:function(e){Ne=!0,Le=e}};function Ve(e,t,n,r,i,a,o,s,u){Ne=!1,Le=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,xt,Et,Tt=!1,Ct=[],jt=null,Pt=null,Mt=null,It=new Map,Rt=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==jt&&Ft(jt)&&(jt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Mt&&Ft(Mt)&&(Mt=null),It.forEach(zt),Rt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Vt(jt,e),null!==Pt&&Vt(Pt,e),null!==Mt&&Vt(Mt,e),It.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var Wt=b.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=kt,a=Wt.transition;Wt.transition=null;try{kt=1,Zt(e,t,n,r)}finally{kt=i,Wt.transition=a}}function Yt(e,t,n,r){var i=kt,a=Wt.transition;Wt.transition=null;try{kt=4,Zt(e,t,n,r)}finally{kt=i,Wt.transition=a}}function Zt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Nt(jt,e,t,n,r,i),!0;case"dragenter":return Pt=Nt(Pt,e,t,n,r,i),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Nt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Nt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=$t(e,t,n,r))&&Gr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function $t(e,t,n,r){if(qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),dn=L({},cn,{view:0,detail:0}),fn=an(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),mn=an(L({},pn,{dataTransfer:0})),vn=an(L({},dn,{relatedTarget:0})),gn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(L({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return xn}var Tn=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),jn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(In),An=[9,13,27,32],Dn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Nn=l&&"TextEvent"in window&&!On,Ln=l&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Yr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Zn=null;function qn(e){Fr(e,0)}function $n(e){if(Z(bi(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Zn=Yn=null)}function nr(e){if("value"===e.propertyName&&$n(Zn)){var t=[];Hn(t,Zn,e,_e(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Zn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==vr||vr!==q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Yr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},xr={};function Er(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),jr=Er("animationstart"),Pr=Er("transitionend"),Mr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Mr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Ir.length;Ar++){var Dr=Ir[Ar];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(jr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Ne){if(!Ne)throw Error(a(198));var l=Le;Ne=!1,Le=null,Fe||(Fe=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=a,i=_e(n),o=[];e:{var s=Mr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Cr:case jr:u=gn;break;case Pr:u=Mn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=jn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Re(h,f))&&l.push(Hr(h,m,p)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:bi(u),p=null==c?s:bi(c),(s=new l(m,h+"leave",u,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Zr(p))h++;for(p=0,m=f;m;m=Zr(m))p++;for(;0<h-p;)l=Zr(l),h--;for(;0<p-h;)f=Zr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Zr(l),f=Zr(f)}l=null}else l=null;null!==u&&qr(o,s,u,l,!1),null!==c&&null!==d&&qr(o,d,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Kn;else if(Gn(s))if(Xn)v=or;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Hn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Yr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Vn(n))&&(k.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Qt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[pi]||null}var wi=[],Si=-1;function xi(e){return{current:e}}function Ei(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ti(e,t){Si++,wi[Si]=e.current,e.current=t}var Ci={},ji=xi(Ci),Pi=xi(!1),Mi=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ei(Pi),Ei(ji)}function Di(e,t,n){if(ji.current!==Ci)throw Error(a(168));Ti(ji,t),Ti(Pi,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return L({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Mi=ji.current,Ti(ji,e),Ti(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(ji),Ti(ji,e)):Ei(Pi),Ti(Pi,n)}var Fi=null,zi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ze(Qe,Bi),i}finally{kt=t,Ui=!1}}return null}var Wi=[],Gi=0,Hi=null,Yi=0,Zi=[],qi=0,$i=null,Ki=1,Xi="";function Ji(e,t){Wi[Gi++]=Yi,Wi[Gi++]=Hi,Hi=e,Yi=t}function Qi(e,t,n){Zi[qi++]=Ki,Zi[qi++]=Xi,Zi[qi++]=$i,$i=e;var r=Ki;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ki=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Wi[--Gi],Wi[Gi]=null,Yi=Wi[--Gi],Wi[Gi]=null;for(;e===$i;)$i=Zi[--qi],Zi[qi]=null,Xi=Zi[--qi],Zi[qi]=null,Ki=Zi[--qi],Zi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ki,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=xi(null),ya=null,ka=null,ba=null;function _a(){ba=ka=ya=null}function wa(e){var t=ga.current;Ei(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function ja(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=d):l=l.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Oa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Wa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Mi:ji.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Mi:ji.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&qa(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case w:return(t=zc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Nc(t,e.mode,n,null)).return=e,t;Za(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Za(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Za(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(a=o(d,a,m),null===l?c=d:l.sibling=d,l=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}function v(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var d=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var k=p(i,m,y.value,c);if(null===k){null===m&&(m=g);break}e&&m&&null===k.alternate&&t(i,m),s=o(k,s,v),null===d?l=k:d.sibling=k,d=k,m=g}if(y.done)return n(i,m),ia&&Ji(i,v),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return ia&&Ji(i,v),l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ya(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Nc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Ya(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(O(o))return v(r,a,o,u);Za(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=$a(!0),Xa=$a(!1),Ja={},Qa=xi(Ja),eo=xi(Ja),to=xi(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Qa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qa),Ti(Qa,t)}function io(){Ei(Qa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Qa.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Qa,n))}function oo(e){eo.current===e&&(Ei(Qa),Ei(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,po=b.ReactCurrentBatchConfig,ho=0,mo=null,vo=null,go=null,yo=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(ho=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==vo&&null!==vo.next,ho=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function jo(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var d=l.lane;if((ho&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,mo.lanes|=d,Lu|=d}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mo(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function Ro(e,t){var n=mo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Mu)throw Error(a(349));0!==(30&ho)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Lo(e)}function Oo(e,t,n){return n((function(){No(t)&&Lo(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Pa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Vo(e,t,n,r){var i=To();mo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}mo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Wo(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Yo(e,t){return Bo(4,4,e,t)}function Zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Zo.bind(null,t,e),n)}function $o(){}function Ko(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{kt=n,po.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ja(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=ja(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Qo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Mu)throw Error(a(349));0!==(30&ho)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Mu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:Xo,useReducer:Po,useRef:Uo,useState:function(){return Po(jo)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Co(),vo.memoizedState,e)},useTransition:function(){return[Po(jo)[0],Co().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:Xo,useReducer:Mo,useRef:Uo,useState:function(){return Mo(jo)},useDebugValue:$o,useDeferredValue:function(e){var t=Co();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[Mo(jo)[0],Co().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Yu=r),fs(0,t)},n}function ms(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ka(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Au),Au|=r;return _s(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Mi:ji.current;return a=Ii(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function js(e,t,n,r,i){if(Ri(n)){var a=!0;Ni(t)}else a=!1;if(xa(t,i),null===t.stateNode)Gs(e,t),Wa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ii(t,c=Ri(n)?Mi:ji.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ga(t,o,r,c),Ma=!1;var f=t.memoizedState;o.state=f,La(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Pi.current||Ma?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Ma||Ba(t,n,s,r,f,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:va(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ii(t,u=Ri(n)?Mi:ji.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Ga(t,o,r,u),Ma=!1,f=t.memoizedState,o.state=f,La(t,r,o,i);var h=t.memoizedState;s!==d||f!==h||Pi.current||Ma?("function"===typeof p&&(Ua(t,n,p,r),h=t.memoizedState),(c=Ma||Ba(t,n,c,r,f,h,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Is(e,t,n,r,i){return pa(),ha(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,As,Ds,Os,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Nc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ns,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Nc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ns,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Mu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rc(r,e,i,-1))}return vc(),Us(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Zi[qi++]=Ki,Zi[qi++]=Xi,Zi[qi++]=$i,Ki=e.id,Xi=e.overflow,$i=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Nc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&ha(r),Ka(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Ri(t.type)&&Ai(),Zs(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(ji),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),As(e,t),Zs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Zs(t),null}if(e=no(Qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":Y(r),Q(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":K(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":Y(e),Q(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Zs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return io(),As(e,t),null===e&&Br(t.stateNode.containerInfo),Zs(t),null;case 10:return wa(t.type._context),Zs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Zs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ys(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wu&&(t.flags|=128,r=!0,Ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Zs(t),null}else 2*Xe()-o.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=128,r=!0,Ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(ji),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Qa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var du=null,fu=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=du,i=fu;du=null,pu(e,t,n),fu=i,null!==(du=r)&&(fu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(e=du,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(du,n.stateNode));break;case 4:r=du,i=fu,du=n.stateNode.containerInfo,fu=!0,pu(e,t,n),du=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,pu(e,t,n),Xs=r):pu(e,t,n);break;default:pu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(a(160));hu(o,s,i),du=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){Ec(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Ec(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Ec(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):k(i,d,f,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(v){Ec(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ec(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){Ec(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&mu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||d,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(h=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Ec(r,n,v)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){wu(f);continue}}null!==h?(h.return=p,Qs=h):wu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(v){Ec(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Ec(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&mu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Qs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ks;var c=Xs;if(Ks=o,(Xs=u)&&!c)for(Qs=i;null!==Qs;)u=(o=Qs).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,Qs=u):Su(i);for(;null!==a;)Qs=a,bu(a,t,n),a=a.sibling;Qs=i,Ks=s,Xs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):_u(e)}}function _u(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Su(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var xu,Eu=Math.ceil,Tu=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,ju=b.ReactCurrentBatchConfig,Pu=0,Mu=null,Iu=null,Ru=0,Au=0,Du=xi(0),Ou=0,Nu=null,Lu=0,Fu=0,zu=0,Uu=null,Vu=null,Bu=0,Wu=1/0,Gu=null,Hu=!1,Yu=null,Zu=null,qu=!1,$u=null,Ku=0,Xu=0,Ju=null,Qu=-1,ec=0;function tc(){return 0!==(6&Pu)?Xe():-1!==Qu?Qu:Qu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ru?Ru&-Ru:null!==ma.transition?(0===ec&&(ec=mt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Pu)&&e===Mu||(e===Mu&&(0===(2&Pu)&&(Fu|=n),4===Ou&&uc(e,Ru)),ic(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Wu=Xe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Mu?Ru:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Pu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Qu=-1,ec=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ft(e,e===Mu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Pu;Pu|=2;var o=mc();for(Mu===e&&Ru===t||(Gu=null,Wu=Xe()+500,pc(e,t));;)try{kc();break}catch(u){hc(e,u)}_a(),Tu.current=o,Pu=i,null!==Iu?t=0:(Mu=null,Ru=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=oc(e,i))),1===t)throw n=Nu,pc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=ht(e))&&(r=o,t=oc(e,o))),1===t))throw n=Nu,pc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,Gu),t);break}wc(e,Vu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,Gu),r);break}wc(e,Vu,Gu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pu))throw Error(a(327));Sc();var t=ft(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Nu,pc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,Gu),ic(e,Xe()),null}function lc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Wu=Xe()+500,zi&&Bi())}}function dc(e){null!==$u&&0===$u.tag&&0===(6&Pu)&&Sc();var t=Pu;Pu|=1;var n=ju.transition,r=kt;try{if(ju.transition=null,kt=1,e)return e()}finally{kt=r,ju.transition=n,0===(6&(Pu=t))&&Bi()}}function fc(){Au=Du.current,Ei(Du)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),Ei(Pi),Ei(ji),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Mu=e,Iu=e=Dc(e.current,null),Ru=Au=t,Ou=0,Nu=null,zu=Fu=Lu=0,Vu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function hc(e,t){for(;;){var n=Iu;try{if(_a(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(ho=0,go=vo=mo=null,ko=!1,bo=0,Cu.current=null,null===n||null===n.return){Ou=1,Nu=t,Iu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&vs(o,l,t),c=l;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),ha(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Na(o,hs(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Zu||!Zu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Na(o,ms(o,u,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function mc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Mu||0===(268435455&Lu)&&0===(268435455&Fu)||uc(Mu,Ru)}function gc(e,t){var n=Pu;Pu|=2;var r=mc();for(Mu===e&&Ru===t||(Gu=null,pc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(_a(),Pu=n,Tu.current=r,null!==Iu)throw Error(a(261));return Mu=null,Ru=0,Ou}function yc(){for(;null!==Iu;)bc(Iu)}function kc(){for(;null!==Iu&&!$e();)bc(Iu)}function bc(e){var t=xu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?_c(e):Iu=t,Cu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Au)))return void(Iu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Ou=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=kt,i=ju.transition;try{ju.transition=null,kt=1,function(e,t,n,r){do{Sc()}while(null!==$u);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Mu&&(Iu=Mu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Mc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=ju.transition,ju.transition=null;var s=kt;kt=1;var u=Pu;Pu|=4,Cu.current=null,function(e,t){if(ei=Gt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===i&&(u=s),p===o&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nu,nu=!1}(e,n),gu(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Ke(),Pu=u,kt=s,ju.transition=o}else e.current=n;if(qu&&(qu=!1,$u=e,Ku=i),o=e.pendingLanes,0===o&&(Zu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Yu,Yu=null,e;0!==(1&Ku)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{ju.transition=i,kt=r}return null}function Sc(){if(null!==$u){var e=bt(Ku),t=ju.transition,n=kt;try{if(ju.transition=null,kt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Ku=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Qs=l;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:ru(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var p=(d=Qs).sibling,h=d.return;if(ou(d),d===l){Qs=null;break}if(null!==p){p.return=h,Qs=p;break}Qs=h}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var k=e.current;for(Qs=k;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=k;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Ec(u,u.return,w)}if(u===s){Qs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Qs=_;break e}Qs=u.return}}if(Pu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,ju.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=hs(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){t=Da(t,e=ms(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Mu===e&&(Ru&n)===n&&(4===Ou||3===Ou&&(130023424&Ru)===Ru&&500>Xe()-Bu?pc(e,0):zu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Pa(e,t))&&(gt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Mc(e,t){return Ze(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Nc(n.children,i,o,t);case x:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Rc(13,n,t,i)).elementType=P,e.lanes=o,e;case M:return(e=Rc(19,n,t,i)).elementType=M,e.lanes=o,e;case A:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case j:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Nc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function Wc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Aa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Oa(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),pa();break;case 5:ao(t);break;case 1:Ri(t.type)&&Ni(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ii(t,ji.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===I)return 14}return 2}(r),e=va(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=js(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Ms(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Aa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),Ss(e,t,r,i=va(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Gs(e,t),t.tag=1,Ri(r)?(e=!0,Ni(t)):e=!1,xa(t,n),Wa(t,r,i),Ha(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[hi]=o.current,Br(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=u,e[hi]=u.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Kc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Kc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[hi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Pu)&&(Wu=Xe()+500,Bi()))}break;case 13:dc((function(){var t=Pa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Zc(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Zc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Pa(e,t);if(null!==n)rc(n,e,t,tc());Zc(e,t)}},xt=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));Z(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=lc,Pe=dc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,_i,Te,Ce,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,m(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+j(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+j(s=e[c],c);u+=P(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=a+j(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,p=3,h=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(v=!1,b(e),!m)if(null!==r(c))m=!0,A(w);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(T),T=-1),h=!0;var a=p;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&D(_,d.startTime-n),u=!1}return u}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,E=null,T=-1,C=5,j=-1;function P(){return!(t.unstable_now()-j<C)}function M(){if(null!==E){var e=t.unstable_now();j=e;var n=!0;try{n=E(!0,e)}finally{n?S():(x=!1,E=null)}}else x=!1}if("function"===typeof k)S=function(){k(M)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=M,S=function(){R.postMessage(null)}}else S=function(){g(M,0)};function A(e){E=e,x||(x=!0,S())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(v?(y(T),T=-1):v=!0,D(_,a-o))):(e.sortIndex=s,n(c,e),m||h||(m=!0,A(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},467:function(e){e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n},e.exports.__esModule=!0,e.exports.default=e.exports},860:function(e,t,n){var r=n(521);e.exports=function(e,t){r(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},515:function(e,t,n){var r=n(15),i=n(617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var r=n(62);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,n){var r=n(116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),a=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e,t,n){var r=n(62);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},588:function(e,t,n){var r=n(753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},35:function(e){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},122:function(e,t,n){var r=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),o=new A(r||[]);return s(a,"_invoke",{value:P(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",k={};function b(){}function _(){}function w(){}var S={};f(S,c,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(D([])));E&&E!==a&&o.call(E,c)&&(S=E);var T=w.prototype=b.prototype=Object.create(S);function C(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,n,r){var i=m;return function(a,o){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=M(s,r);if(u){if(u===k)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?y:v,c.arg===k)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),k;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,k;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,k):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,k)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=w,s(T,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,d,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},C(j.prototype),f(j.prototype,l,(function(){return this})),n.AsyncIterator=j,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new j(p(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(T),f(T,d,"Generator"),f(T,c,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),k}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),a=n(116),o=n(218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},753:function(e,t,n){var r=n(808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},496:function(e,t,n){var r=n(808),i=n(15),a=n(35),o=n(515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".627756db.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="client-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkclient_app=self.webpackChunkclient_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2);var r=n.p+"static/media/logo_white.8be238f2016e7e7600ed74b1ac607651.svg",i=n(184);var a=function(){return(0,i.jsxs)("div",{className:"App",children:[(0,i.jsx)("img",{src:r,className:"App-logo",alt:"logo"}),(0,i.jsx)("p",{className:"App-label",children:"Black Rectangle App Client"})]})};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof k?t:k,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:j(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function k(){}function b(){}function _(){}var w={};d(w,u,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(A([])));x&&x!==n&&r.call(x,u)&&(w=x);var E=_.prototype=k.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,s,u){var c=p(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function j(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=p(t,n,r);if("normal"===c.type){if(i=r.done?g:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return b.prototype=_,i(E,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=d(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),d(E,l,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function l(e){if(Array.isArray(e))return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||f(e,t)||p()}var m,v="styles_container__EZ6Gc",g="styles_logo__KoUTM",y="styles_partner_logo__MxYUh",k="styles_cross__W+sXW",b="styles_title__C-ctJ",_=n.p+"static/media/dolby_logo.b1fe5b79a52c0bbc10fc.png",w={dolby:_},S=function(e){var t=e.title,n=e.logo;return(0,i.jsxs)("div",{className:v,children:[(0,i.jsx)("img",{src:r,className:g}),(0,i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAylpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAxIDc5LmMwMjA0YjJkZWYsIDIwMjMvMDIvMDItMTI6MTQ6MjQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyNC4zIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ4QjA4Nzg3NkMwQzExRUVCQTc3QTdBQjA1N0IwRTM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ4QjA4Nzg4NkMwQzExRUVCQTc3QTdBQjA1N0IwRTM4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDhCMDg3ODU2QzBDMTFFRUJBNzdBN0FCMDU3QjBFMzgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDhCMDg3ODY2QzBDMTFFRUJBNzdBN0FCMDU3QjBFMzgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz52rsxPAAACyklEQVR42uxbTU/CQBAVOJmIiQhXoY0nDoAfqPjb9Df5F/Ss8SJy0Sh4si1evdZpHJKGbHdbujuzGzrJi0SWdt7rdmeyM1uL43hnm62+s+VWCVAJoLZzh/mdlRXgEHADGDhIfgi4BbSko5IokIF9wCz+tyXAk4y1DT7gB31/BTSzxor+2QD08Idpi/DCLpCP1nyfIqdGHgFOAA+x2ELLZ4KPPorsHjDKI8AuYILTXmQBqmkbeU9CPpkRV8hNKUD6gpFkJnQtIt+VkA9lD0x14Z4DIqjIS30se4OI+XWQPaDkVT1SXUOHyhHTwuhL1qnvPOSLCLBSO8i4IXWekI7zIvK5X03dK63PFOc3jlC6HTCdJ/iKBa/wvcvEXOo8wTOxDpV1iCpEbhznTQpAlSeUivOmBTCdJ5SO8xQCmMoTtMR5KgF05wna4jylALryBK1xnlqAsnmC9jjPIcCmeYKROM8lQNE8wVicV6FmuDTWAzwC2oLvIoCHnz8BnYwxY8DClIOmBUisiyKICL7j32PBdyGS/zLpHIUAKhFEFgAuTJOnLI0tkFCYk/wlBXnq2uAc4ANmkjEzHLOgcoq6OFrTNMZJAZIV/wPQl4zp45ge2ROxdBE0Hv4oZ4CM/FsqFKatg7/puj4DZIlQmEqE5hkCLXEmzF2cAclq/pRBPkBiv4gxTvt1a6OAnjEvLdq3Z6k72LZvT153sHHfnrTuYOu+PVndweZ9e5K6A3t9nrvuwF6f5+5PYK/Pc/cnsNfnufsT2Ovz3P0J7PV57v4E9vo8d38Ce32euz+BvT7P3Z9gQ5xnzRNsifNseUJWs/Q1Q5w3nSdM8jZLjyTt8rZ2iueJVLnb5Rv4hKeOnRWQ5QkvyKleZA1opk6NuHZkxku9wsmD3Ns0CrQAd4CBQ+RXGKLvB2X7A04Bz44em1P6TlUZqk6OVgJUAthpfwIMAGzS0qqd6zwrAAAAAElFTkSuQmCC",className:k}),(0,i.jsx)("img",{src:w[n],className:y}),(0,i.jsx)("div",{className:b,children:t})]})},x="styles_container__iAALD",E=function(e){var t=e.onClick,n=e.label;return(0,i.jsx)("div",{className:x,onClick:function(){t()},children:n})},T="styles_container__R-GvE",C="styles_other_player__JRk74",j=function(){return(0,i.jsxs)("div",{className:T,children:[(0,i.jsx)("div",{id:"other_player",children:(0,i.jsx)("div",{})}),(0,i.jsx)("div",{id:"local_player",className:C,children:(0,i.jsx)("div",{})})]})},P="styles_content__oa9c0",M=n(364),I=n.n(M),R=function(){var t=h((0,e.useState)(!1),2),n=t[0],r=t[1],a=function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I().session.open({name:t});case 3:console.log("Session opened"),I().conference.on("streamAdded",(function(e,t){"Camera"===t.type&&o(e,t)})),I().conference.on("streamUpdated",(function(e,t){"Camera"===t.type&&t.getVideoTracks().length&&o(e,t)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error open session");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(I().session.participant.id,t.id),r=null,r=I().session.participant.id==t.id?document.getElementById("local_player"):document.getElementById("other_player"),(i=document.getElementById("video-".concat(t.id)))||((i=document.createElement("video")).setAttribute("id","video-".concat(t.id)),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.muted=!0,i.autoplay=!0,i.playsinline=!0),r.lastElementChild.replaceWith(i),navigator.attachMediaStream(i,n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=c(s().mark((function e(t,n){var r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I().session.isOpen()){e.next=3;break}return e.next=3,a(n);case 3:return r={alias:t},i={constraints:{audio:!0,video:!0}},e.prev=6,e.next=9,I().conference.create(r);case 9:return o=e.sent,e.next=12,I().conference.join(o,i);case 12:console.log("Step 3: Conference '".concat(t,"' created and joined.")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,n){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){!function(){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DOLBY_ACCESS_TOKEN;I().initializeToken(e,(function(){return new Promise((function(t){return t(e)}))})),console.log("Web SDK initialized")}(),a()}),[]);var l=function(){var e=c(s().mark((function e(){var t,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t=new URLSearchParams(window.location.search),n=t.get("name"),i=t.get("room"),e.next=6,u(i,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{children:[(0,i.jsx)(S,{title:"One to one demonstration",logo:"dolby"}),(0,i.jsx)("div",{className:P,children:!n&&(0,i.jsx)(E,{onClick:n?d:l,label:n?"Leave session":"Join session"})}),(0,i.jsx)(j,{})]})},A=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},D=n(250);function O(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function L(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function U(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){var t=B();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W(this,n)}}function H(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n){return Y=B()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&z(i,n.prototype),i},Y.apply(null,arguments)}function Z(e){var t="function"===typeof Map?new Map:void 0;return Z=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Y(e,arguments,V(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),z(n,e)},Z(e)}function q(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function K(e){return function(e){if(Array.isArray(e))return d(e)}(e)||q(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(m||(m={}));var J,Q="popstate";function ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function te(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ne(e,t){return{usr:e.state,key:e.key,idx:t}}function re(e,t,n,r){return void 0===n&&(n=null),X({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ae(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ie(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ae(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oe(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=m.Pop,d=null,f=p();function p(){return(c.state||{idx:null}).idx}function h(){l=m.Pop;var e=p(),t=null==e?null:e-f;f=e,d&&d({action:l,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:ie(e);return ee(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(X({},c.state,{idx:f}),""));var g={get action(){return l},get location(){return e(o,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Q,h),d=e,function(){o.removeEventListener(Q,h),d=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=m.Push;var r=re(g.location,e,t);n&&n(r,e);var i=ne(r,f=p()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&d&&d({action:l,location:g.location,delta:1})},replace:function(e,t){l=m.Replace;var r=re(g.location,e,t);n&&n(r,e);var i=ne(r,f=p()),a=g.createHref(r);c.replaceState(i,"",a),u&&d&&d({action:l,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(J||(J={}));var se=new Set(["lazy","caseSensitive","path","id","index","children"]);function ue(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(K(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(ee(!0!==e.index||!e.children,"Cannot specify children on an index route"),ee(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=X({},e,t(e),{id:o});return r[o]=s,s}var u=X({},e,t(e),{id:o,children:void 0});return r[o]=u,e.children&&(u.children=ue(e.children,t,a,r)),u}))}function ce(e,t,n){void 0===n&&(n="/");var r=Se(("string"===typeof t?ae(t):t).pathname||"/",n);if(null==r)return null;var i=le(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=be(i[o],we(r));return a}function le(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ee(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Ce([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(ee(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),le(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:ke(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=$(de(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function de(e){var t=e.split("/");if(0===t.length)return[];var n,r=l(n=t)||q(n)||f(n)||p(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=de(a.join("/")),c=[];return c.push.apply(c,K(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&c.push.apply(c,K(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var fe=/^:\w+$/,pe=3,he=2,me=1,ve=10,ge=-2,ye=function(e){return"*"===e};function ke(e,t){var n=e.split("/"),r=n.length;return n.some(ye)&&(r+=ge),t&&(r+=he),n.filter((function(e){return!ye(e)})).reduce((function(e,t){return e+(fe.test(t)?pe:""===t?me:ve)}),r)}function be(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=_e({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var d=s.route;a.push({params:r,pathname:Ce([i,l.pathname]),pathnameBase:je(Ce([i,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(i=Ce([i,l.pathnameBase]))}return a}function _e(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);te("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return te(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function we(e){try{return decodeURI(e)}catch(t){return te(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function xe(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=ae(e):(ee(!(i=X({},e)).pathname||!i.pathname.includes("?"),xe("?","pathname","search",i)),ee(!i.pathname||!i.pathname.includes("#"),xe("#","pathname","hash",i)),ee(!i.search||!i.search.includes("#"),xe("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ae(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Pe(a),hash:Me(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!f||(l.pathname+="/"),l}var Ce=function(e){return e.join("/").replace(/\/\/+/g,"/")},je=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Pe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Me=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Ie=function(e){U(n,e);var t=G(n);function n(){return F(this,n),t.apply(this,arguments)}return L(n)}(Z(Error));var Re=L((function e(t,n,r,i){F(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function Ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var De=["post","put","patch","delete"],Oe=new Set(De),Ne=["get"].concat(De),Le=new Set(Ne),Fe=new Set([301,302,303,307,308]),ze=new Set([307,308]),Ue={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ve={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Be={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},We=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}},He="remix-router-transitions";function Ye(e){var t,n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;if(ee(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:a(e)}}}else t=Ge;var o,u={},l=ue(e.routes,t,void 0,u),d=e.basename||"/",f=X({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),p=null,v=new Set,g=null,y=null,k=null,b=null!=e.hydrationData,_=ce(l,e.history.location,d),w=null;if(null==_){var S=dt(404,{pathname:e.history.location.pathname}),x=lt(l);_=x.matches,w=H({},x.route.id,S)}var E,T,C=!_.some((function(e){return e.route.lazy}))&&(!_.some((function(e){return e.route.loader}))||null!=e.hydrationData),j={historyAction:e.history.action,location:e.history.location,matches:_,initialized:C,navigation:Ue,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},P=m.Pop,M=!1,I=!1,R=new Map,A=null,D=!1,O=!1,N=[],L=[],F=new Map,z=0,U=-1,V=new Map,B=new Set,W=new Map,G=new Map,Y=new Map,Z=!1;function q(e,t){j=X({},j,e),v.forEach((function(e){return e(j,{unstable_viewTransitionOpts:t})}))}function Q(t,n){var r,i,a,s=null!=j.actionData&&null!=j.navigation.formMethod&&_t(j.navigation.formMethod)&&"loading"===j.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?j.actionData:null;var u=n.loaderData?ut(j.loaderData,n.loaderData,n.matches||[],n.errors):j.loaderData,c=j.blockers;c.size>0&&(c=new Map(c)).forEach((function(e,t){return c.set(t,Be)}));var d,f=!0===M||null!=j.navigation.formMethod&&_t(j.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(o&&(l=o,o=void 0),D||P===m.Pop||(P===m.Push?e.history.push(t,t.state):P===m.Replace&&e.history.replace(t,t.state)),P===m.Pop){var p=R.get(j.location.pathname);p&&p.has(t.pathname)?d={currentLocation:j.location,nextLocation:t}:R.has(t.pathname)&&(d={currentLocation:t,nextLocation:j.location})}else if(I){var h=R.get(j.location.pathname);h?h.add(t.pathname):(h=new Set([t.pathname]),R.set(j.location.pathname,h)),d={currentLocation:j.location,nextLocation:t}}q(X({},n,{actionData:a,loaderData:u,historyAction:P,location:t,initialized:!0,navigation:Ue,revalidation:"idle",restoreScrollPosition:De(t,n.matches||j.matches),preventScrollReset:f,blockers:c}),d),P=m.Pop,M=!1,I=!1,D=!1,O=!1,N=[],L=[]}function ne(e,t){return ie.apply(this,arguments)}function ie(){return ie=c(s().mark((function t(n,r){var i,a,o,u,c,l,p,h,v,g,y;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=Ze(j.location,j.matches,d,f.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=qe(f.v7_normalizeFormMethod,!1,i,r),o=a.path,u=a.submission,c=a.error,l=j.location,p=X({},p=re(j.location,o,r&&r.state),e.history.encodeLocation(p)),h=r&&null!=r.replace?r.replace:void 0,v=m.Push,!0===h?v=m.Replace:!1===h||null!=u&&_t(u.formMethod)&&u.formAction===j.location.pathname+j.location.search&&(v=m.Replace),g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(y=Me({currentLocation:l,nextLocation:p,historyAction:v}))){t.next=16;break}return Pe(y,{state:"blocked",location:p,proceed:function(){Pe(y,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),ne(n,r)},reset:function(){var e=new Map(j.blockers);e.set(y,Be),q({blockers:e})}}),t.abrupt("return");case 16:return t.next=18,ae(v,p,{submission:u,pendingError:c,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition});case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)}))),ie.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=c(s().mark((function t(n,r,i){var a,u,c,f,p,h,m,v,g,y,k,b,_,w,S;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T&&T.abort(),T=null,P=n,D=!0===(i&&i.startUninterruptedRevalidation),Ae(j.location,j.matches),M=!0===(i&&i.preventScrollReset),I=!0===(i&&i.enableViewTransition),a=o||l,u=i&&i.overrideNavigation,c=ce(a,r,d)){t.next=16;break}return f=dt(404,{pathname:r.pathname}),p=lt(a),h=p.matches,m=p.route,Ie(),Q(r,{matches:h,loaderData:{},errors:H({},m.id,f)}),t.abrupt("return");case 16:if(!j.initialized||O||!ht(j.location,r)||i&&i.submission&&_t(i.submission.formMethod)){t.next=19;break}return Q(r,{matches:c}),t.abrupt("return");case 19:if(T=new AbortController,v=rt(e.history,r,T.signal,i&&i.submission),!i||!i.pendingError){t.next=25;break}y=H({},ct(c).route.id,i.pendingError),t.next=35;break;case 25:if(!(i&&i.submission&&_t(i.submission.formMethod))){t.next=35;break}return t.next=28,se(v,r,i.submission,c,{replace:i.replace});case 28:if(!(k=t.sent).shortCircuited){t.next=31;break}return t.abrupt("return");case 31:g=k.pendingActionData,y=k.pendingActionError,u=Pt(r,i.submission),v=new Request(v.url,{signal:v.signal});case 35:return t.next=37,de(v,r,c,u,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,g,y);case 37:if(b=t.sent,_=b.shortCircuited,w=b.loaderData,S=b.errors,!_){t.next=43;break}return t.abrupt("return");case 43:T=null,Q(r,X({matches:c},g?{actionData:g}:{},{loaderData:w,errors:S}));case 45:case"end":return t.stop()}}),t)}))),oe.apply(this,arguments)}function se(e,t,n,r,i){return le.apply(this,arguments)}function le(){return le=c(s().mark((function e(n,r,i,a,o){var c,l,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o={}),be(),q({navigation:Mt(r,i)}),(l=Ct(a,r)).route.action||l.route.lazy){e.next=9;break}c={type:J.error,error:dt(405,{method:n.method,pathname:r.pathname,routeId:l.route.id})},e.next=14;break;case 9:return e.next=11,tt("action",n,l,a,u,t,d);case 11:if(c=e.sent,!n.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!gt(c)){e.next=19;break}return f=o&&null!=o.replace?o.replace:c.location===j.location.pathname+j.location.search,e.next=18,ve(j,c,{submission:i,replace:f});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!vt(c)){e.next=23;break}return p=ct(a,l.route.id),!0!==(o&&o.replace)&&(P=m.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:H({},p.route.id,c.error)});case 23:if(!mt(c)){e.next=25;break}throw dt(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:H({},l.route.id,c.data)});case 26:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function de(e,t,n,r,i,a,o,s,u){return fe.apply(this,arguments)}function fe(){return fe=c(s().mark((function t(n,r,i,a,u,c,f,p,m){var v,g,y,k,b,_,w,S,x,E,C,P,M,I,R,A,V,H,Y,Z,$,K;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=a||Pt(r,u),g=u||c||jt(v),y=o||l,k=Ke(e.history,j,i,g,r,O,N,L,W,B,y,d,p,m),b=h(k,2),_=b[0],w=b[1],Ie((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||_&&_.some((function(t){return t.route.id===e}))})),U=++z,0!==_.length||0!==w.length){t.next=10;break}return S=Te(),Q(r,X({matches:i,loaderData:{},errors:m||null},p?{actionData:p}:{},S?{fetchers:new Map(j.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return D||(w.forEach((function(e){var t=j.fetchers.get(e.key),n=It(void 0,t?t.data:void 0);j.fetchers.set(e.key,n)})),x=p||j.actionData,q(X({navigation:v},x?0===Object.keys(x).length?{actionData:null}:{actionData:x}:{},w.length>0?{fetchers:new Map(j.fetchers)}:{}))),w.forEach((function(e){F.has(e.key)&&xe(e.key),e.controller&&F.set(e.key,e.controller)})),E=function(){return w.forEach((function(e){return xe(e.key)}))},T&&T.signal.addEventListener("abort",E),t.next=16,ye(j.matches,i,_,w,n);case 16:if(C=t.sent,P=C.results,M=C.loaderResults,I=C.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(T&&T.signal.removeEventListener("abort",E),w.forEach((function(e){return F.delete(e.key)})),!(R=ft(P))){t.next=30;break}return R.idx>=_.length&&(A=w[R.idx-_.length].key,B.add(A)),t.next=29,ve(j,R.result,{replace:f});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return V=st(j,i,_,M,m,w,I,G),H=V.loaderData,Y=V.errors,G.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&G.delete(t)}))})),Z=Te(),$=Ce(U),K=Z||$||w.length>0,t.abrupt("return",X({loaderData:H,errors:Y},K?{fetchers:new Map(j.fetchers)}:{}));case 36:case"end":return t.stop()}}),t)}))),fe.apply(this,arguments)}function pe(e){return j.fetchers.get(e)||Ve}function he(){return he=c(s().mark((function n(r,i,a,c,f,p){var m,v,g,y,k,b,_,w,S,x,E,C,M,I,R,A,D,Y,Z,$,K,J,te,ne,re,ie,ae,oe,se,ue,le;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(be(),W.delete(r),c.route.action||c.route.lazy){n.next=6;break}return m=dt(405,{method:p.formMethod,pathname:a,routeId:i}),_e(r,i,m),n.abrupt("return");case 6:return v=j.fetchers.get(r),g=Rt(p,v),j.fetchers.set(r,g),q({fetchers:new Map(j.fetchers)}),y=new AbortController,k=rt(e.history,a,y.signal,p),F.set(r,y),b=z,n.next=16,tt("action",k,c,f,u,t,d);case 16:if(_=n.sent,!k.signal.aborted){n.next=20;break}return F.get(r)===y&&F.delete(r),n.abrupt("return");case 20:if(!gt(_)){n.next=34;break}if(F.delete(r),!(U>b)){n.next=29;break}return w=At(void 0),j.fetchers.set(r,w),q({fetchers:new Map(j.fetchers)}),n.abrupt("return");case 29:return B.add(r),S=It(p),j.fetchers.set(r,S),q({fetchers:new Map(j.fetchers)}),n.abrupt("return",ve(j,_,{fetcherSubmission:p}));case 34:if(!vt(_)){n.next=37;break}return _e(r,i,_.error),n.abrupt("return");case 37:if(!mt(_)){n.next=39;break}throw dt(400,{type:"defer-action"});case 39:return x=j.navigation.location||j.location,E=rt(e.history,x,y.signal),C=o||l,ee(M="idle"!==j.navigation.state?ce(C,j.navigation.location,d):j.matches,"Didn't find any matches after fetcher action"),I=++z,V.set(r,I),R=It(p,_.data),j.fetchers.set(r,R),A=Ke(e.history,j,M,p,x,O,N,L,W,B,C,d,H({},c.route.id,_.data),void 0),D=h(A,2),Y=D[0],(Z=D[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=j.fetchers.get(t),r=It(void 0,n?n.data:void 0);j.fetchers.set(t,r),F.has(t)&&xe(t),e.controller&&F.set(t,e.controller)})),q({fetchers:new Map(j.fetchers)}),$=function(){return Z.forEach((function(e){return xe(e.key)}))},y.signal.addEventListener("abort",$),n.next=55,ye(j.matches,M,Y,Z,E);case 55:if(K=n.sent,J=K.results,te=K.loaderResults,ne=K.fetcherResults,!y.signal.aborted){n.next=61;break}return n.abrupt("return");case 61:if(y.signal.removeEventListener("abort",$),V.delete(r),F.delete(r),Z.forEach((function(e){return F.delete(e.key)})),!(re=ft(J))){n.next=69;break}return re.idx>=Y.length&&(ie=Z[re.idx-Y.length].key,B.add(ie)),n.abrupt("return",ve(j,re.result));case 69:ae=st(j,j.matches,Y,te,void 0,Z,ne,G),oe=ae.loaderData,se=ae.errors,j.fetchers.has(r)&&(ue=At(_.data),j.fetchers.set(r,ue)),le=Ce(I),"loading"===j.navigation.state&&I>U?(ee(P,"Expected pending action"),T&&T.abort(),Q(j.navigation.location,{matches:M,loaderData:oe,errors:se,fetchers:new Map(j.fetchers)})):(q(X({errors:se,loaderData:ut(j.loaderData,oe,M,se)},le||Z.length>0?{fetchers:new Map(j.fetchers)}:{})),O=!1);case 73:case"end":return n.stop()}}),n)}))),he.apply(this,arguments)}function me(){return me=c(s().mark((function n(r,i,a,o,c,l){var f,p,h,m,v,g,y,k,b;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f=j.fetchers.get(r),p=It(l,f?f.data:void 0),j.fetchers.set(r,p),q({fetchers:new Map(j.fetchers)}),h=new AbortController,m=rt(e.history,a,h.signal),F.set(r,h),v=z,n.next=10,tt("loader",m,o,c,u,t,d);case 10:if(!mt(g=n.sent)){n.next=18;break}return n.next=14,xt(g,m.signal,!0);case 14:if(n.t0=n.sent,n.t0){n.next=17;break}n.t0=g;case 17:g=n.t0;case 18:if(F.get(r)===h&&F.delete(r),!m.signal.aborted){n.next=21;break}return n.abrupt("return");case 21:if(!gt(g)){n.next=33;break}if(!(U>v)){n.next=29;break}return y=At(void 0),j.fetchers.set(r,y),q({fetchers:new Map(j.fetchers)}),n.abrupt("return");case 29:return B.add(r),n.next=32,ve(j,g);case 32:return n.abrupt("return");case 33:if(!vt(g)){n.next=38;break}return k=ct(j.matches,i),j.fetchers.delete(r),q({fetchers:new Map(j.fetchers),errors:H({},k.route.id,g.error)}),n.abrupt("return");case 38:ee(!mt(g),"Unhandled fetcher deferred data"),b=At(g.data),j.fetchers.set(r,b),q({fetchers:new Map(j.fetchers)});case 42:case"end":return n.stop()}}),n)}))),me.apply(this,arguments)}function ve(e,t,n){return ge.apply(this,arguments)}function ge(){return ge=c(s().mark((function t(i,a,o){var u,c,l,f,p,h,v,g,y,k,b,_,w,S;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=(u=void 0===o?{}:o).submission,l=u.fetcherSubmission,f=u.replace,a.revalidate&&(O=!0),ee(p=re(i.location,a.location,{_isRedirect:!0}),"Expected a location on the redirect navigation"),!r){t.next=10;break}if(h=!1,a.reloadDocument?h=!0:We.test(a.location)&&(v=e.history.createURL(a.location),h=v.origin!==n.location.origin||null==Se(v.pathname,d)),!h){t.next=10;break}return f?n.location.replace(a.location):n.location.assign(a.location),t.abrupt("return");case 10:if(T=null,g=!0===f?m.Replace:m.Push,y=i.navigation,k=y.formMethod,b=y.formAction,_=y.formEncType,!c&&!l&&k&&b&&_&&(c=jt(i.navigation)),w=c||l,!(ze.has(a.status)&&w&&_t(w.formMethod))){t.next=20;break}return t.next=18,ae(g,p,{submission:X({},w,{formAction:a.location}),preventScrollReset:M});case 18:t.next=23;break;case 20:return S=Pt(p,c),t.next=23,ae(g,p,{overrideNavigation:S,fetcherSubmission:l,preventScrollReset:M});case 23:case"end":return t.stop()}}),t)}))),ge.apply(this,arguments)}function ye(e,t,n,r,i){return ke.apply(this,arguments)}function ke(){return ke=c(s().mark((function n(r,i,a,o,c){var l,f,p;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(K(a.map((function(e){return tt("loader",c,e,i,u,t,d)}))),K(o.map((function(n){return n.matches&&n.match&&n.controller?tt("loader",rt(e.history,n.path,n.controller.signal),n.match,n.matches,u,t,d):{type:J.error,error:dt(404,{pathname:n.path})}})))));case 2:return l=n.sent,f=l.slice(0,a.length),p=l.slice(a.length),n.next=7,Promise.all([wt(r,a,f,f.map((function(){return c.signal})),!1,j.loaderData),wt(r,o.map((function(e){return e.match})),p,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return n.abrupt("return",{results:l,loaderResults:f,fetcherResults:p});case 8:case"end":return n.stop()}}),n)}))),ke.apply(this,arguments)}function be(){var e;O=!0,(e=N).push.apply(e,K(Ie())),W.forEach((function(e,t){F.has(t)&&(L.push(t),xe(t))}))}function _e(e,t,n){var r=ct(j.matches,t);we(e),q({errors:H({},r.route.id,n),fetchers:new Map(j.fetchers)})}function we(e){var t=j.fetchers.get(e);!F.has(e)||t&&"loading"===t.state&&V.has(e)||xe(e),W.delete(e),V.delete(e),B.delete(e),j.fetchers.delete(e)}function xe(e){var t=F.get(e);ee(t,"Expected fetch controller: "+e),t.abort(),F.delete(e)}function Ee(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=At(pe(r).data);j.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Te(){var e,t=[],n=!1,r=$(B);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=j.fetchers.get(i);ee(a,"Expected fetcher: "+i),"loading"===a.state&&(B.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return Ee(t),n}function Ce(e){var t,n=[],r=$(V);try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0];if(i[1]<e){var o=j.fetchers.get(a);ee(o,"Expected fetcher: "+a),"loading"===o.state&&(xe(a),V.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return Ee(n),n.length>0}function je(e){j.blockers.delete(e),Y.delete(e)}function Pe(e,t){var n=j.blockers.get(e)||Be;ee("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(j.blockers);r.set(e,t),q({blockers:r})}function Me(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==Y.size){Y.size>1&&te(!1,"A router only supports one blocker at a time");var i=Array.from(Y.entries()),a=h(i[i.length-1],2),o=a[0],s=a[1],u=j.blockers.get(o);if(!u||"proceeding"!==u.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Ie(e){var t=[];return G.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),G.delete(r))})),t}function Re(e,t){if(y){var n=y(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,j.loaderData)})));return n||e.key}return e.key}function Ae(e,t){if(g&&k){var n=Re(e,t);g[n]=k()}}function De(e,t){if(g){var n=Re(e,t),r=g[n];if("number"===typeof r)return r}return null}return E={get basename(){return d},get state(){return j},get routes(){return l},get window(){return n},initialize:function(){if(p=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!Z){te(0===Y.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Me({currentLocation:j.location,nextLocation:r,historyAction:n});return a&&null!=i?(Z=!0,e.history.go(-1*i),void Pe(a,{state:"blocked",location:r,proceed:function(){Pe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(j.blockers);e.set(a,Be),q({blockers:e})}})):ae(n,r)}Z=!1})),r){!function(e,t){try{var n=e.sessionStorage.getItem(He);if(n)for(var r=JSON.parse(n),i=0,a=Object.entries(r||{});i<a.length;i++){var o=h(a[i],2),s=o[0],u=o[1];u&&Array.isArray(u)&&t.set(s,new Set(u||[]))}}catch(c){}}(n,R);var t=function(){return function(e,t){if(t.size>0){var n,r={},i=$(t);try{for(i.s();!(n=i.n()).done;){var a=h(n.value,2),o=a[0],s=a[1];r[o]=K(s)}}catch(u){i.e(u)}finally{i.f()}try{e.sessionStorage.setItem(He,JSON.stringify(r))}catch(S){te(!1,"Failed to save applied view transitions in sessionStorage ("+S+").")}}}(n,R)};n.addEventListener("pagehide",t),A=function(){return n.removeEventListener("pagehide",t)}}return j.initialized||ae(m.Pop,j.location),E},subscribe:function(e){return v.add(e),function(){return v.delete(e)}},enableScrollRestoration:function(e,t,n){if(g=e,k=t,y=n||null,!b&&j.navigation===Ue){b=!0;var r=De(j.location,j.matches);null!=r&&q({restoreScrollPosition:r})}return function(){g=null,k=null,y=null}},navigate:ne,fetch:function(e,t,n,r){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(e)&&xe(e);var a=o||l,s=Ze(j.location,j.matches,d,f.v7_prependBasename,n,t,null==r?void 0:r.relative),u=ce(a,s,d);if(u){var c=qe(f.v7_normalizeFormMethod,!0,s,r),p=c.path,h=c.submission,m=c.error;if(m)_e(e,t,m);else{var v=Ct(u,p);M=!0===(r&&r.preventScrollReset),h&&_t(h.formMethod)?function(e,t,n,r,i,a){he.apply(this,arguments)}(e,t,p,v,u,h):(W.set(e,{routeId:t,path:p}),function(e,t,n,r,i,a){me.apply(this,arguments)}(e,t,p,v,u,h))}}else _e(e,t,dt(404,{pathname:s}))},revalidate:function(){be(),q({revalidation:"loading"}),"submitting"!==j.navigation.state&&("idle"!==j.navigation.state?ae(P||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation}):ae(j.historyAction,j.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:pe,deleteFetcher:we,dispose:function(){p&&p(),A&&A(),v.clear(),T&&T.abort(),j.fetchers.forEach((function(e,t){return we(t)})),j.blockers.forEach((function(e,t){return je(t)}))},getBlocker:function(e,t){var n=j.blockers.get(e)||Be;return Y.get(e)!==t&&Y.set(e,t),n},deleteBlocker:je,_internalFetchControllers:F,_internalActiveDeferreds:G,_internalSetRoutes:function(e){o=ue(e,t,void 0,u={})}},E}Symbol("deferred");function Ze(e,t,n,r,i,a,o){var s,u;if(null!=a&&"path"!==o){s=[];var c,l=$(t);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(s.push(d),d.route.id===a){u=d;break}}}catch(p){l.e(p)}finally{l.f()}}else s=t,u=t[t.length-1];var f=Te(i||".",Ee(s).map((function(e){return e.pathnameBase})),Se(e.pathname,n)||e.pathname,"path"===o);return null==i&&(f.search=e.search,f.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Tt(f.search)||(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(f.pathname="/"===f.pathname?n:Ce([n,f.pathname])),ie(f)}function qe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!bt(r.formMethod))return{path:n,error:dt(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:dt(400,{type:"invalid-body"})}},s=r.formMethod||"get",u=e?s.toUpperCase():s.toLowerCase(),c=pt(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!_t(u))return o();var l="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=h(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:l}}}if("application/json"===r.formEncType){if(!_t(u))return o();try{var d="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch(m){return o()}}}if(ee("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=it(r.formData),a=r.formData;else if(r.body instanceof FormData)i=it(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=at(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=at(i=new URLSearchParams(r.body))}catch(m){return o()}var f={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(_t(f.formMethod))return{path:n,submission:f};var p=ae(n);return t&&p.search&&Tt(p.search)&&i.append("index",""),p.search="?"+i,{path:ie(p),submission:f}}function $e(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ke(e,t,n,r,i,a,o,s,u,c,l,d,f,p){var h=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,m=e.createURL(t.location),v=e.createURL(i),g=p?Object.keys(p)[0]:void 0,y=$e(n,g).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],s=e;return Je(e,X({currentUrl:m,currentParams:i.params,nextUrl:v,nextParams:s.params},r,{actionResult:h,defaultShouldRevalidate:a||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||Xe(i,s)}))})),k=[];return u.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=ce(l,e.path,d);if(o){var u=t.fetchers.get(i),f=Ct(o,e.path);!c.has(i)&&(!!s.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:Je(f,X({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:a}))))&&k.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:f,controller:new AbortController})}else k.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[y,k]}function Xe(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Je(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Qe(e,t,n){return et.apply(this,arguments)}function et(){return et=c(s().mark((function e(t,n,r){var i,a,o,u,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(u in ee(a=r[t.id],"No route found in manifest"),o={},i)c=a[u],te(!(l=void 0!==c&&"hasErrorBoundary"!==u),'Route "'+a.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+u+'" will be ignored.'),l||se.has(u)||(o[u]=i[u]);Object.assign(a,o),Object.assign(a,X({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e,t,n,r,i,a,o,s){return nt.apply(this,arguments)}function nt(){return nt=c(s().mark((function e(t,n,r,i,a,o,u,c){var l,d,f,p,h,m,v,g,y,k,b,_,w,S,x,E,T,C,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c&&(c={}),p=function(e){var t,i=new Promise((function(e,n){return t=n}));return f=function(){return t()},n.signal.addEventListener("abort",f),Promise.race([e({request:n,params:r.params,context:c.requestContext}),i])},e.prev=2,h=r.route[t],!r.route.lazy){e.next=32;break}if(!h){e.next=14;break}return e.next=8,Promise.all([p(h).catch((function(e){m=e})),Qe(r.route,o,a)]);case 8:if(v=e.sent,!m){e.next=11;break}throw m;case 11:d=v[0],e.next=30;break;case 14:return e.next=16,Qe(r.route,o,a);case 16:if(!(h=r.route[t])){e.next=23;break}return e.next=20,p(h);case 20:d=e.sent,e.next=30;break;case 23:if("action"!==t){e.next=29;break}throw g=new URL(n.url),y=g.pathname+g.search,dt(405,{method:n.method,pathname:y,routeId:r.route.id});case 29:return e.abrupt("return",{type:J.data,data:void 0});case 30:e.next=41;break;case 32:if(h){e.next=38;break}throw k=new URL(n.url),dt(404,{pathname:k.pathname+k.search});case 38:return e.next=40,p(h);case 40:d=e.sent;case 41:ee(void 0!==d,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(2),l=J.error,d=e.t0;case 48:return e.prev=48,f&&n.signal.removeEventListener("abort",f),e.finish(48);case 51:if(!kt(d)){e.next=77;break}if(b=d.status,!Fe.has(b)){e.next=61;break}if(ee(_=d.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),We.test(_)?c.isStaticRequest||(w=new URL(n.url),S=_.startsWith("//")?new URL(w.protocol+_):new URL(_),x=null!=Se(S.pathname,u),S.origin===w.origin&&x&&(_=S.pathname+S.search+S.hash)):_=Ze(new URL(n.url),i.slice(0,i.indexOf(r)+1),u,!0,_),!c.isStaticRequest){e.next=60;break}throw d.headers.set("Location",_),d;case 60:return e.abrupt("return",{type:J.redirect,status:b,location:_,revalidate:null!==d.headers.get("X-Remix-Revalidate"),reloadDocument:null!==d.headers.get("X-Remix-Reload-Document")});case 61:if(!c.isRouteRequest){e.next=64;break}throw{type:l===J.error?J.error:J.data,response:d};case 64:if(!(T=d.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(T)){e.next=71;break}return e.next=68,d.json();case 68:E=e.sent,e.next=74;break;case 71:return e.next=73,d.text();case 73:E=e.sent;case 74:if(l!==J.error){e.next=76;break}return e.abrupt("return",{type:l,error:new Re(b,d.statusText,E),headers:d.headers});case 76:return e.abrupt("return",{type:J.data,data:E,statusCode:d.status,headers:d.headers});case 77:if(l!==J.error){e.next=79;break}return e.abrupt("return",{type:l,error:d});case 79:if(!yt(d)){e.next=81;break}return e.abrupt("return",{type:J.deferred,deferredData:d,statusCode:null==(C=d.init)?void 0:C.status,headers:(null==(j=d.init)?void 0:j.headers)&&new Headers(d.init.headers)});case 81:return e.abrupt("return",{type:J.data,data:d});case 82:case"end":return e.stop()}}),e,null,[[2,44,48,51]])}))),nt.apply(this,arguments)}function rt(e,t,n,r){var i=e.createURL(pt(t)).toString(),a={signal:n};if(r&&_t(r.formMethod)){var o=r.formMethod,s=r.formEncType;a.method=o.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=it(r.formData):a.body=r.formData}return new Request(i,a)}function it(e){var t,n=new URLSearchParams,r=$(e.entries());try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(s){r.e(s)}finally{r.f()}return n}function at(e){var t,n=new FormData,r=$(e.entries());try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function ot(e,t,n,r,i){var a,o={},s=null,u=!1,c={};return n.forEach((function(n,l){var d=t[l].route.id;if(ee(!gt(n),"Cannot handle redirect results in processLoaderData"),vt(n)){var f=ct(e,d),p=n.error;r&&(p=Object.values(r)[0],r=void 0),null==(s=s||{})[f.route.id]&&(s[f.route.id]=p),o[d]=void 0,u||(u=!0,a=Ae(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else mt(n)?(i.set(d,n.deferredData),o[d]=n.deferredData.data):o[d]=n.data,null==n.statusCode||200===n.statusCode||u||(a=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function st(e,t,n,r,i,a,o,s){for(var u=ot(t,n,r,i,s),c=u.loaderData,l=u.errors,d=0;d<a.length;d++){var f=a[d],p=f.key,h=f.match,m=f.controller;ee(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");var v=o[d];if(!m||!m.signal.aborted)if(vt(v)){var g=ct(e.matches,null==h?void 0:h.route.id);l&&l[g.route.id]||(l=X({},l,H({},g.route.id,v.error))),e.fetchers.delete(p)}else if(gt(v))ee(!1,"Unhandled fetcher revalidation redirect");else if(mt(v))ee(!1,"Unhandled fetcher deferred data");else{var y=At(v.data);e.fetchers.set(p,y)}}return{loaderData:c,errors:l}}function ut(e,t,n,r){var i,a=X({},t),o=$(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.route.id;if(t.hasOwnProperty(u)?void 0!==t[u]&&(a[u]=t[u]):void 0!==e[u]&&s.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}}catch(c){o.e(c)}finally{o.f()}return a}function ct(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):K(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function lt(e){var t=1===e.length?e[0]:e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function dt(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?u="defer() is not supported in actions":"invalid-body"===o&&(u="Unable to encode submission body")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new Re(e||500,s,new Error(u),!0)}function ft(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(gt(n))return{result:n,idx:t}}}function pt(e){return ie(X({},"string"===typeof e?ae(e):e,{hash:""}))}function ht(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function mt(e){return e.type===J.deferred}function vt(e){return e.type===J.error}function gt(e){return(e&&e.type)===J.redirect}function yt(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function kt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function bt(e){return Le.has(e.toLowerCase())}function _t(e){return Oe.has(e.toLowerCase())}function wt(e,t,n,r,i,a){return St.apply(this,arguments)}function St(){return(St=c(s().mark((function e(t,n,r,i,a,o){var u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=s().mark((function e(u){var c,l,d,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[u],l=n[u]){e.next=4;break}return e.abrupt("return",1);case 4:if(d=t.find((function(e){return e.route.id===l.route.id})),f=null!=d&&!Xe(d,l)&&void 0!==(o&&o[l.route.id]),!mt(c)||!a&&!f){e.next=11;break}return ee(p=i[u],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,xt(c,p,a).then((function(e){e&&(r[u]=e||r[u])}));case 11:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=9;break}return e.delegateYield(u(c),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:c++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t,n){return Et.apply(this,arguments)}function Et(){return(Et=c(s().mark((function e(t,n,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:J.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:J.error,error:e.t0});case 14:return e.abrupt("return",{type:J.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function Tt(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Ct(e,t){var n="string"===typeof t?ae(t).search:t.search;if(e[e.length-1].route.index&&Tt(n||""))return e[e.length-1];var r=Ee(e);return r[r.length-1]}function jt(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function Pt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mt(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function It(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Rt(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function At(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}var Ot=e.createContext(null);var Nt=e.createContext(null);var Lt=e.createContext(null);var Ft=e.createContext(null);var zt=e.createContext(null);var Ut=e.createContext({outlet:null,matches:[],isDataRoute:!1});var Vt=e.createContext(null);function Bt(){return null!=e.useContext(zt)}function Wt(){return Bt()||ee(!1),e.useContext(zt).location}function Gt(t,n,r){Bt()||ee(!1);var i,a=e.useContext(Ft).navigator,o=e.useContext(Ut).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,Wt());if(n){var d,f="string"===typeof n?ae(n):n;"/"===c||(null==(d=f.pathname)?void 0:d.startsWith(c))||ee(!1),i=f}else i=l;var p=i.pathname||"/",h=ce(t,{pathname:"/"===c?p:p.slice(c.length)||"/"});var v=$t(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Ce([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Ce([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(zt.Provider,{value:{location:Dt({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:m.Pop}},v):v}function Ht(){var t=function(){var t,n=e.useContext(Vt),r=Xt(Kt.UseRouteError),i=Jt(Kt.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Ae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Yt=e.createElement(Ht,null),Zt=function(t){U(r,t);var n=G(r);function r(e){var t;return F(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return L(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Ut.Provider,{value:this.props.routeContext},e.createElement(Vt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function qt(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(Ot);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Ut.Provider,{value:n},i)}function $t(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||ee(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(t,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Yt);var l=n.concat(o.slice(0,a+1)),d=function(){var n;return n=u?c:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(qt,{match:i,routeContext:{outlet:t,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(Zt,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:d(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):d()}),null)}var Kt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kt||{});function Xt(t){var n=e.useContext(Nt);return n||ee(!1),n}function Jt(t){var n=function(t){var n=e.useContext(Ut);return n||ee(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ee(!1),r.route.id}t.startTransition;function Qt(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?m.Pop:s,c=t.navigator,l=t.static,d=void 0!==l&&l;Bt()&&ee(!1);var f=r.replace(/^\/*/,"/"),p=e.useMemo((function(){return{basename:f,navigator:c,static:d}}),[f,c,d]);"string"===typeof o&&(o=ae(o));var h=o,v=h.pathname,g=void 0===v?"/":v,y=h.search,k=void 0===y?"":y,b=h.hash,_=void 0===b?"":b,w=h.state,S=void 0===w?null:w,x=h.key,E=void 0===x?"default":x,T=e.useMemo((function(){var e=Se(g,f);return null==e?null:{location:{pathname:e,search:k,hash:_,state:S,key:E},navigationType:u}}),[f,g,k,_,S,E,u]);return null==T?null:e.createElement(Ft.Provider,{value:p},e.createElement(zt.Provider,{children:a,value:T}))}var en=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(en||{}),tn=new Promise((function(){}));e.Component;function nn(t){var n={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(n,{element:e.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),n}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function an(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=rn({},t,{errors:on(t.errors)})),t}function on(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=h(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new Re(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){var s=window[o.__subType];if("function"===typeof s)try{var u=new s(o.message);u.stack="",t[a]=u}catch(l){}}if(null==t[a]){var c=new Error(o.message);c.stack="",t[a]=c}}else t[a]=o}return t}var sn=e.createContext({isTransitioning:!1});var un=t.startTransition;var cn=L((function e(){var t=this;F(this,e),this.status="pending",this.promise=new Promise((function(e,n){t.resolve=function(n){"pending"===t.status&&(t.status="resolved",e(n))},t.reject=function(e){"pending"===t.status&&(t.status="rejected",n(e))}}))}));function ln(t){var n=t.fallbackElement,r=t.router,i=t.future,a=h(e.useState(r.state),2),o=a[0],u=a[1],l=h(e.useState(),2),d=l[0],f=l[1],p=h(e.useState({isTransitioning:!1}),2),m=p[0],v=p[1],g=h(e.useState(),2),y=g[0],k=g[1],b=h(e.useState(),2),_=b[0],w=b[1],S=h(e.useState(),2),x=S[0],E=S[1],T=(i||{}).v7_startTransition,C=e.useCallback((function(e){T?function(e){un?un(e):e()}(e):e()}),[T]),j=e.useCallback((function(e,t){var n=t.unstable_viewTransitionOpts;n&&null!=r.window&&"function"===typeof r.window.document.startViewTransition?_&&y?(y.resolve(),_.skipTransition(),E({state:e,currentLocation:n.currentLocation,nextLocation:n.nextLocation})):(f(e),v({isTransitioning:!0,currentLocation:n.currentLocation,nextLocation:n.nextLocation})):C((function(){return u(e)}))}),[C,_,y,r.window]);e.useLayoutEffect((function(){return r.subscribe(j)}),[r,j]),e.useEffect((function(){m.isTransitioning&&k(new cn)}),[m.isTransitioning]),e.useEffect((function(){if(y&&d&&r.window){var e=d,t=y.promise,n=r.window.document.startViewTransition(c(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C((function(){return u(e)})),n.next=3,t;case 3:case"end":return n.stop()}}),n)}))));n.finished.finally((function(){k(void 0),w(void 0),f(void 0),v({isTransitioning:!1})})),w(n)}}),[C,d,y,r.window]),e.useEffect((function(){y&&d&&o.location.key===d.location.key&&y.resolve()}),[y,_,o.location,d]),e.useEffect((function(){!m.isTransitioning&&x&&(f(x.state),v({isTransitioning:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),E(void 0))}),[m.isTransitioning,x]);var P=e.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),M=r.basename||"/",I=e.useMemo((function(){return{router:r,navigator:P,static:!1,basename:M}}),[r,P,M]);return e.createElement(e.Fragment,null,e.createElement(Ot.Provider,{value:I},e.createElement(Nt.Provider,{value:o},e.createElement(sn.Provider,{value:m},e.createElement(Qt,{basename:M,location:o.location,navigationType:o.historyAction,navigator:P},o.initialized?e.createElement(dn,{routes:r.routes,state:o}):n)))),null)}function dn(e){return Gt(e.routes,void 0,e.state)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var fn,pn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fn||(fn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(pn||(pn={}));var hn=function(e,t){return Ye({basename:null==t?void 0:t.basename,future:rn({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),oe((function(e,t){var n=e.location;return re("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ie(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||an(),routes:e,mapRouteProperties:nn,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,i.jsx)(a,{})},{path:"dolbyone2one",element:(0,i.jsx)(R,{})}]);D.s(document.getElementById("root")).render((0,i.jsx)(ln,{router:hn})),A()}()}();
//# sourceMappingURL=main.9d1f153a.js.map